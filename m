Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A63307A0A5
	for <lists+nouveau@lfdr.de>; Tue, 30 Jul 2019 07:52:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0B9436E3F2;
	Tue, 30 Jul 2019 05:52:38 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from bombadil.infradead.org (bombadil.infradead.org
 [IPv6:2607:7c80:54:e::133])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E2B566E3EE;
 Tue, 30 Jul 2019 05:52:35 +0000 (UTC)
Received: from [195.167.85.94] (helo=localhost)
 by bombadil.infradead.org with esmtpsa (Exim 4.92 #3 (Red Hat Linux))
 id 1hsL3o-0001Iz-GC; Tue, 30 Jul 2019 05:52:32 +0000
From: Christoph Hellwig <hch@lst.de>
To: =?UTF-8?q?J=C3=A9r=C3=B4me=20Glisse?= <jglisse@redhat.com>,
 Jason Gunthorpe <jgg@mellanox.com>, Ben Skeggs <bskeggs@redhat.com>,
 Felix Kuehling <Felix.Kuehling@amd.com>
Date: Tue, 30 Jul 2019 08:51:56 +0300
Message-Id: <20190730055203.28467-7-hch@lst.de>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190730055203.28467-1-hch@lst.de>
References: <20190730055203.28467-1-hch@lst.de>
MIME-Version: 1.0
X-SRS-Rewrite: SMTP reverse-path rewritten from <hch@infradead.org> by
 bombadil.infradead.org. See http://www.infradead.org/rpr.html
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; 
 d=infradead.org; s=bombadil.20170209; h=Content-Transfer-Encoding:
 MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From:Sender
 :Reply-To:Content-Type:Content-ID:Content-Description:Resent-Date:Resent-From
 :Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:
 List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=gUN1ysYphbaom7o3SlTt3jkBtHdaNGKW2RkJa25nOPs=; b=HAiKpX1EVNOPs9UAiXpBK7RtOr
 zWukhNQVhuMZwGpox0xkimd9OFR2Ina8VGIPXExI+LErg/VnNm4GKw3KhxEHcuS6/LRmr138bugv5
 vNpJF/+SAhyuf8MH5RCG47zhWLt0kP5bM2tUSa6/9lHeqc4acuR/Q/iWZCz3+2uVGPw4DAQIlnpoh
 fnaTSPET4vYNsZeP/lcOk31QyTLoeN7vASsyNjZ/ynhufNdRmdM/Jzi+1OeWixGX72h02GqhtFvg4
 YlZr6QULf+iUQhX4wBYbOqwf03LD8S1F5OaHDFK8eFbdtQ5tnFaet/ViEYVOX5jwe2IVoZ0qJck9p
 yoAN3cVQ==;
Subject: [Nouveau] [PATCH 06/13] mm: remove superflous arguments from
 hmm_range_register
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: Ralph Campbell <rcampbell@nvidia.com>, nouveau@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, amd-gfx@lists.freedesktop.org,
 linux-mm@kvack.org, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

VGhlIHN0YXJ0LCBlbmQgYW5kIHBhZ2Vfc2hpZnQgdmFsdWVzIGFyZSBhbGwgc2F2ZWQgaW4gdGhl
IHJhbmdlCnN0cnVjdHVyZSwgc28gd2UgbWlnaHQgYXMgd2VsbCB1c2UgdGhhdCBmb3IgYXJndW1l
bnQgcGFzc2luZy4KClNpZ25lZC1vZmYtYnk6IENocmlzdG9waCBIZWxsd2lnIDxoY2hAbHN0LmRl
PgotLS0KIERvY3VtZW50YXRpb24vdm0vaG1tLnJzdCAgICAgICAgICAgICAgICB8ICAyICstCiBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMgfCAgNyArKysrKy0tCiBkcml2
ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3N2bS5jICAgfCAgNSArKy0tLQogaW5jbHVkZS9s
aW51eC9obW0uaCAgICAgICAgICAgICAgICAgICAgIHwgIDYgKy0tLS0tCiBtbS9obW0uYyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAyMCArKysrKy0tLS0tLS0tLS0tLS0tLQogNSBm
aWxlcyBjaGFuZ2VkLCAxNCBpbnNlcnRpb25zKCspLCAyNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9Eb2N1bWVudGF0aW9uL3ZtL2htbS5yc3QgYi9Eb2N1bWVudGF0aW9uL3ZtL2htbS5yc3QK
aW5kZXggZGRjYjVjYThiMjk2Li5lNjNjMTFmN2UwZTAgMTAwNjQ0Ci0tLSBhL0RvY3VtZW50YXRp
b24vdm0vaG1tLnJzdAorKysgYi9Eb2N1bWVudGF0aW9uL3ZtL2htbS5yc3QKQEAgLTIyMiw3ICsy
MjIsNyBAQCBUaGUgdXNhZ2UgcGF0dGVybiBpczo6CiAgICAgICByYW5nZS5mbGFncyA9IC4uLjsK
ICAgICAgIHJhbmdlLnZhbHVlcyA9IC4uLjsKICAgICAgIHJhbmdlLnBmbl9zaGlmdCA9IC4uLjsK
LSAgICAgIGhtbV9yYW5nZV9yZWdpc3RlcigmcmFuZ2UpOworICAgICAgaG1tX3JhbmdlX3JlZ2lz
dGVyKCZyYW5nZSwgbWlycm9yKTsKIAogICAgICAgLyoKICAgICAgICAqIEp1c3Qgd2FpdCBmb3Ig
cmFuZ2UgdG8gYmUgdmFsaWQsIHNhZmUgdG8gaWdub3JlIHJldHVybiB2YWx1ZSBhcyB3ZQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jCmluZGV4IGYwODIxNjM4YmJjNi4uNzFk
NmU3MDg3YjBiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
dHRtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jCkBAIC04
MTgsOCArODE4LDExIEBAIGludCBhbWRncHVfdHRtX3R0X2dldF91c2VyX3BhZ2VzKHN0cnVjdCBh
bWRncHVfYm8gKmJvLCBzdHJ1Y3QgcGFnZSAqKnBhZ2VzKQogCQkJCTAgOiByYW5nZS0+ZmxhZ3Nb
SE1NX1BGTl9XUklURV07CiAJcmFuZ2UtPnBmbl9mbGFnc19tYXNrID0gMDsKIAlyYW5nZS0+cGZu
cyA9IHBmbnM7Ci0JaG1tX3JhbmdlX3JlZ2lzdGVyKHJhbmdlLCBtaXJyb3IsIHN0YXJ0LAotCQkJ
ICAgc3RhcnQgKyB0dG0tPm51bV9wYWdlcyAqIFBBR0VfU0laRSwgUEFHRV9TSElGVCk7CisJcmFu
Z2UtPnBhZ2Vfc2hpZnQgPSBQQUdFX1NISUZUOworCXJhbmdlLT5zdGFydCA9IHN0YXJ0OworCXJh
bmdlLT5lbmQgPSBzdGFydCArIHR0bS0+bnVtX3BhZ2VzICogUEFHRV9TSVpFOworCisJaG1tX3Jh
bmdlX3JlZ2lzdGVyKHJhbmdlLCBtaXJyb3IpOwogCiAJLyoKIAkgKiBKdXN0IHdhaXQgZm9yIHJh
bmdlIHRvIGJlIHZhbGlkLCBzYWZlIHRvIGlnbm9yZSByZXR1cm4gdmFsdWUgYXMgd2UKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfc3ZtLmMgYi9kcml2ZXJzL2dw
dS9kcm0vbm91dmVhdS9ub3V2ZWF1X3N2bS5jCmluZGV4IGI4ODlkNWVjNGM3ZS4uNDBlNzA2MjM0
NTU0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3N2bS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfc3ZtLmMKQEAgLTQ5Miw5ICs0OTIs
NyBAQCBub3V2ZWF1X3JhbmdlX2ZhdWx0KHN0cnVjdCBub3V2ZWF1X3N2bW0gKnN2bW0sIHN0cnVj
dCBobW1fcmFuZ2UgKnJhbmdlKQogCXJhbmdlLT5kZWZhdWx0X2ZsYWdzID0gMDsKIAlyYW5nZS0+
cGZuX2ZsYWdzX21hc2sgPSAtMVVMOwogCi0JcmV0ID0gaG1tX3JhbmdlX3JlZ2lzdGVyKHJhbmdl
LCAmc3ZtbS0+bWlycm9yLAotCQkJCSByYW5nZS0+c3RhcnQsIHJhbmdlLT5lbmQsCi0JCQkJIFBB
R0VfU0hJRlQpOworCXJldCA9IGhtbV9yYW5nZV9yZWdpc3RlcihyYW5nZSwgJnN2bW0tPm1pcnJv
cik7CiAJaWYgKHJldCkgewogCQl1cF9yZWFkKCZyYW5nZS0+aG1tLT5tbS0+bW1hcF9zZW0pOwog
CQlyZXR1cm4gKGludClyZXQ7CkBAIC02ODIsNiArNjgwLDcgQEAgbm91dmVhdV9zdm1fZmF1bHQo
c3RydWN0IG52aWZfbm90aWZ5ICpub3RpZnkpCiAJCQkgYXJncy5pLnAuYWRkciArIGFyZ3MuaS5w
LnNpemUsIGZuIC0gZmkpOwogCiAJCS8qIEhhdmUgSE1NIGZhdWx0IHBhZ2VzIHdpdGhpbiB0aGUg
ZmF1bHQgd2luZG93IHRvIHRoZSBHUFUuICovCisJCXJhbmdlLnBhZ2Vfc2hpZnQgPSBQQUdFX1NI
SUZUOwogCQlyYW5nZS5zdGFydCA9IGFyZ3MuaS5wLmFkZHI7CiAJCXJhbmdlLmVuZCA9IGFyZ3Mu
aS5wLmFkZHIgKyBhcmdzLmkucC5zaXplOwogCQlyYW5nZS5wZm5zID0gYXJncy5waHlzOwpkaWZm
IC0tZ2l0IGEvaW5jbHVkZS9saW51eC9obW0uaCBiL2luY2x1ZGUvbGludXgvaG1tLmgKaW5kZXgg
NTliZTBhYTI0NzZkLi5jNWI1MTM3NmI0NTMgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgvaG1t
LmgKKysrIGIvaW5jbHVkZS9saW51eC9obW0uaApAQCAtNDAwLDExICs0MDAsNyBAQCB2b2lkIGht
bV9taXJyb3JfdW5yZWdpc3RlcihzdHJ1Y3QgaG1tX21pcnJvciAqbWlycm9yKTsKIC8qCiAgKiBQ
bGVhc2Ugc2VlIERvY3VtZW50YXRpb24vdm0vaG1tLnJzdCBmb3IgaG93IHRvIHVzZSB0aGUgcmFu
Z2UgQVBJLgogICovCi1pbnQgaG1tX3JhbmdlX3JlZ2lzdGVyKHN0cnVjdCBobW1fcmFuZ2UgKnJh
bmdlLAotCQkgICAgICAgc3RydWN0IGhtbV9taXJyb3IgKm1pcnJvciwKLQkJICAgICAgIHVuc2ln
bmVkIGxvbmcgc3RhcnQsCi0JCSAgICAgICB1bnNpZ25lZCBsb25nIGVuZCwKLQkJICAgICAgIHVu
c2lnbmVkIHBhZ2Vfc2hpZnQpOworaW50IGhtbV9yYW5nZV9yZWdpc3RlcihzdHJ1Y3QgaG1tX3Jh
bmdlICpyYW5nZSwgc3RydWN0IGhtbV9taXJyb3IgKm1pcnJvcik7CiB2b2lkIGhtbV9yYW5nZV91
bnJlZ2lzdGVyKHN0cnVjdCBobW1fcmFuZ2UgKnJhbmdlKTsKIAogLyoKZGlmZiAtLWdpdCBhL21t
L2htbS5jIGIvbW0vaG1tLmMKaW5kZXggM2EzODUyNjYwNzU3Li45MjY3MzVhM2FlZjkgMTAwNjQ0
Ci0tLSBhL21tL2htbS5jCisrKyBiL21tL2htbS5jCkBAIC04NDMsMzUgKzg0MywyNSBAQCBzdGF0
aWMgdm9pZCBobW1fcGZuc19jbGVhcihzdHJ1Y3QgaG1tX3JhbmdlICpyYW5nZSwKICAqIGhtbV9y
YW5nZV9yZWdpc3RlcigpIC0gc3RhcnQgdHJhY2tpbmcgY2hhbmdlIHRvIENQVSBwYWdlIHRhYmxl
IG92ZXIgYSByYW5nZQogICogQHJhbmdlOiByYW5nZQogICogQG1tOiB0aGUgbW0gc3RydWN0IGZv
ciB0aGUgcmFuZ2Ugb2YgdmlydHVhbCBhZGRyZXNzCi0gKiBAc3RhcnQ6IHN0YXJ0IHZpcnR1YWwg
YWRkcmVzcyAoaW5jbHVzaXZlKQotICogQGVuZDogZW5kIHZpcnR1YWwgYWRkcmVzcyAoZXhjbHVz
aXZlKQotICogQHBhZ2Vfc2hpZnQ6IGV4cGVjdCBwYWdlIHNoaWZ0IGZvciB0aGUgcmFuZ2UKKyAq
CiAgKiBSZXR1cm46IDAgb24gc3VjY2VzcywgLUVGQVVMVCBpZiB0aGUgYWRkcmVzcyBzcGFjZSBp
cyBubyBsb25nZXIgdmFsaWQKICAqCiAgKiBUcmFjayB1cGRhdGVzIHRvIHRoZSBDUFUgcGFnZSB0
YWJsZSBzZWUgaW5jbHVkZS9saW51eC9obW0uaAogICovCi1pbnQgaG1tX3JhbmdlX3JlZ2lzdGVy
KHN0cnVjdCBobW1fcmFuZ2UgKnJhbmdlLAotCQkgICAgICAgc3RydWN0IGhtbV9taXJyb3IgKm1p
cnJvciwKLQkJICAgICAgIHVuc2lnbmVkIGxvbmcgc3RhcnQsCi0JCSAgICAgICB1bnNpZ25lZCBs
b25nIGVuZCwKLQkJICAgICAgIHVuc2lnbmVkIHBhZ2Vfc2hpZnQpCitpbnQgaG1tX3JhbmdlX3Jl
Z2lzdGVyKHN0cnVjdCBobW1fcmFuZ2UgKnJhbmdlLCBzdHJ1Y3QgaG1tX21pcnJvciAqbWlycm9y
KQogewotCXVuc2lnbmVkIGxvbmcgbWFzayA9ICgoMVVMIDw8IHBhZ2Vfc2hpZnQpIC0gMVVMKTsK
Kwl1bnNpZ25lZCBsb25nIG1hc2sgPSAoKDFVTCA8PCByYW5nZS0+cGFnZV9zaGlmdCkgLSAxVUwp
OwogCXN0cnVjdCBobW0gKmhtbSA9IG1pcnJvci0+aG1tOwogCXVuc2lnbmVkIGxvbmcgZmxhZ3M7
CiAKIAlyYW5nZS0+dmFsaWQgPSBmYWxzZTsKIAlyYW5nZS0+aG1tID0gTlVMTDsKIAotCWlmICgo
c3RhcnQgJiBtYXNrKSB8fCAoZW5kICYgbWFzaykpCisJaWYgKChyYW5nZS0+c3RhcnQgJiBtYXNr
KSB8fCAocmFuZ2UtPmVuZCAmIG1hc2spKQogCQlyZXR1cm4gLUVJTlZBTDsKLQlpZiAoc3RhcnQg
Pj0gZW5kKQorCWlmIChyYW5nZS0+c3RhcnQgPj0gcmFuZ2UtPmVuZCkKIAkJcmV0dXJuIC1FSU5W
QUw7CiAKLQlyYW5nZS0+cGFnZV9zaGlmdCA9IHBhZ2Vfc2hpZnQ7Ci0JcmFuZ2UtPnN0YXJ0ID0g
c3RhcnQ7Ci0JcmFuZ2UtPmVuZCA9IGVuZDsKLQogCS8qIFByZXZlbnQgaG1tX3JlbGVhc2UoKSBm
cm9tIHJ1bm5pbmcgd2hpbGUgdGhlIHJhbmdlIGlzIHZhbGlkICovCiAJaWYgKCFtbWdldF9ub3Rf
emVybyhobW0tPm1tKSkKIAkJcmV0dXJuIC1FRkFVTFQ7Ci0tIAoyLjIwLjEKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCk5vdXZlYXUgbWFpbGluZyBsaXN0
Ck5vdXZlYXVAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vbm91dmVhdQ==
