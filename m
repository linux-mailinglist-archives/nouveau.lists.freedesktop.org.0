Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D88283C8986
	for <lists+nouveau@lfdr.de>; Wed, 14 Jul 2021 19:15:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DF5A76E432;
	Wed, 14 Jul 2021 17:15:26 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from bombadil.infradead.org (bombadil.infradead.org
 [IPv6:2607:7c80:54:e::133])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 73BAD6E432;
 Wed, 14 Jul 2021 17:15:25 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=infradead.org; s=bombadil.20210309; h=Content-Transfer-Encoding:
 Content-Type:MIME-Version:Message-Id:Date:Subject:Cc:To:From:Sender:Reply-To:
 Content-ID:Content-Description:In-Reply-To:References;
 bh=kX9hKK1zO72+yBWFhZs3db5NllcwOVI8dLCu+ad+9IA=; b=h1H8yRGFNMYtQhBRHcFnIOv3sR
 zEehWviMROtRkkzl8inD4QviXRaSWhD1fstkFSrsLAsJgIJl8mnPR1y8D7PGX0BbyJARINlRFh1sO
 SA9dehEkYEZKmEkgs8eyJP+DM6XxfDj9nXCFeHPJ9WjgVncE1obqWnmfEFyfr5thqSYuJf6eD2Pxj
 yp9Z+hIJcaZao6RfvYpbkHHKpRt6uu4t+MEZrjIW+V4Q2+qz8eNO7a6POsxPCH1p+pg/tolpF/Omw
 IAU5ReM0eMuoCJZD/zOYZnyaoWJ0PTiSXLuk0sCTRtwpzF2LD7DHvl2SN2eaIchw/uK9JRlFjzUU0
 1iC2ckdA==;
Received: from [2601:1c0:6280:3f0::aefb] (helo=bombadil.infradead.org)
 by bombadil.infradead.org with esmtpsa (Exim 4.94.2 #2 (Red Hat Linux))
 id 1m3iTk-00EGmG-8I; Wed, 14 Jul 2021 17:15:24 +0000
From: Randy Dunlap <rdunlap@infradead.org>
To: linux-kernel@vger.kernel.org
Date: Wed, 14 Jul 2021 10:15:23 -0700
Message-Id: <20210714171523.413-1-rdunlap@infradead.org>
X-Mailer: git-send-email 2.26.2
MIME-Version: 1.0
Subject: [Nouveau] [PATCH -next] drm: nouveau: fix disp.c build when
 NOUVEAU_BACKLIGHT is not enabled
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: nouveau@lists.freedesktop.org, Randy Dunlap <rdunlap@infradead.org>,
 Ben Skeggs <bskeggs@redhat.com>, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

Rml4IGJ1aWxkIGVycm9ycyBhbmQgd2FybmluZ3Mgd2hlbgojIENPTkZJR19EUk1fTk9VVkVBVV9C
QUNLTElHSFQgaXMgbm90IHNldAoKLi4vZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAv
ZGlzcC5jOiBJbiBmdW5jdGlvbiDigJhudjUwX3Nvcl9hdG9taWNfZGlzYWJsZeKAmToKLi4vZHJp
dmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvZGlzcC5jOjE2NjU6NTI6IGVycm9yOiDigJhz
dHJ1Y3Qgbm91dmVhdV9jb25uZWN0b3LigJkgaGFzIG5vIG1lbWJlciBuYW1lZCDigJhiYWNrbGln
aHTigJkKICBzdHJ1Y3Qgbm91dmVhdV9iYWNrbGlnaHQgKmJhY2tsaWdodCA9IG52X2Nvbm5lY3Rv
ci0+YmFja2xpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgXn4KLi4vZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvZGlzcC5jOjE2
NzA6Mjg6IGVycm9yOiBkZXJlZmVyZW5jaW5nIHBvaW50ZXIgdG8gaW5jb21wbGV0ZSB0eXBlIOKA
mHN0cnVjdCBub3V2ZWF1X2JhY2tsaWdodOKAmQogIGlmIChiYWNrbGlnaHQgJiYgYmFja2xpZ2h0
LT51c2VzX2RwY2QpIHsKCmFuZCB0aGVuIGZpeCBzdWJzZXF1ZW50IGJ1aWxkIHdhcm5pbmdzIGFm
dGVyIHRoZSBhYm92ZSBhcmUgZml4ZWQ6CgouLi9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNw
bnY1MC9kaXNwLmM6IEluIGZ1bmN0aW9uIOKAmG52NTBfc29yX2F0b21pY19kaXNhYmxl4oCZOgou
Li9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmM6MTY2OTo2OiB3YXJuaW5n
OiB1bnVzZWQgdmFyaWFibGUg4oCYcmV04oCZIFstV3VudXNlZC12YXJpYWJsZV0KICBpbnQgcmV0
OwogICAgICBefn4KLi4vZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvZGlzcC5jOjE2
NjI6MjI6IHdhcm5pbmc6IHVudXNlZCB2YXJpYWJsZSDigJhkcm3igJkgWy1XdW51c2VkLXZhcmlh
YmxlXQogIHN0cnVjdCBub3V2ZWF1X2RybSAqZHJtID0gbm91dmVhdV9kcm0obnZfZW5jb2Rlci0+
YmFzZS5iYXNlLmRldik7CiAgICAgICAgICAgICAgICAgICAgICBefn4KCkZpeGVzOiA2ZWNhMzEw
ZTg5MjQgKCJkcm0vbm91dmVhdS9rbXMvbnY1MC06IEFkZCBiYXNpYyBEUENEIGJhY2tsaWdodCBz
dXBwb3J0IGZvciBub3V2ZWF1IikKU2lnbmVkLW9mZi1ieTogUmFuZHkgRHVubGFwIDxyZHVubGFw
QGluZnJhZGVhZC5vcmc+CkNjOiBCZW4gU2tlZ2dzIDxic2tlZ2dzQHJlZGhhdC5jb20+CkNjOiBk
cmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCkNjOiBub3V2ZWF1QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpDYzogTHl1ZGUgUGF1bCA8bHl1ZGVAcmVkaGF0LmNvbT4KLS0tCiBkcml2ZXJzL2dw
dS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmMgfCAgICA4ICsrKysrKy0tCiAxIGZpbGUgY2hh
bmdlZCwgNiBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQoKLS0tIGxpbnV4LW5leHQtMjAy
MTA3MTQub3JpZy9kcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9kaXNwbnY1MC9kaXNwLmMKKysrIGxp
bnV4LW5leHQtMjAyMTA3MTQvZHJpdmVycy9ncHUvZHJtL25vdXZlYXUvZGlzcG52NTAvZGlzcC5j
CkBAIC0xNjU5LDIzICsxNjU5LDI3IEBAIHN0YXRpYyB2b2lkCiBudjUwX3Nvcl9hdG9taWNfZGlz
YWJsZShzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIsIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRl
ICpzdGF0ZSkKIHsKIAlzdHJ1Y3Qgbm91dmVhdV9lbmNvZGVyICpudl9lbmNvZGVyID0gbm91dmVh
dV9lbmNvZGVyKGVuY29kZXIpOwotCXN0cnVjdCBub3V2ZWF1X2RybSAqZHJtID0gbm91dmVhdV9k
cm0obnZfZW5jb2Rlci0+YmFzZS5iYXNlLmRldik7CiAJc3RydWN0IG5vdXZlYXVfY3J0YyAqbnZf
Y3J0YyA9IG5vdXZlYXVfY3J0Yyhudl9lbmNvZGVyLT5jcnRjKTsKIAlzdHJ1Y3Qgbm91dmVhdV9j
b25uZWN0b3IgKm52X2Nvbm5lY3RvciA9IG52NTBfb3V0cF9nZXRfb2xkX2Nvbm5lY3RvcihzdGF0
ZSwgbnZfZW5jb2Rlcik7CisjaWZkZWYgQ09ORklHX0RSTV9OT1VWRUFVX0JBQ0tMSUdIVAorCXN0
cnVjdCBub3V2ZWF1X2RybSAqZHJtID0gbm91dmVhdV9kcm0obnZfZW5jb2Rlci0+YmFzZS5iYXNl
LmRldik7CiAJc3RydWN0IG5vdXZlYXVfYmFja2xpZ2h0ICpiYWNrbGlnaHQgPSBudl9jb25uZWN0
b3ItPmJhY2tsaWdodDsKKyNlbmRpZgogCXN0cnVjdCBkcm1fZHBfYXV4ICphdXggPSAmbnZfY29u
bmVjdG9yLT5hdXg7CiAJaW50IHJldDsKIAl1OCBwd3I7CiAKKyNpZmRlZiBDT05GSUdfRFJNX05P
VVZFQVVfQkFDS0xJR0hUCiAJaWYgKGJhY2tsaWdodCAmJiBiYWNrbGlnaHQtPnVzZXNfZHBjZCkg
ewogCQlyZXQgPSBkcm1fZWRwX2JhY2tsaWdodF9kaXNhYmxlKGF1eCwgJmJhY2tsaWdodC0+ZWRw
X2luZm8pOwogCQlpZiAocmV0IDwgMCkKIAkJCU5WX0VSUk9SKGRybSwgIkZhaWxlZCB0byBkaXNh
YmxlIGJhY2tsaWdodCBvbiBbQ09OTkVDVE9SOiVkOiVzXTogJWRcbiIsCiAJCQkJIG52X2Nvbm5l
Y3Rvci0+YmFzZS5iYXNlLmlkLCBudl9jb25uZWN0b3ItPmJhc2UubmFtZSwgcmV0KTsKIAl9Cisj
ZW5kaWYKIAogCWlmIChudl9lbmNvZGVyLT5kY2ItPnR5cGUgPT0gRENCX09VVFBVVF9EUCkgewot
CQlpbnQgcmV0ID0gZHJtX2RwX2RwY2RfcmVhZGIoYXV4LCBEUF9TRVRfUE9XRVIsICZwd3IpOwor
CQlyZXQgPSBkcm1fZHBfZHBjZF9yZWFkYihhdXgsIERQX1NFVF9QT1dFUiwgJnB3cik7CiAKIAkJ
aWYgKHJldCA9PSAwKSB7CiAJCQlwd3IgJj0gfkRQX1NFVF9QT1dFUl9NQVNLOwpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpOb3V2ZWF1IG1haWxpbmcgbGlz
dApOb3V2ZWF1QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL25vdXZlYXUK
