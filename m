Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 53E8A251A5
	for <lists+nouveau@lfdr.de>; Tue, 21 May 2019 16:13:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B7B4B8935B;
	Tue, 21 May 2019 14:13:19 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CD5EC8935B
 for <nouveau@lists.freedesktop.org>; Tue, 21 May 2019 14:13:18 +0000 (UTC)
Received: from localhost (173-25-83-245.client.mchsi.com [173.25.83.245])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 5A6A72173C;
 Tue, 21 May 2019 14:13:18 +0000 (UTC)
Date: Tue, 21 May 2019 09:13:17 -0500
From: Bjorn Helgaas <helgaas@kernel.org>
To: Karol Herbst <kherbst@redhat.com>
Message-ID: <20190521141317.GD57618@google.com>
References: <20190507201245.9295-1-kherbst@redhat.com>
 <20190507201245.9295-5-kherbst@redhat.com>
 <20190520211933.GA57618@google.com>
 <CACO55tsHi+4gRMC=XqOypJttztKNe5oKxxk0eqEVxGZoMzS+4Q@mail.gmail.com>
 <20190521131033.GC57618@google.com>
 <CACO55ts=u7aZ1uZYJ4eMZPvSycwYpzr-W6Xn8oDBLrxsivLOAw@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <CACO55ts=u7aZ1uZYJ4eMZPvSycwYpzr-W6Xn8oDBLrxsivLOAw@mail.gmail.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=kernel.org; s=default; t=1558447998;
 bh=SyVKsGwREzZZGkOPILB3RUrWeHrmj1KfgVEx9b0kiN0=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=xdVy/D/T0/iuK8zp3WZ6KcGKrbd+Wzesa4KmGyMcBcX556vESxMFF85rc55aJv2IZ
 UPRzbbHirtWeOONxWzYTTLphWc0E1IQuZoXEtH40hp5dmx/WQ2NV9sKClm7x5WnDEN
 8BCxVvsSP39+S/vjhHWdSYkbn73FszC/X4+5n3PA=
Subject: Re: [Nouveau] [PATCH v2 4/4] pci: save the boot pcie link speed and
 restore it on fini
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: nouveau <nouveau@lists.freedesktop.org>, linux-pci@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

T24gVHVlLCBNYXkgMjEsIDIwMTkgYXQgMDM6Mjg6NDhQTSArMDIwMCwgS2Fyb2wgSGVyYnN0IHdy
b3RlOgo+IE9uIFR1ZSwgTWF5IDIxLCAyMDE5IGF0IDM6MTEgUE0gQmpvcm4gSGVsZ2FhcyA8aGVs
Z2Fhc0BrZXJuZWwub3JnPiB3cm90ZToKPiA+IE9uIFR1ZSwgTWF5IDIxLCAyMDE5IGF0IDEyOjMw
OjM4QU0gKzAyMDAsIEthcm9sIEhlcmJzdCB3cm90ZToKPiA+ID4gT24gTW9uLCBNYXkgMjAsIDIw
MTkgYXQgMTE6MjAgUE0gQmpvcm4gSGVsZ2FhcyA8aGVsZ2Fhc0BrZXJuZWwub3JnPiB3cm90ZToK
PiA+ID4gPiBPbiBUdWUsIE1heSAwNywgMjAxOSBhdCAxMDoxMjo0NVBNICswMjAwLCBLYXJvbCBI
ZXJic3Qgd3JvdGU6Cj4gPiA+ID4gPiBBcHBlcmFudGx5IHRoaW5ncyBnbyBzb3V0aCBpZiB3ZSBz
dXNwZW5kIHRoZSBkZXZpY2Ugd2l0aCBhIGRpZmZlcmVudCBQQ0lFCj4gPiA+ID4gPiBsaW5rIHNw
ZWVkIHNldCB0aGFuIGl0IGdvdCBib290ZWQgd2l0aC4gRml4ZXMgcnVudGltZSBzdXNwZW5kIG9u
IG15IGdwMTA3Lgo+ID4gPiA+ID4KPiA+ID4gPiA+IFRoaXMgYWxsIGxvb2tzIGxpa2Ugc29tZSBi
dWcgaW5zaWRlIHRoZSBwY2kgc3Vic3lzdGVtIGFuZCBJIHdvdWxkIHByZWZlciBhCj4gPiA+ID4g
PiBmaXggdGhlcmUgaW5zdGVhZCBvZiBub3V2ZWF1LCBidXQgbWF5YmUgdGhlcmUgaXMgbm8gcmVh
bCBuaWNlIHdheSBvZiBkb2luZwo+ID4gPiA+ID4gdGhhdCBvdXRzaWRlIG9mIGRyaXZlcnM/Cj4g
PiA+ID4KPiA+ID4gPiBJIGFncmVlIGl0IHdvdWxkIGJlIG5pY2UgdG8gZml4IHRoaXMgaW4gdGhl
IFBDSSBjb3JlIGlmIHRoYXQncwo+ID4gPiA+IGZlYXNpYmxlLgo+ID4gPiA+Cj4gPiA+ID4gSXQg
bG9va3MgbGlrZSB0aGlzIGRyaXZlciBjaGFuZ2VzIHRoZSBQQ0llIGxpbmsgc3BlZWQgdXNpbmcg
c29tZQo+ID4gPiA+IGRldmljZS1zcGVjaWZpYyBtZWNoYW5pc20uICBXaGVuIHdlIHN1c3BlbmQs
IHdlIHB1dCB0aGUgZGV2aWNlIGluCj4gPiA+ID4gRDNjb2xkLCBzbyBpdCBsb3NlcyBhbGwgaXRz
IHN0YXRlLiAgV2hlbiB3ZSByZXN1bWUsIHRoZSBsaW5rIHByb2JhYmx5Cj4gPiA+ID4gY29tZXMg
dXAgYXQgdGhlIGJvb3Qgc3BlZWQgYmVjYXVzZSBub3RoaW5nIGRpZCB0aGF0IGRldmljZS1zcGVj
aWZpYwo+ID4gPiA+IG1hZ2ljIHRvIGNoYW5nZSBpdCwgc28geW91IHByb2JhYmx5IGVuZCB1cCB3
aXRoIHRoZSBsaW5rIGJlaW5nIHNsb3cKPiA+ID4gPiBidXQgdGhlIGRyaXZlciB0aGlua2luZyBp
dCdzIGNvbmZpZ3VyZWQgdG8gYmUgZmFzdCwgYW5kIG1heWJlIHRoYXQKPiA+ID4gPiBjb21iaW5h
dGlvbiBkb2Vzbid0IHdvcmsuCj4gPiA+ID4KPiA+ID4gPiBJZiBpdCByZXF1aXJlcyBzb21ldGhp
bmcgZGV2aWNlLXNwZWNpZmljIHRvIGNoYW5nZSB0aGF0IGxpbmsgc3BlZWQsIEkKPiA+ID4gPiBk
b24ndCBrbm93IGhvdyB0byBwdXQgdGhhdCBpbiB0aGUgUENJIGNvcmUuICBCdXQgbWF5YmUgSSdt
IG1pc3NpbmcKPiA+ID4gPiBzb21ldGhpbmc/Cj4gPiA+ID4KPiA+ID4gPiBQZXIgdGhlIFBDSWUg
c3BlYyAocjQuMCwgc2VjIDEuMik6Cj4gPiA+ID4KPiA+ID4gPiAgIEluaXRpYWxpemF0aW9uIOKA
kyBEdXJpbmcgaGFyZHdhcmUgaW5pdGlhbGl6YXRpb24sIGVhY2ggUENJIEV4cHJlc3MKPiA+ID4g
PiAgIExpbmsgaXMgc2V0IHVwIGZvbGxvd2luZyBhIG5lZ290aWF0aW9uIG9mIExhbmUgd2lkdGhz
IGFuZCBmcmVxdWVuY3kKPiA+ID4gPiAgIG9mIG9wZXJhdGlvbiBieSB0aGUgdHdvIGFnZW50cyBh
dCBlYWNoIGVuZCBvZiB0aGUgTGluay4gTm8gZmlybXdhcmUKPiA+ID4gPiAgIG9yIG9wZXJhdGlu
ZyBzeXN0ZW0gc29mdHdhcmUgaXMgaW52b2x2ZWQuCj4gPiA+ID4KPiA+ID4gPiBJIGhhdmUgYmVl
biBhc3N1bWluZyB0aGF0IHRoaXMgbWVhbnMgZGV2aWNlLXNwZWNpZmljIGxpbmsgc3BlZWQKPiA+
ID4gPiBtYW5hZ2VtZW50IGlzIG91dCBvZiBzcGVjLCBidXQgaXQgc2VlbXMgcHJldHR5IGNvbW1v
biB0aGF0IGRldmljZXMKPiA+ID4gPiBkb24ndCBjb21lIHVwIGJ5IHRoZW1zZWx2ZXMgYXQgdGhl
IGZhc3Rlc3QgcG9zc2libGUgbGluayBzcGVlZC4gIFNvCj4gPiA+ID4gbWF5YmUgdGhlIHNwZWMg
anVzdCBpbnRlbmRzIHRoYXQgZGV2aWNlcyBjYW4gb3BlcmF0ZSBhdCAqc29tZSogdmFsaWQKPiA+
ID4gPiBzcGVlZC4KPiA+ID4KPiA+ID4gSSB3b3VsZCBleHBlY3QgdGhhdCBkZXZpY2VzIGtpbmQg
b2YgaGF2ZSB0byBmaWd1cmUgb3V0IHdoYXQgdGhleSBjYW4KPiA+ID4gb3BlcmF0ZSBvbiBhbmQg
dGhlIG9wZXJhdGluZyBzeXN0ZW0ga2luZCBvZiBqdXN0IGNoZWNrcyB3aGF0IHRoZQo+ID4gPiBj
dXJyZW50IHN0YXRlIGlzIGFuZCBkb2Vzbid0IHRyeSB0byAicmVzdG9yZSIgdGhlIG9sZCBzdGF0
ZSBvcgo+ID4gPiBzb21ldGhpbmc/Cj4gPgo+ID4gVGhlIGRldmljZXMgYXQgZWFjaCBlbmQgb2Yg
dGhlIGxpbmsgbmVnb3RpYXRlIHRoZSB3aWR0aCBhbmQgc3BlZWQgb2YKPiA+IHRoZSBsaW5rLiAg
VGhpcyBpcyBkb25lIGRpcmVjdGx5IGJ5IHRoZSBoYXJkd2FyZSB3aXRob3V0IGFueSBoZWxwIGZy
b20KPiA+IHRoZSBPUy4KPiA+Cj4gPiBUaGUgT1MgY2FuIHJlYWQgdGhlIGN1cnJlbnQgbGluayBz
dGF0ZSAoQ3VycmVudCBMaW5rIFNwZWVkIGFuZAo+ID4gTmVnb3RpYXRlZCBMaW5rIFdpZHRoLCBi
b3RoIGluIHRoZSBMaW5rIFN0YXR1cyByZWdpc3RlcikuICBUaGUgT1MgaGFzCj4gPiB2ZXJ5IGxp
dHRsZSBjb250cm9sIG92ZXIgdGhhdCBzdGF0ZS4gIEl0IGNhbid0IGRpcmVjdGx5IHJlc3RvcmUg
dGhlCj4gPiBzdGF0ZSBiZWNhdXNlIHRoZSBoYXJkd2FyZSBoYXMgdG8gbmVnb3RpYXRlIGEgd2lk
dGggJiBzcGVlZCB0aGF0Cj4gPiByZXN1bHQgaW4gcmVsaWFibGUgb3BlcmF0aW9uLgo+ID4KPiA+
ID4gV2UgZG9uJ3QgZG8gYW55dGhpbmcgaW4gdGhlIGRyaXZlciBhZnRlciB0aGUgZGV2aWNlIHdh
cyBzdXNwZW5kZWQuIEFuZAo+ID4gPiB0aGUgMHg4ODAwMCBpcyBhIG1pcnJvciBvZiB0aGUgUENJ
IGNvbmZpZyBzcGFjZSwgYnV0IHdlIGFsc28gZ290IHNvbWUKPiA+ID4gUENJZSBzdHVmZiBhdCAw
eDhjMDAwIHdoaWNoIGlzIHVzZWQgYnkgbmV3ZXIgR1BVcyBmb3IgZ2VuMyBzdHVmZgo+ID4gPiBl
c3NlbnRpYWxseS4gSSBoYXZlIG5vIGlkZWEgaG93IG11Y2ggb2YgdGhpcyBpcyBwYXJ0IG9mIHRo
ZSBhY3R1YWwgcGNpCj4gPiA+IHN0YW5kYXJkIGFuZCBob3cgbXVjaCBpcyBkcml2ZXIgc3BlY2lm
aWMuIEJ1dCB0aGUgZHJpdmVyIGFsc28gd2FudHMgdG8KPiA+ID4gaGF2ZSBzb21lIGNvbnRyb2wg
b3ZlciB0aGUgbGluayBzcGVlZCBhcyBpdCdzIHRpZ2h0IHRvIHBlcmZvcm1hbmNlCj4gPiA+IHN0
YXRlcyBvbiBHUFUuCj4gPgo+ID4gQXMgZmFyIGFzIEknbSBhd2FyZSwgdGhlcmUgaXMgbm8gZ2Vu
ZXJpYyBQQ0llIHdheSBmb3IgdGhlIE9TIHRvCj4gPiBpbmZsdWVuY2UgdGhlIGxpbmsgd2lkdGgg
b3Igc3BlZWQuICBJZiB0aGUgR1BVIGRyaXZlciBuZWVkcyB0byBkbwo+ID4gdGhhdCwgaXQgd291
bGQgYmUgdmlhIHNvbWUgZGV2aWNlLXNwZWNpZmljIG1lY2hhbmlzbS4KPiA+Cj4gPiA+IFRoZSBi
aWcgaXNzdWUgaGVyZSBpcyBqdXN0LCB0aGF0IHRoZSBHUFUgYm9vdHMgd2l0aCA4LjAsIHNvbWUg
b24tZ3B1Cj4gPiA+IGluaXQgbWVjaGFuaXNtIGRlY3JlYXNlcyBpdCB0byAyLjUuIElmIHdlIHN1
c3BlbmQsIHRoZSBHUFUgb3IgYXQgbGVhc3QKPiA+ID4gdGhlIGNvbW11bmljYXRpb24gd2l0aCB0
aGUgY29udHJvbGxlciBpcyBicm9rZW4uIEJ1dCBpZiB3ZSBzZXQgaXQgdG8KPiA+ID4gdGhlIGJv
b3Qgc3BlZWQsIHJlc3VtaW5nIHRoZSBHUFUganVzdCB3b3Jrcy4gU28gbXkgYXNzdW1wdGlvbiB3
YXMsCj4gPiA+IHRoYXQgX3NvbWV0aGluZ18gKG1pZ2h0IGl0IGJlIHRoZSBjb250cm9sbGVyIG9y
IHRoZSBwY2kgc3Vic3lzdGVtKQo+ID4gPiB0cmllcyB0byBmb3JjZSB0byBvcGVyYXRlIG9uIGFu
IGludmFsaWQgbGluayBzcGVlZCBhbmQgYmVjYXVzZSB0aGUKPiA+ID4gYnJpZGdlIGNvbnRyb2xs
ZXIgaXMgYWN0dWFsbHkgcG93ZXJlZCBkb3duIGFzIHdlbGwgKGFzIGFsbCBjaGlsZHJlbgo+ID4g
PiBhcmUgaW4gRDNjb2xkKSBJIGNvdWxkIGltYWdpbmUgdGhhdCBzb21ldGhpbmcgaW4gdGhlIHBj
aSBzdWJzeXN0ZW0KPiA+ID4gYWN0dWFsbHkgcmVzdG9yZXMgdGhlIHN0YXRlIHdoaWNoIGxldHMg
dGhlIGNvbnRyb2xsZXIgZmFpbCB0bwo+ID4gPiBlc3RhYmxpc2ggY29tbXVuaWNhdGlvbiBhZ2Fp
bj8KPiA+Cj4gPiAgIDEpIEF0IGJvb3QtdGltZSwgdGhlIFBvcnQgYW5kIHRoZSBHUFUgaGFyZHdh
cmUgbmVnb3RpYXRlIDguMCBHVC9zCj4gPiAgICAgIHdpdGhvdXQgT1MvZHJpdmVyIGludGVydmVu
dGlvbi4KPiA+Cj4gPiAgIDIpIFNvbWUgbWVjaGFuaXNtIHJlZHVjZXMgbGluayBzcGVlZCB0byAy
LjUgR1Qvcy4gIFRoaXMgcHJvYmFibHkKPiA+ICAgICAgcmVxdWlyZXMgZHJpdmVyIGludGVydmVu
dGlvbiBvciBhdCBsZWFzdCBzb21lIEFDUEkgbWV0aG9kLgo+IAo+IHRoZXJlIGlzIG5vIGRyaXZl
ciBpbnRlcnZlbnRpb24gYW5kIE5vdXZlYXUgZG9lc24ndCBjYXJlIGF0IGFsbC4gSXQncwo+IGFs
bCBkb25lIG9uIHRoZSBHUFUuIFdlIGp1c3QgdXBsb2FkIGEgc2NyaXB0IGFuZCBzb21lIGZpcm13
YXJlIG9uIHRvCj4gdGhlIEdQVS4gVGhlIHNjcmlwdCBydW5zIHRoZW4gb24gdGhlIFBNVSBpbnNp
ZGUgdGhlIEdQVSBhbmQgdGhpcwo+IHNjcmlwdCBhbHNvIGNhdXNlcyBjaGFuZ2luZyB0aGUgUENJ
ZSBsaW5rIHNldHRpbmdzLiBCdXQgZnJvbSBhIE5vdXZlYXUKPiBwb2ludCBvZiB2aWV3IHdlIGRv
bid0IGNhcmUgYWJvdXQgdGhlIGxpbmsgYmVmb3JlIG9yIGFmdGVyIHRoYXQgc2NyaXB0Cj4gd2Fz
IGludm9rZWQuIEFsc28gdGhlcmUgaXMgbm8gQUNQSSBtZXRob2QgaW52b2x2ZWQuCj4gCj4gQnV0
IGlmIHRoZXJlIGlzIHNvbWV0aGluZyB3ZSBzaG91bGQgbm90aWZ5IHBjaSBjb3JlIGFib3V0LCBt
YXliZQo+IHRoYXQncyBzb21ldGhpbmcgd2UgaGF2ZSB0byBkbyB0aGVuPwoKSSBkb24ndCB0aGlu
ayB0aGVyZSdzIGFueXRoaW5nIHRoZSBQQ0kgY29yZSBjb3VsZCBkbyB3aXRoIHRoYXQKaW5mb3Jt
YXRpb24gYW55d2F5LiAgVGhlIFBDSSBjb3JlIGRvZXNuJ3QgY2FyZSBhdCBhbGwgYWJvdXQgdGhl
IGxpbmsKc3BlZWQsIGFuZCBpdCByZWFsbHkgY2FuJ3QgaW5mbHVlbmNlIGl0IGRpcmVjdGx5LgoK
PiA+ICAgMykgU3VzcGVuZCBwdXRzIEdQVSBpbnRvIEQzY29sZCAocG93ZXJlZCBvZmYpLgo+ID4K
PiA+ICAgNCkgUmVzdW1lIHJlc3RvcmVzIEdQVSB0byBEMCwgYW5kIHRoZSBQb3J0IGFuZCBHUFUg
aGFyZHdhcmUgYWdhaW4KPiA+ICAgICAgbmVnb3RpYXRlIDguMCBHVC9zIHdpdGhvdXQgT1MvZHJp
dmVyIGludGVydmVudGlvbiwganVzdCBsaWtlIGF0Cj4gPiAgICAgIGluaXRpYWwgYm9vdC4KPiAK
PiBObywgdGhhdCBuZWdvdGlhdGlvbiBmYWlscyBhcHBhcmVudGx5IGFzIGFueSBhdHRlbXB0IHRv
IHJlYWQgYW55dGhpbmcKPiBmcm9tIHRoZSBkZXZpY2UganVzdCBmYWlscyBpbnNpZGUgcGNpIGNv
cmUuIE9yIHNvbWV0aGluZyBnb2VzIHdyb25nCj4gd2hlbiByZXN1bWluZyB0aGUgYnJpZGdlIGNv
bnRyb2xsZXIuCgpJJ20gc3VycHJpc2VkIHRoZSBuZWdvdGlhdGlvbiB3b3VsZCBmYWlsIGV2ZW4g
YWZ0ZXIgYSBwb3dlciBjeWNsZSBvZgp0aGUgZGV2aWNlLiAgQnV0IGlmIHlvdSBjYW4gYXZvaWQg
dGhlIGlzc3VlIGJ5IHJ1bm5pbmcgYW5vdGhlciBzY3JpcHQKb24gdGhlIFBNVSBiZWZvcmUgc3Vz
cGVuZCwgdGhhdCdzIHByb2JhYmx5IHdoYXQgeW91J2xsIGhhdmUgdG8gZG8uCgo+ID4gICA1KSBO
b3cgdGhlIGRyaXZlciB0aGlua3MgdGhlIEdQVSBpcyBhdCAyLjUgR1QvcyBidXQgaXQncyBhY3R1
YWxseSBhdAo+ID4gICAgICA4LjAgR1Qvcy4KPiAKPiB3aGF0IGlzIGFjdHVhbGx5IG1lYW50IGJ5
ICJkcml2ZXIiIGhlcmU/IFRoZSBwY2kgc3Vic3lzdGVtIG9yIE5vdXZlYXU/CgpJIHdhcyB0aGlu
a2luZyBOb3V2ZWF1IGJlY2F1c2UgdGhlIFBDSSBjb3JlIGRvZXNuJ3QgY2FyZSBhYm91dCB0aGUK
bGluayBzcGVlZC4KCj4gPiBXaXRob3V0IGtub3dpbmcgbW9yZSBhYm91dCB0aGUgdHJhbnNpdGlv
biB0byAyLjUgR1QvcywgSSBjYW4ndCBndWVzcwo+ID4gd2h5IHRoZSBHUFUgd291bGRuJ3Qgd29y
ayBhZnRlciByZXN1bWUuICBGcm9tIGEgUENJZSBwb2ludCBvZiB2aWV3LAo+ID4gdGhlIGxpbmsg
aXMgc3VwcG9zZWQgdG8gd29yayBhbmQgdGhlIGRldmljZSBzaG91bGQgYmUgcmVhY2hhYmxlCj4g
PiBpbmRlcGVuZGVudCBvZiB0aGUgbGluayBzcGVlZC4gIEJ1dCBtYXliZSB0aGVyZSdzIHNvbWUg
d2VpcmQKPiA+IGRlcGVuZGVuY3kgYmV0d2VlbiB0aGUgR1BVIGFuZCB0aGUgZHJpdmVyIGhlcmUu
Cj4gCj4gYnV0IHRoZSBkZXZpY2UgaXNuJ3QgcmVhY2hhYmxlIGF0IGFsbCwgbm90IGV2ZW4gZnJv
bSB0aGUgcGNpCj4gc3Vic3lzdGVtLiBBbGwgcmVhZHMgZmFpbC9yZXR1cm4gYSBkZWZhdWx0IGVy
cm9yIHZhbHVlICgweGZmZmZmZmZmKS4KCkFyZSB0aGVzZSBQQ0kgY29uZmlnIHJlYWRzIHRoYXQg
cmV0dXJuIDB4ZmZmZmZmZmY/ICBPciBNTUlPIHJlYWRzPwoibHNwY2kgLXZ2eHh4eCIgb2YgdGhl
IGJyaWRnZSBhbmQgdGhlIEdQVSBtaWdodCBoYXZlIGEgY2x1ZSBhYm91dAp3aGV0aGVyIGEgUENJ
IGVycm9yIG9jY3VycmVkLgoKPiA+IEl0IHNvdW5kcyBsaWtlIHRoaW5ncyB3b3JrIGlmIHlvdSBy
ZXR1cm4gdG8gOC4wIEdUL3MgYmVmb3JlIHN1c3BlbmQsCj4gPiB0aGluZ3Mgd29yay4gIFRoYXQg
d291bGQgbWFrZSBzZW5zZSB0byBtZSBiZWNhdXNlIHRoZW4gdGhlIGRyaXZlcidzCj4gPiBpZGVh
IG9mIHRoZSBsaW5rIHN0YXRlIGFmdGVyIHJlc3VtZSB3b3VsZCBtYXRjaCB0aGUgYWN0dWFsIHN0
YXRlLgo+IAo+IGRlcGVuZHMgb24gd2hhdCBpcyBtZWFudCBieSB0aGUgZHJpdmVyIGhlcmUuIElu
c2lkZSBOb3V2ZWF1IHdlIGRvbid0Cj4gY2FyZSBvbmUgYml0IGFib3V0IHRoZSBjdXJyZW50IGxp
bmsgc3BlZWQsIHNvIEkgYXNzdW1lIHlvdSBtZWFuCj4gc29tZXRoaW5nIGluc2lkZSB0aGUgcGNp
IGNvcmUgY29kZT8KPiAKPiA+IEJ1dCBJIGRvbid0IHNlZSBhIHdheSB0byBkZWFsIHdpdGggdGhp
cyBpbiB0aGUgUENJIGNvcmUuICBUaGUgUENJIGNvcmUKPiA+IGRvZXMgc2F2ZSBhbmQgcmVzdG9y
ZSBtb3N0IG9mIHRoZSBhcmNoaXRlY3RlZCBjb25maWcgc3BhY2UgYXJvdW5kCj4gPiBzdXNwZW5k
L3Jlc3VtZSwgYnV0IHNpbmNlIHRoaXMgYXBwZWFycyB0byBiZSBhIGRldmljZS1zcGVjaWZpYyB0
aGluZywKPiA+IHRoZSBQQ0kgY29yZSB3b3VsZCBoYXZlIG5vIGlkZWEgaG93IHRvIHNhdmUvcmVz
dG9yZSBpdC4KPiAKPiBpZiB3ZSBhc3N1bWUgdGhhdCB0aGUgbmVnb3RpYXRpb24gb24gYSBkZXZp
Y2UgbGV2ZWwgd29ya3MgYXMgaW50ZW5kZWQsCj4gdGhlbiBJIHdvdWxkIGV4cGVjdCB0aGlzIHRv
IGJlIGEgcGNpIGNvcmUgaXNzdWUsIHdoaWNoIG1pZ2h0IGFjdHVhbGx5Cj4gYmUgbm90IGZpeGFi
bGUgdGhlcmUuIEJ1dCBpZiBpdCdzIG5vdCwgdGhlbiB3ZSB3b3VsZCBoYXZlIHRvIHB1dAo+IHNv
bWV0aGluZyBsaWtlIHRoYXQgaW5zaWRlIHRoZSBydW5wbSBkb2N1bWVudGF0aW9uIHRvIHRlbGwg
ZHJpdmVycwo+IHRoZXkgaGF2ZSB0byBkbyBzb21ldGhpbmcgYWJvdXQgaXQuCj4gCj4gQnV0IGFn
YWluLCBmb3IgbWUgaXQganVzdCBzb3VuZHMgbGlrZSB0aGUgbmVnb3RpYXRpb24gb24gdGhlIGRl
dmljZQo+IGxldmVsIGZhaWxzIG9yIHNvbWV0aGluZyBpbnNpZGUgcGNpIGNvcmUgbWVzc2VzIGl0
IHVwLgoKVG8gbWUgaXQgc291bmRzIGxpa2UgdGhlIFBNVSBzY3JpcHQgbWVzc2VkIHNvbWV0aGlu
ZyB1cCwgYW5kIHRoZSBQQ0kKY29yZSBoYXMgbm8gd2F5IHRvIGtub3cgd2hhdCB0aGF0IHdhcyBv
ciBob3cgdG8gZml4IGl0LgoKPiA+ID4gPiA+IFNpZ25lZC1vZmYtYnk6IEthcm9sIEhlcmJzdCA8
a2hlcmJzdEByZWRoYXQuY29tPgo+ID4gPiA+ID4gUmV2aWV3ZWQtYnk6IEx5dWRlIFBhdWwgPGx5
dWRlQHJlZGhhdC5jb20+Cj4gPiA+ID4gPiAtLS0KPiA+ID4gPiA+ICBkcm0vbm91dmVhdS9pbmNs
dWRlL252a20vc3ViZGV2L3BjaS5oIHwgIDUgKysrLS0KPiA+ID4gPiA+ICBkcm0vbm91dmVhdS9u
dmttL3N1YmRldi9wY2kvYmFzZS5jICAgIHwgIDkgKysrKysrKy0tCj4gPiA+ID4gPiAgZHJtL25v
dXZlYXUvbnZrbS9zdWJkZXYvcGNpL3BjaWUuYyAgICB8IDI0ICsrKysrKysrKysrKysrKysrKysr
LS0tLQo+ID4gPiA+ID4gIGRybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9wcml2LmggICAgfCAg
MiArKwo+ID4gPiA+ID4gIDQgZmlsZXMgY2hhbmdlZCwgMzIgaW5zZXJ0aW9ucygrKSwgOCBkZWxl
dGlvbnMoLSkKPiA+ID4gPiA+Cj4gPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvaW5j
bHVkZS9udmttL3N1YmRldi9wY2kuaCBiL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9zdWJkZXYv
cGNpLmgKPiA+ID4gPiA+IGluZGV4IDFmZGYzMDk4Li5iMjM3OTNhMiAxMDA2NDQKPiA+ID4gPiA+
IC0tLSBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9zdWJkZXYvcGNpLmgKPiA+ID4gPiA+ICsr
KyBiL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9zdWJkZXYvcGNpLmgKPiA+ID4gPiA+IEBAIC0y
Niw4ICsyNiw5IEBAIHN0cnVjdCBudmttX3BjaSB7Cj4gPiA+ID4gPiAgICAgICB9IGFncDsKPiA+
ID4gPiA+Cj4gPiA+ID4gPiAgICAgICBzdHJ1Y3Qgewo+ID4gPiA+ID4gLSAgICAgICAgICAgICBl
bnVtIG52a21fcGNpZV9zcGVlZCBzcGVlZDsKPiA+ID4gPiA+IC0gICAgICAgICAgICAgdTggd2lk
dGg7Cj4gPiA+ID4gPiArICAgICAgICAgICAgIGVudW0gbnZrbV9wY2llX3NwZWVkIGN1cl9zcGVl
ZDsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgZW51bSBudmttX3BjaWVfc3BlZWQgZGVmX3NwZWVk
Owo+ID4gPiA+ID4gKyAgICAgICAgICAgICB1OCBjdXJfd2lkdGg7Cj4gPiA+ID4gPiAgICAgICB9
IHBjaWU7Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgICAgYm9vbCBtc2k7Cj4gPiA+ID4gPiBkaWZm
IC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYyBiL2RybS9ub3V2ZWF1
L252a20vc3ViZGV2L3BjaS9iYXNlLmMKPiA+ID4gPiA+IGluZGV4IGVlMjQzMWE3Li5kOWZiNWE4
MyAxMDA2NDQKPiA+ID4gPiA+IC0tLSBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9iYXNl
LmMKPiA+ID4gPiA+ICsrKyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9iYXNlLmMKPiA+
ID4gPiA+IEBAIC05MCw2ICs5MCw4IEBAIG52a21fcGNpX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2
ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKPiA+ID4gPiA+Cj4gPiA+ID4gPiAgICAgICBpZiAocGNp
LT5hZ3AuYnJpZGdlKQo+ID4gPiA+ID4gICAgICAgICAgICAgICBudmttX2FncF9maW5pKHBjaSk7
Cj4gPiA+ID4gPiArICAgICBlbHNlIGlmIChwY2lfaXNfcGNpZShwY2ktPnBkZXYpKQo+ID4gPiA+
ID4gKyAgICAgICAgICAgICBudmttX3BjaWVfZmluaShwY2kpOwo+ID4gPiA+ID4KPiA+ID4gPiA+
ICAgICAgIHJldHVybiAwOwo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+IEBAIC0xMDAsNiArMTAyLDgg
QEAgbnZrbV9wY2lfcHJlaW5pdChzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldikKPiA+ID4gPiA+
ICAgICAgIHN0cnVjdCBudmttX3BjaSAqcGNpID0gbnZrbV9wY2koc3ViZGV2KTsKPiA+ID4gPiA+
ICAgICAgIGlmIChwY2ktPmFncC5icmlkZ2UpCj4gPiA+ID4gPiAgICAgICAgICAgICAgIG52a21f
YWdwX3ByZWluaXQocGNpKTsKPiA+ID4gPiA+ICsgICAgIGVsc2UgaWYgKHBjaV9pc19wY2llKHBj
aS0+cGRldikpCj4gPiA+ID4gPiArICAgICAgICAgICAgIG52a21fcGNpZV9wcmVpbml0KHBjaSk7
Cj4gPiA+ID4gPiAgICAgICByZXR1cm4gMDsKPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPgo+ID4gPiA+
ID4gQEAgLTE5Myw4ICsxOTcsOSBAQCBudmttX3BjaV9uZXdfKGNvbnN0IHN0cnVjdCBudmttX3Bj
aV9mdW5jICpmdW5jLCBzdHJ1Y3QgbnZrbV9kZXZpY2UgKmRldmljZSwKPiA+ID4gPiA+ICAgICAg
IHBjaS0+ZnVuYyA9IGZ1bmM7Cj4gPiA+ID4gPiAgICAgICBwY2ktPnBkZXYgPSBkZXZpY2UtPmZ1
bmMtPnBjaShkZXZpY2UpLT5wZGV2Owo+ID4gPiA+ID4gICAgICAgcGNpLT5pcnEgPSAtMTsKPiA+
ID4gPiA+IC0gICAgIHBjaS0+cGNpZS5zcGVlZCA9IC0xOwo+ID4gPiA+ID4gLSAgICAgcGNpLT5w
Y2llLndpZHRoID0gLTE7Cj4gPiA+ID4gPiArICAgICBwY2ktPnBjaWUuY3VyX3NwZWVkID0gLTE7
Cj4gPiA+ID4gPiArICAgICBwY2ktPnBjaWUuZGVmX3NwZWVkID0gLTE7Cj4gPiA+ID4gPiArICAg
ICBwY2ktPnBjaWUuY3VyX3dpZHRoID0gLTE7Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgICAgaWYg
KGRldmljZS0+dHlwZSA9PSBOVktNX0RFVklDRV9BR1ApCj4gPiA+ID4gPiAgICAgICAgICAgICAg
IG52a21fYWdwX2N0b3IocGNpKTsKPiA+ID4gPiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9u
dmttL3N1YmRldi9wY2kvcGNpZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3BjaWUu
Ywo+ID4gPiA+ID4gaW5kZXggNzBjY2JlMGQuLjczMWRkMzBlIDEwMDY0NAo+ID4gPiA+ID4gLS0t
IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3BjaWUuYwo+ID4gPiA+ID4gKysrIGIvZHJt
L25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3BjaWUuYwo+ID4gPiA+ID4gQEAgLTg1LDYgKzg1LDEz
IEBAIG52a21fcGNpZV9vbmVpbml0KHN0cnVjdCBudmttX3BjaSAqcGNpKQo+ID4gPiA+ID4gICAg
ICAgcmV0dXJuIDA7Cj4gPiA+ID4gPiAgfQo+ID4gPiA+ID4KPiA+ID4gPiA+ICtpbnQKPiA+ID4g
PiA+ICtudmttX3BjaWVfcHJlaW5pdChzdHJ1Y3QgbnZrbV9wY2kgKnBjaSkKPiA+ID4gPiA+ICt7
Cj4gPiA+ID4gPiArICAgICBwY2ktPnBjaWUuZGVmX3NwZWVkID0gbnZrbV9wY2llX2dldF9zcGVl
ZChwY2kpOwo+ID4gPiA+ID4gKyAgICAgcmV0dXJuIDA7Cj4gPiA+ID4gPiArfQo+ID4gPiA+ID4g
Kwo+ID4gPiA+ID4gIGludAo+ID4gPiA+ID4gIG52a21fcGNpZV9pbml0KHN0cnVjdCBudmttX3Bj
aSAqcGNpKQo+ID4gPiA+ID4gIHsKPiA+ID4gPiA+IEBAIC0xMDUsMTIgKzExMiwyMSBAQCBudmtt
X3BjaWVfaW5pdChzdHJ1Y3QgbnZrbV9wY2kgKnBjaSkKPiA+ID4gPiA+ICAgICAgIGlmIChwY2kt
PmZ1bmMtPnBjaWUuaW5pdCkKPiA+ID4gPiA+ICAgICAgICAgICAgICAgcGNpLT5mdW5jLT5wY2ll
LmluaXQocGNpKTsKPiA+ID4gPiA+Cj4gPiA+ID4gPiAtICAgICBpZiAocGNpLT5wY2llLnNwZWVk
ICE9IC0xKQo+ID4gPiA+ID4gLSAgICAgICAgICAgICBudmttX3BjaWVfc2V0X2xpbmsocGNpLCBw
Y2ktPnBjaWUuc3BlZWQsIHBjaS0+cGNpZS53aWR0aCk7Cj4gPiA+ID4gPiArICAgICBpZiAocGNp
LT5wY2llLmN1cl9zcGVlZCAhPSAtMSkKPiA+ID4gPiA+ICsgICAgICAgICAgICAgbnZrbV9wY2ll
X3NldF9saW5rKHBjaSwgcGNpLT5wY2llLmN1cl9zcGVlZCwKPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHBjaS0+cGNpZS5jdXJfd2lkdGgpOwo+ID4gPiA+ID4KPiA+
ID4gPiA+ICAgICAgIHJldHVybiAwOwo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+Cj4gPiA+ID4gPiAr
aW50Cj4gPiA+ID4gPiArbnZrbV9wY2llX2Zpbmkoc3RydWN0IG52a21fcGNpICpwY2kpCj4gPiA+
ID4gPiArewo+ID4gPiA+ID4gKyAgICAgaWYgKCFJU19FUlJfVkFMVUUocGNpLT5wY2llLmRlZl9z
cGVlZCkpCj4gPiA+ID4gPiArICAgICAgICAgICAgIHJldHVybiBudmttX3BjaWVfc2V0X2xpbmso
cGNpLCBwY2ktPnBjaWUuZGVmX3NwZWVkLCAxNik7Cj4gPiA+ID4gPiArICAgICByZXR1cm4gMDsK
PiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiAgaW50Cj4gPiA+ID4gPiAgbnZrbV9w
Y2llX3NldF9saW5rKHN0cnVjdCBudmttX3BjaSAqcGNpLCBlbnVtIG52a21fcGNpZV9zcGVlZCBz
cGVlZCwgdTggd2lkdGgpCj4gPiA+ID4gPiAgewo+ID4gPiA+ID4gQEAgLTE0Niw4ICsxNjIsOCBA
QCBudmttX3BjaWVfc2V0X2xpbmsoc3RydWN0IG52a21fcGNpICpwY2ksIGVudW0gbnZrbV9wY2ll
X3NwZWVkIHNwZWVkLCB1OCB3aWR0aCkKPiA+ID4gPiA+ICAgICAgICAgICAgICAgc3BlZWQgPSBt
YXhfc3BlZWQ7Cj4gPiA+ID4gPiAgICAgICB9Cj4gPiA+ID4gPgo+ID4gPiA+ID4gLSAgICAgcGNp
LT5wY2llLnNwZWVkID0gc3BlZWQ7Cj4gPiA+ID4gPiAtICAgICBwY2ktPnBjaWUud2lkdGggPSB3
aWR0aDsKPiA+ID4gPiA+ICsgICAgIHBjaS0+cGNpZS5jdXJfc3BlZWQgPSBzcGVlZDsKPiA+ID4g
PiA+ICsgICAgIHBjaS0+cGNpZS5jdXJfd2lkdGggPSB3aWR0aDsKPiA+ID4gPiA+Cj4gPiA+ID4g
PiAgICAgICBpZiAoc3BlZWQgPT0gY3VyX3NwZWVkKSB7Cj4gPiA+ID4gPiAgICAgICAgICAgICAg
IG52a21fZGVidWcoc3ViZGV2LCAicmVxdWVzdGVkIG1hdGNoZXMgY3VycmVudCBzcGVlZFxuIik7
Cj4gPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3ByaXYu
aCBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9wcml2LmgKPiA+ID4gPiA+IGluZGV4IGEw
ZDRjMDA3Li5lNzc0NDY3MSAxMDA2NDQKPiA+ID4gPiA+IC0tLSBhL2RybS9ub3V2ZWF1L252a20v
c3ViZGV2L3BjaS9wcml2LmgKPiA+ID4gPiA+ICsrKyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2
L3BjaS9wcml2LmgKPiA+ID4gPiA+IEBAIC02MCw1ICs2MCw3IEBAIGVudW0gbnZrbV9wY2llX3Nw
ZWVkIGdrMTA0X3BjaWVfbWF4X3NwZWVkKHN0cnVjdCBudmttX3BjaSAqKTsKPiA+ID4gPiA+ICBp
bnQgZ2sxMDRfcGNpZV92ZXJzaW9uX3N1cHBvcnRlZChzdHJ1Y3QgbnZrbV9wY2kgKik7Cj4gPiA+
ID4gPgo+ID4gPiA+ID4gIGludCBudmttX3BjaWVfb25laW5pdChzdHJ1Y3QgbnZrbV9wY2kgKik7
Cj4gPiA+ID4gPiAraW50IG52a21fcGNpZV9wcmVpbml0KHN0cnVjdCBudmttX3BjaSAqKTsKPiA+
ID4gPiA+ICBpbnQgbnZrbV9wY2llX2luaXQoc3RydWN0IG52a21fcGNpICopOwo+ID4gPiA+ID4g
K2ludCBudmttX3BjaWVfZmluaShzdHJ1Y3QgbnZrbV9wY2kgKik7Cj4gPiA+ID4gPiAgI2VuZGlm
Cj4gPiA+ID4gPiAtLQo+ID4gPiA+ID4gMi4yMS4wCj4gPiA+ID4gPgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpOb3V2ZWF1IG1haWxpbmcgbGlzdApOb3V2
ZWF1QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL25vdXZlYXU=
