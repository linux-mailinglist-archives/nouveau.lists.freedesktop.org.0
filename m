Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D389E4F9E3
	for <lists+nouveau@lfdr.de>; Sun, 23 Jun 2019 06:35:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9C05689D64;
	Sun, 23 Jun 2019 04:34:59 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from sonic316-22.consmr.mail.ne1.yahoo.com
 (sonic316-22.consmr.mail.ne1.yahoo.com [66.163.187.148])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A2C2089D64
 for <nouveau@lists.freedesktop.org>; Sun, 23 Jun 2019 04:34:57 +0000 (UTC)
X-YMail-OSG: YCcGqY0VM1knggEuuez3_ESpwZcLbMdPFMprguGQIYXEBRSt3LYXYNjTDhpT2l0
 tS1LmNAefyZKMCrJVGFTNtCPO7WrFQVfmss5IHwOj18MX_aF0fCRDdCA1sdsKXnVVKBa2c7FPxOl
 2VtwmT4VtnR_OoeH_PcocRMg9pncW5PYqIc3_j7vjQZiI2p0g_KT8_FF2bqooyl8th8tq1J3Nuao
 iReS0HjLnmlaemHgVyUA.Xjjhz4_kUF8xUjmEixg5G0Q7v2TfYd0s9_vd9CE5PI4rH6Bjh4I7WiJ
 Z1jDkYuRSEuKG1glf1iVdU2ipIeXTtV9Ner87ZcniQ3Z1jwGWAMQpXKuMCShNWCT9YPHTvNyxTX8
 NEArg60ku2sPjCDgRdEwcbuupJBOSrOUZxbFnCcUW.0UpUw_woJCuPsNl6Nzm4QKgmsPUS.FOZzV
 TqZ5MWxXAQKSfb9j4fxAZZ5fuIT5DvMrm1u8a2zxdNENxcbs68mnAimnZikx3fZU9YTa5jzXkcKg
 guEyzHcMYR3OmIdLIB_55tSn5DuIAHHkEIsnqsUbzChYbv6fY4xwydXd.fmy4KvKMgrg5u3NlraS
 mbLzfQu4TVwHVtiGEX4_ZDfZGkt9yCKCCDPtIbP9JILwed2hfcns6M7P.cTI1z6eUIIT4fe2JFBH
 EAcaeBoCXwQ2qni7c3zRwuw.DcpwsU0gnj7bDh9ypglU9cmh6WGU0nY7L_eUr4ePOk.5vH.sHiO2
 kV16JV21vl8gaLvpYUfLVnv_.738pbceJIHnDpWhp3GCYjToHjN8TJ3kOJ9QloLAH5AP2VIHjJTv
 aN2U4J4L1t1XQbRVkrrkzFncjMDMCR1yH5krxsesrM9366RZ211QZ44yW_S7cws8wsnRJc9fJr8w
 l5x0R8tBDcOyjiTcSLcNhlHiK0wQZuUtEkN5gL.PmlKWJVa.48JBD68iwUIVmlzJvFdo7LFbRYHf
 DEZ5dusaZOjdAIdqU40i7GiWecc9PhAr1m9GIB7x6Lya_WhZ6RbzIUfV9s0SqyyFNQz7h2a6eH2q
 xOZ99Rzq6l.yGnkSeae1G3nQkkqfcCUW3zWzTtC1n0Wz2hX4_YKj6iOcTAFZj2fD1aqXAnfIrN4E
 pGXitKOCpZwLchUJXQRAdhMRGSBwbmksW_LdZAP.8gh5_NUqP2PE.UXpp.Z9FJ.7brtP3uKwEGT2
 fjJTdpXkJnF0.Qxah.67hZWG859A4BmyufLtmn_C_sEk6Sn8pCvhCtccJXZAg5n7FbcLs2LNglj5
 MFxbSxL9AQxQ-
Received: from sonic.gate.mail.ne1.yahoo.com by
 sonic316.consmr.mail.ne1.yahoo.com with HTTP; Sun, 23 Jun 2019 04:34:55 +0000
Date: Sun, 23 Jun 2019 04:34:48 +0000 (UTC)
From: Mar Mel <marmel6942@yahoo.com>
To: Lyude Paul <lyude@redhat.com>, Ilia Mirkin <imirkin@alum.mit.edu>
Message-ID: <2050407925.625695.1561264488082@mail.yahoo.com>
In-Reply-To: <CAKb7UvhhSvF-RmvhVzrBeuf6S4m+pxzf_FPkRyocuXrNhLTuiw@mail.gmail.com>
References: <1119631907.971876.1560439165339.ref@mail.yahoo.com>
 <1119631907.971876.1560439165339@mail.yahoo.com>
 <495587496.1966749.1560615436420@mail.yahoo.com>
 <CAKb7UvhZYDRteWUmy0QUT1p5Tk+i_Ky0bFJU23pJSG7LHKLQYg@mail.gmail.com>
 <ce271f475953d1580c2fa8ffb561eca1b0426993.camel@redhat.com>
 <CAKb7UvhhSvF-RmvhVzrBeuf6S4m+pxzf_FPkRyocuXrNhLTuiw@mail.gmail.com>
MIME-Version: 1.0
X-Mailer: WebService/1.1.13837 YMailNorrin Mozilla/5.0 (X11; Linux x86_64;
 rv:67.0) Gecko/20100101 Firefox/67.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=yahoo.com; s=s2048; t=1561264495;
 bh=MEDuaGzRTo1cPM1YrdJVOXwnBegf45TCYE48KELUybY=;
 h=Date:From:To:Cc:In-Reply-To:References:Subject:From:Subject;
 b=inVaQooU2rQUe8Ge0BRXOh5vEzUgys5fTiPNbq42JqSr8eJTy1p4tH5fvLj9BWeLHKtLtAV8QLr8vwmA6LVnBHHsh7dhJxOxrLssAE3kF36E+ogTuqjOeFnZe6XitUEa+BgcFDfuYzbB+vt/zuY67QQc8ctHYhl9fYHjZYggjU5wHERpvqwSpPSP4xiSduFaS0mqJ2v2BPeJyyJYzB9Sjb5QDPv4dk9rEyaqjDr+lw9WiOwUomJj8J7B0OsJdpkWmeXBoNG5XbYSV5w5t34z7+qeRK42X5A2LgdquuAONZbrAcqar2CQHf7As5K5+dZqGhyTn+FJTAOJ9EJZ9Fi6RQ==
Subject: Re: [Nouveau] NOUVEAU_LEGACY_CTX_SUPPORT Fan Speed
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: nouveau <nouveau@lists.freedesktop.org>
Content-Type: multipart/mixed; boundary="===============1688521315=="
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

--===============1688521315==
Content-Type: multipart/alternative; 
	boundary="----=_Part_625694_2100451377.1561264488080"

------=_Part_625694_2100451377.1561264488080
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

 Sure:
$ lspci -nn -d 10de:
01:00.0 VGA compatible controller [0300]: NVIDIA Corporation GT200 [GeForce=
 GTX 260] [10de:05e2] (rev a1)

    On Saturday, June 22, 2019, 2:19:31 PM EDT, Ilia Mirkin <imirkin@alum.m=
it.edu> wrote: =20
=20
 Mar - can you provide the output of
lspci -nn -d 10de:
On Sat, Jun 22, 2019 at 2:17 PM Lyude Paul <lyude@redhat.com> wrote:

Hi, is this actually an nv50 GPU, or some other model? I can try to take a =
closer look at this
On Sun, 2019-06-16 at 10:28 -0400, Ilia Mirkin wrote:
I don't really see anything between v5.0..v5.1 which would account for this=
. Could have been a subtle change to the i2c logic somewhere. The fastest w=
ay to identify the problem would be to do a bisect on the kernel to identif=
y the commit that caused this. There are many guides for this online.
On Sat, Jun 15, 2019 at 12:17 PM Mar Mel <marmel6942@yahoo.com> wrote:

 Unfortunately, even with this change now reverted in kernel 5.1.10, the fa=
n speed issue persists.
If someone could point me in the direction of a relevant commit(s) I'll hap=
pily file a bug report.
    On Thursday, June 13, 2019, 11:19:25 AM EDT, Mar Mel <marmel6942@yahoo.=
com> wrote: =20
=20
 As of kernel 5.1.9, on resume from suspend, my NV50 fan runs at full speed=
.=20

Not sure if it has to do with this new config option (NOUVEAU_LEGACY_CTX_SU=
PPORT)?

This issue is not present using kernel 5.0.21.
Years ago I filed a similar issue:

60704 =E2=80=93 [nouveau, git regression] - I2C PWM fan control broken on n=
v50 adt7475 on kernels 3.3.x+
Thanks.



|=20
|=20
|  |=20
60704 =E2=80=93 [nouveau, git regression] - I2C PWM fan control broken on n=
v50 a...


 |

 |

 |



  _______________________________________________
Nouveau mailing list
Nouveau@lists.freedesktop.org
https://lists.freedesktop.org/mailman/listinfo/nouveau
_______________________________________________Nouveau mailing listNouveau@=
lists.freedesktop.org
https://lists.freedesktop.org/mailman/listinfo/nouveau
--=20
Cheers, Lyude Paul
 =20
------=_Part_625694_2100451377.1561264488080
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<html xmlns=3D"http://www.w3.org/1999/xhtml" xmlns:v=3D"urn:schemas-microso=
ft-com:vml" xmlns:o=3D"urn:schemas-microsoft-com:office:office"><head><!--[=
if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>=
96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]--></head><bo=
dy><div class=3D"ydpb82cc8f1yahoo-style-wrap" style=3D"font-family: Helveti=
ca Neue, Helvetica, Arial, sans-serif; font-size: 13px;"><div></div>
        <div>Sure:</div><div><br></div><div><div>$ lspci -nn -d 10de:<br>01=
:00.0 VGA compatible controller [0300]: NVIDIA Corporation GT200 [GeForce G=
TX 260] [10de:05e2] (rev a1)</div><br></div><div><br></div>
       =20
        </div><div id=3D"yahoo_quoted_1773245339" class=3D"yahoo_quoted">
            <div style=3D"font-family:'Helvetica Neue', Helvetica, Arial, s=
ans-serif;font-size:13px;color:#26282a;">
               =20
                <div>
                    On Saturday, June 22, 2019, 2:19:31 PM EDT, Ilia Mirkin=
 &lt;imirkin@alum.mit.edu&gt; wrote:
                </div>
                <div><br></div>
                <div><br></div>
                <div><div id=3D"yiv0375592993"><div><div dir=3D"ltr">Mar - =
can you provide the output of<div><br clear=3D"none"></div><div>lspci -nn -=
d 10de:</div></div><br clear=3D"none"><div class=3D"yiv0375592993yqt1925052=
404" id=3D"yiv0375592993yqt50702"><div class=3D"yiv0375592993gmail_quote"><=
div class=3D"yiv0375592993gmail_attr" dir=3D"ltr">On Sat, Jun 22, 2019 at 2=
:17 PM Lyude Paul &lt;<a rel=3D"nofollow" shape=3D"rect" ymailto=3D"mailto:=
lyude@redhat.com" target=3D"_blank" href=3D"mailto:lyude@redhat.com">lyude@=
redhat.com</a>&gt; wrote:<br clear=3D"none"></div><blockquote class=3D"yiv0=
375592993gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left:1px sol=
id rgb(204,204,204);padding-left:1ex;"><div style=3D"text-align:left;direct=
ion:ltr;"><div>Hi, is this actually an nv50 GPU, or some other model? I can=
 try to take a closer look at this</div><div><br clear=3D"none"></div><div>=
On Sun, 2019-06-16 at 10:28 -0400, Ilia Mirkin wrote:</div><blockquote type=
=3D"cite" style=3D"margin:0px 0px 0px 0.8ex;border-left:2px solid rgb(114,1=
59,207);padding-left:1ex;"><div dir=3D"ltr">I don't really see anything bet=
ween v5.0..v5.1 which would account for this. Could have been a subtle chan=
ge to the i2c logic somewhere. The fastest way to identify the problem woul=
d be to do a bisect on the kernel to identify the commit that caused this. =
There are many guides for this online.</div><br clear=3D"none"><div class=
=3D"yiv0375592993gmail_quote"><div class=3D"yiv0375592993gmail_attr" dir=3D=
"ltr">On Sat, Jun 15, 2019 at 12:17 PM Mar Mel &lt;<a rel=3D"nofollow" shap=
e=3D"rect" ymailto=3D"mailto:marmel6942@yahoo.com" target=3D"_blank" href=
=3D"mailto:marmel6942@yahoo.com">marmel6942@yahoo.com</a>&gt; wrote:<br cle=
ar=3D"none"></div><blockquote type=3D"cite" style=3D"margin:0px 0px 0px 0.8=
ex;border-left:2px solid rgb(114,159,207);padding-left:1ex;"><div><div clas=
s=3D"yiv0375592993gmail-m_614245679332240585gmail-m_6577269616604786429ydpb=
69c7536yahoo-style-wrap" style=3D""><div></div>
        <div>Unfortunately, even with this change now reverted in kernel 5.=
1.10, the fan speed issue persists.</div><div><br clear=3D"none"></div><div=
>If someone could point me in the direction of a relevant commit(s) I'll ha=
ppily file a bug report.</div><div><br clear=3D"none"></div>
       =20
        </div><div class=3D"yiv0375592993gmail-m_614245679332240585gmail-m_=
6577269616604786429yahoo_quoted" id=3D"yiv0375592993gmail-m_614245679332240=
585gmail-m_6577269616604786429yahoo_quoted_0639155532">
            <div style=3D"">
               =20
                <div>
                    On Thursday, June 13, 2019, 11:19:25 AM EDT, Mar Mel &l=
t;<a rel=3D"nofollow" shape=3D"rect" ymailto=3D"mailto:marmel6942@yahoo.com=
" target=3D"_blank" href=3D"mailto:marmel6942@yahoo.com">marmel6942@yahoo.c=
om</a>&gt; wrote:
                </div>
                <div><br clear=3D"none"></div>
                <div><br clear=3D"none"></div>
                <div><div id=3D"yiv0375592993gmail-m_614245679332240585gmai=
l-m_6577269616604786429yiv3381411794"><div><div class=3D"yiv0375592993gmail=
-m_614245679332240585gmail-m_6577269616604786429yiv3381411794yahoo-style-wr=
ap" style=3D""><div>As of kernel 5.1.9, on resume from suspend, my NV50 fan=
 runs at full speed. <br clear=3D"none"></div><div><br clear=3D"none"></div=
><div>Not sure if it has to do with this new config option (<span>NOUVEAU_L=
EGACY_CTX_SUPPORT)?</span><br clear=3D"none"></div><div><br clear=3D"none">=
</div><div>This issue is not present using kernel 5.0.21.</div><div><br cle=
ar=3D"none"></div><div>Years ago I filed a similar issue:<br clear=3D"none"=
></div><div><br clear=3D"none"></div><div><a rel=3D"nofollow" shape=3D"rect=
" class=3D"yiv0375592993gmail-m_614245679332240585gmail-m_65772696166047864=
29yiv3381411794enhancr_card_0655079240" target=3D"_blank" href=3D"https://b=
ugs.freedesktop.org/show_bug.cgi?id=3D60704">60704 =E2=80=93 [nouveau, git =
regression] - I2C PWM fan control broken on nv50 adt7475 on kernels 3.3.x+<=
/a></div><div><br clear=3D"none"></div><div>Thanks.<br clear=3D"none"></div=
><div><br clear=3D"none"></div><div><br clear=3D"none"></div><div class=3D"=
yiv0375592993gmail-m_614245679332240585gmail-m_6577269616604786429yiv338141=
1794ydp73b97a3ayahoo-link-enhancr-card yiv0375592993gmail-m_614245679332240=
585gmail-m_6577269616604786429yiv3381411794ydp73b97a3ayahoo-link-enhancr-no=
t-allow-cover yiv0375592993gmail-m_614245679332240585gmail-m_65772696166047=
86429yiv3381411794ydp73b97a3aymail-preserve-class yiv0375592993gmail-m_6142=
45679332240585gmail-m_6577269616604786429yiv3381411794ydp73b97a3aymail-pres=
erve-style" id=3D"yiv0375592993gmail-m_614245679332240585gmail-m_6577269616=
604786429yiv3381411794ydp73b97a3aenhancr_card_0655079240" style=3D"max-widt=
h:400px;font-family:Helvetica, Arial, sans-serif;"><a rel=3D"nofollow" shap=
e=3D"rect" class=3D"yiv0375592993gmail-m_614245679332240585gmail-m_65772696=
16604786429yiv3381411794ydp73b97a3ayahoo-enhancr-cardlink" target=3D"_blank=
" href=3D"https://bugs.freedesktop.org/show_bug.cgi?id=3D60704" style=3D"te=
xt-decoration:none;color:rgb(0,0,0);"><table class=3D"yiv0375592993gmail-m_=
614245679332240585gmail-m_6577269616604786429yiv3381411794ydp73b97a3acard-w=
rapper yiv0375592993gmail-m_614245679332240585gmail-m_6577269616604786429yi=
v3381411794ydp73b97a3ayahoo-ignore-table" style=3D"max-width:400px;" cellsp=
acing=3D"0" cellpadding=3D"0" border=3D"0"><tbody><tr><td colspan=3D"1" row=
span=3D"1" width=3D"400"><table class=3D"yiv0375592993gmail-m_6142456793322=
40585gmail-m_6577269616604786429yiv3381411794ydp73b97a3acard yiv0375592993g=
mail-m_614245679332240585gmail-m_6577269616604786429yiv3381411794ydp73b97a3=
ayahoo-ignore-table" style=3D"max-width:400px;border-width:1px;border-style=
:solid;border-color:rgb(224,228,233);border-radius:2px;" width=3D"100%" cel=
lspacing=3D"0" cellpadding=3D"0" border=3D"0"><tbody><tr><td colspan=3D"1" =
rowspan=3D"1"><table class=3D"yiv0375592993gmail-m_614245679332240585gmail-=
m_6577269616604786429yiv3381411794ydp73b97a3acard-info yiv0375592993gmail-m=
_614245679332240585gmail-m_6577269616604786429yiv3381411794ydp73b97a3ayahoo=
-ignore-table" style=3D"background-color:rgb(255,255,255);background-repeat=
:repeat;background-image:none;background-size:auto;width:100%;max-width:400=
px;border-radius:0px 0px 2px 2px;border-top:1px solid rgb(224,228,233);" ce=
llspacing=3D"0" cellpadding=3D"0" border=3D"0"><tbody><tr><td colspan=3D"1"=
 rowspan=3D"1" style=3D"background-color:rgb(255,255,255);padding:16px 0px =
16px 12px;vertical-align:top;border-radius:0px 0px 0px 2px;"></td><td colsp=
an=3D"1" rowspan=3D"1" style=3D"vertical-align:middle;padding:12px 24px 16p=
x 12px;width:99%;font-family:Helvetica, Arial, sans-serif;border-radius:0px=
 0px 2px;"><h2 class=3D"yiv0375592993gmail-m_614245679332240585gmail-m_6577=
269616604786429yiv3381411794ydp73b97a3acard-title" style=3D"font-size:14px;=
line-height:19px;margin:0px 0px 6px;font-family:Helvetica, Arial, sans-seri=
f;color:rgb(38,40,42);">60704 =E2=80=93 [nouveau, git regression] - I2C PWM=
 fan control broken on nv50 a...</h2><p class=3D"yiv0375592993gmail-m_61424=
5679332240585gmail-m_6577269616604786429yiv3381411794ydp73b97a3acard-descri=
ption" style=3D"font-size:12px;line-height:16px;margin:0px;color:rgb(151,15=
5,167);"></p></td></tr></tbody></table></td></tr></tbody></table></td></tr>=
</tbody></table></a></div><div><br clear=3D"none"></div><div><br clear=3D"n=
one"></div></div></div></div></div>
            </div>
        </div></div>_______________________________________________<br clea=
r=3D"none">
Nouveau mailing list<br clear=3D"none">
<a rel=3D"nofollow" shape=3D"rect" ymailto=3D"mailto:Nouveau@lists.freedesk=
top.org" target=3D"_blank" href=3D"mailto:Nouveau@lists.freedesktop.org">No=
uveau@lists.freedesktop.org</a><br clear=3D"none">
<a rel=3D"nofollow" shape=3D"rect" target=3D"_blank" href=3D"https://lists.=
freedesktop.org/mailman/listinfo/nouveau">https://lists.freedesktop.org/mai=
lman/listinfo/nouveau</a></blockquote></div>
<pre>_______________________________________________</pre><pre>Nouveau mail=
ing list</pre><a rel=3D"nofollow" shape=3D"rect" ymailto=3D"mailto:Nouveau@=
lists.freedesktop.org" target=3D"_blank" href=3D"mailto:Nouveau@lists.freed=
esktop.org"><pre>Nouveau@lists.freedesktop.org</pre></a><pre><br clear=3D"n=
one"></pre><a rel=3D"nofollow" shape=3D"rect" target=3D"_blank" href=3D"htt=
ps://lists.freedesktop.org/mailman/listinfo/nouveau"><pre>https://lists.fre=
edesktop.org/mailman/listinfo/nouveau</pre></a></blockquote><div><span></sp=
an><pre>-- <br clear=3D"none"></pre><div style=3D"">Cheers,</div><div style=
=3D"">=09Lyude Paul</div></div></div>
</blockquote></div></div></div></div></div>
            </div>
        </div></body></html>
------=_Part_625694_2100451377.1561264488080--

--===============1688521315==
Content-Type: text/plain; charset="utf-8"
MIME-Version: 1.0
Content-Transfer-Encoding: base64
Content-Disposition: inline

X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KTm91dmVhdSBt
YWlsaW5nIGxpc3QKTm91dmVhdUBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9ub3V2ZWF1

--===============1688521315==--
