Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E0D89BBD2C
	for <lists+nouveau@lfdr.de>; Mon, 23 Sep 2019 22:40:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8967489F9F;
	Mon, 23 Sep 2019 20:40:10 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B379889F89
 for <nouveau@lists.freedesktop.org>; Mon, 23 Sep 2019 20:40:07 +0000 (UTC)
Received: from mail-wm1-f72.google.com (mail-wm1-f72.google.com
 [209.85.128.72])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id C2CD437E88
 for <nouveau@lists.freedesktop.org>; Mon, 23 Sep 2019 20:40:06 +0000 (UTC)
Received: by mail-wm1-f72.google.com with SMTP id l3so7225364wmf.8
 for <nouveau@lists.freedesktop.org>; Mon, 23 Sep 2019 13:40:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=sBoIvvJ9IA/YKTxvlfV6Q8NIlF/z30iW5Ucf6fa+ido=;
 b=SjZvlmm0gqmU9uXhNyXxklz7tszdZ9fEiBy17FBocqMhD9mssta1gqm/vo9kVfoEyn
 siNqvXQ+5KO2Pg89Vxg7H5iVOnrB7vbUbNZyAoxguWVd4Hp2pq3aSrejYCDrMfrRizlL
 SI4hCKMfX9xDdKSkWwqDs1DHUByMCNqcsQPfR1NHtP6/5aczPikInrlHdO8zgafsHEdl
 eaYlVjf8WJzSrqER9XgfclN5HyyjAvT7IdIrDPUCAuErTZsLYPpuPwrQSohh+PrNpUDI
 WisPWKCMfo4/2aW4qynbTM/ZkrjC065Q38m9M+08UhxYORaDNY2Ybs08FmI4Snk9vGI7
 XQhg==
X-Gm-Message-State: APjAAAUKxEEF+bMWqBUCFL9SNMhRxH++Nri9cgn/ZCMXLFEBojS0Rb2r
 pIhhDFHTpbXrqif7XCGl7jYUTWlpvDOrJDFMTAveI6UienHh4cu5dT3rGOqGqy84h3E0TIPqJyU
 e0OAt1mSzAhN7py5wrVR34UV2tA==
X-Received: by 2002:a05:600c:217:: with SMTP id
 23mr1154053wmi.76.1569271205125; 
 Mon, 23 Sep 2019 13:40:05 -0700 (PDT)
X-Google-Smtp-Source: APXvYqwrcOIpUWEhyeDVq3CoRPa3xV7ULzH8XRb4yVUYNMBoUph7o1IQmHFTX87TgEI4y9LyjG64/g==
X-Received: by 2002:a05:600c:217:: with SMTP id
 23mr1154017wmi.76.1569271204465; 
 Mon, 23 Sep 2019 13:40:04 -0700 (PDT)
Received: from kherbst.pingu.com ([2a02:8308:b0be:6900:2d3c:bd88:58b8:6e7c])
 by smtp.gmail.com with ESMTPSA id o9sm21912918wrh.46.2019.09.23.13.40.03
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 23 Sep 2019 13:40:03 -0700 (PDT)
From: Karol Herbst <kherbst@redhat.com>
To: nouveau@lists.freedesktop.org
Date: Mon, 23 Sep 2019 22:39:49 +0200
Message-Id: <20190923203951.1652-7-kherbst@redhat.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190923203951.1652-1-kherbst@redhat.com>
References: <20190923203951.1652-1-kherbst@redhat.com>
MIME-Version: 1.0
Subject: [Nouveau] [PATCH 6/8] drm: be explicit about runtime suspend in fini
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

QWxsb3dzIGZpbmkgZnVuY3Rpb25zIHRvIGNoZWNrIGlmIHdlIGRvIGEgcmVhbCBzeXN0ZW0gc3Vz
cGVuZCBvciBqdXN0CnJ1bnRpbWUgc3VzcGVuZGluZyB0aGUgR1BVLgoKU2lnbmVkLW9mZi1ieTog
S2Fyb2wgSGVyYnN0IDxraGVyYnN0QHJlZGhhdC5jb20+Ci0tLQogYmluL252X2luaXQuYyAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L2luY2x1ZGUvbnZpZi9j
bGllbnQuaCAgICAgICB8ICAyICstCiBkcm0vbm91dmVhdS9pbmNsdWRlL252aWYvZHJpdmVyLmgg
ICAgICAgfCAgMiArLQogZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL2NvcmUvZGV2aWNlLmggIHwg
IDMgKystCiBkcm0vbm91dmVhdS9pbmNsdWRlL252a20vY29yZS9lbmdpbmUuaCAgfCAgMiArLQog
ZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL2NvcmUvb2JqZWN0LmggIHwgMTMgKysrKysrKysrKyst
LQogZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL2NvcmUvb3Byb3h5LmggIHwgIDIgKy0KIGRybS9u
b3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL3N1YmRldi5oICB8ICA1ICsrKy0tCiBkcm0vbm91dmVh
dS9ub3V2ZWF1X2RybS5jICAgICAgICAgICAgICAgfCAgMiArLQogZHJtL25vdXZlYXUvbm91dmVh
dV9udmlmLmMgICAgICAgICAgICAgIHwgIDYgKysrKy0tCiBkcm0vbm91dmVhdS9udmlmL2NsaWVu
dC5jICAgICAgICAgICAgICAgfCAgNCArKy0tCiBkcm0vbm91dmVhdS9udmttL2NvcmUvY2xpZW50
LmMgICAgICAgICAgfCAgNSArKy0tLQogZHJtL25vdXZlYXUvbnZrbS9jb3JlL2VuZ2luZS5jICAg
ICAgICAgIHwgIDQgKystLQogZHJtL25vdXZlYXUvbnZrbS9jb3JlL2lvY3RsLmMgICAgICAgICAg
IHwgIDQgKystLQogZHJtL25vdXZlYXUvbnZrbS9jb3JlL29iamVjdC5jICAgICAgICAgIHwgMjIg
KysrKysrKysrKysrKysrKysrLS0tLQogZHJtL25vdXZlYXUvbnZrbS9jb3JlL29wcm94eS5jICAg
ICAgICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vY29yZS9zdWJkZXYuYyAgICAgICAgICB8
ICA0ICsrLS0KIGRybS9ub3V2ZWF1L252a20vZW5naW5lL2RldmljZS9iYXNlLmMgICB8IDExICsr
KysrKy0tLS0tCiBkcm0vbm91dmVhdS9udmttL2VuZ2luZS9kZXZpY2UvcGNpLmMgICAgfCAgMiAr
LQogZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGV2aWNlL3ByaXYuaCAgIHwgIDIgKy0KIGRybS9u
b3V2ZWF1L252a20vZW5naW5lL2RldmljZS90ZWdyYS5jICB8ICAzICsrLQogZHJtL25vdXZlYXUv
bnZrbS9lbmdpbmUvZGV2aWNlL3VzZXIuYyAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vZW5n
aW5lL2Rpc3AvYmFzZS5jICAgICB8ICAyICstCiBkcm0vbm91dmVhdS9udmttL2VuZ2luZS9kaXNw
L2NoYW5udjUwLmMgfCAgMiArLQogZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZmFsY29uLmMgICAg
ICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vZW5naW5lL2ZpZm8vYmFzZS5jICAgICB8ICAy
ICstCiBkcm0vbm91dmVhdS9udmttL2VuZ2luZS9maWZvL2NoYW4uYyAgICAgfCAgNSArKystLQog
ZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZmlmby9nZjEwMC5jICAgIHwgIDIgKy0KIGRybS9ub3V2
ZWF1L252a20vZW5naW5lL2ZpZm8vZ2sxMDQuYyAgICB8ICAyICstCiBkcm0vbm91dmVhdS9udmtt
L2VuZ2luZS9nci9iYXNlLmMgICAgICAgfCAgMiArLQogZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUv
Z3IvbnYwNC5jICAgICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vZW5naW5lL2dyL252MTAu
YyAgICAgICB8ICAyICstCiBkcm0vbm91dmVhdS9udmttL2VuZ2luZS9nci9udjIwLmMgICAgICAg
fCAgMiArLQogZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZ3IvbnYyMC5oICAgICAgIHwgIDIgKy0K
IGRybS9ub3V2ZWF1L252a20vZW5naW5lL2dyL252NDAuYyAgICAgICB8ICAyICstCiBkcm0vbm91
dmVhdS9udmttL2VuZ2luZS9tcGVnL252NDQuYyAgICAgfCAgMiArLQogZHJtL25vdXZlYXUvbnZr
bS9lbmdpbmUvcG0vYmFzZS5jICAgICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vZW5naW5l
L3NlYzIvYmFzZS5jICAgICB8ICAyICstCiBkcm0vbm91dmVhdS9udmttL2VuZ2luZS94dGVuc2Eu
YyAgICAgICAgfCAgMiArLQogZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvYmFyL2Jhc2UuYyAgICAg
IHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vc3ViZGV2L2Nsay9iYXNlLmMgICAgICB8ICAyICst
CiBkcm0vbm91dmVhdS9udmttL3N1YmRldi9kZXZpbml0L2Jhc2UuYyAgfCAgMiArLQogZHJtL25v
dXZlYXUvbnZrbS9zdWJkZXYvZmF1bHQvYmFzZS5jICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252
a20vc3ViZGV2L2ZhdWx0L3VzZXIuYyAgICB8ICAyICstCiBkcm0vbm91dmVhdS9udmttL3N1YmRl
di9ncGlvL2Jhc2UuYyAgICAgfCAgMiArLQogZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvaTJjL2Jh
c2UuYyAgICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vc3ViZGV2L2luc3RtZW0vYmFzZS5j
ICB8ICAyICstCiBkcm0vbm91dmVhdS9udmttL3N1YmRldi9tYy9iYXNlLmMgICAgICAgfCAgMiAr
LQogZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYyAgICAgIHwgIDIgKy0KIGRybS9u
b3V2ZWF1L252a20vc3ViZGV2L3BtdS9iYXNlLmMgICAgICB8ICAyICstCiBkcm0vbm91dmVhdS9u
dmttL3N1YmRldi9zZWNib290L2Jhc2UuYyAgfCAgMiArLQogZHJtL25vdXZlYXUvbnZrbS9zdWJk
ZXYvdGhlcm0vYmFzZS5jICAgIHwgIDIgKy0KIGRybS9ub3V2ZWF1L252a20vc3ViZGV2L3RpbWVy
L2Jhc2UuYyAgICB8ICAyICstCiBsaWIvZHJtLmMgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfCAgMiArLQogbGliL21haW4uYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIDYg
KysrKy0tCiBsaWIvbnVsbC5jICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgNiArKysr
LS0KIDU2IGZpbGVzIGNoYW5nZWQsIDEwOCBpbnNlcnRpb25zKCspLCA3NSBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9iaW4vbnZfaW5pdC5jIGIvYmluL252X2luaXQuYwppbmRleCA5MGMxNGQ1
ZWEuLmY2N2NhOTg0NCAxMDA2NDQKLS0tIGEvYmluL252X2luaXQuYworKysgYi9iaW4vbnZfaW5p
dC5jCkBAIC0zOCw3ICszOCw3IEBAIG1haW4oaW50IGFyZ2MsIGNoYXIgKiphcmd2KQogCQlyZXR1
cm4gcmV0OwogCiAJaWYgKHN1c3BlbmQpIHsKLQkJbnZpZl9jbGllbnRfc3VzcGVuZCgmY2xpZW50
KTsKKwkJbnZpZl9jbGllbnRfc3VzcGVuZCgmY2xpZW50LCBmYWxzZSk7CiAJCW52aWZfY2xpZW50
X3Jlc3VtZSgmY2xpZW50KTsKIAl9CiAKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L2luY2x1ZGUv
bnZpZi9jbGllbnQuaCBiL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZpZi9jbGllbnQuaAppbmRleCBl
NjNjNmM5NjUuLjY5NDhlYzE0OCAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvaW5jbHVkZS9udmlm
L2NsaWVudC5oCisrKyBiL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZpZi9jbGllbnQuaApAQCAtMTYs
NyArMTYsNyBAQCBpbnQgIG52aWZfY2xpZW50X2luaXQoc3RydWN0IG52aWZfY2xpZW50ICpwYXJl
bnQsIGNvbnN0IGNoYXIgKm5hbWUsIHU2NCBkZXZpY2UsCiAJCSAgICAgIHN0cnVjdCBudmlmX2Ns
aWVudCAqKTsKIHZvaWQgbnZpZl9jbGllbnRfZmluaShzdHJ1Y3QgbnZpZl9jbGllbnQgKik7CiBp
bnQgIG52aWZfY2xpZW50X2lvY3RsKHN0cnVjdCBudmlmX2NsaWVudCAqLCB2b2lkICosIHUzMik7
Ci1pbnQgIG52aWZfY2xpZW50X3N1c3BlbmQoc3RydWN0IG52aWZfY2xpZW50ICopOworaW50ICBu
dmlmX2NsaWVudF9zdXNwZW5kKHN0cnVjdCBudmlmX2NsaWVudCAqLCBib29sIHJ1bnRpbWUpOwog
aW50ICBudmlmX2NsaWVudF9yZXN1bWUoc3RydWN0IG52aWZfY2xpZW50ICopOwogCiAvKlhYWCov
CmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9pbmNsdWRlL252aWYvZHJpdmVyLmggYi9kcm0vbm91
dmVhdS9pbmNsdWRlL252aWYvZHJpdmVyLmgKaW5kZXggOGU4NWI5MzZlLi5hNzc0NTBhZGQgMTAw
NjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZpZi9kcml2ZXIuaAorKysgYi9kcm0vbm91
dmVhdS9pbmNsdWRlL252aWYvZHJpdmVyLmgKQEAgLTksNyArOSw3IEBAIHN0cnVjdCBudmlmX2Ry
aXZlciB7CiAJaW50ICgqaW5pdCkoY29uc3QgY2hhciAqbmFtZSwgdTY0IGRldmljZSwgY29uc3Qg
Y2hhciAqY2ZnLAogCQkgICAgY29uc3QgY2hhciAqZGJnLCB2b2lkICoqcHJpdik7CiAJdm9pZCAo
KmZpbmkpKHZvaWQgKnByaXYpOwotCWludCAoKnN1c3BlbmQpKHZvaWQgKnByaXYpOworCWludCAo
KnN1c3BlbmQpKHZvaWQgKnByaXYsIGJvb2wgcnVudGltZSk7CiAJaW50ICgqcmVzdW1lKSh2b2lk
ICpwcml2KTsKIAlpbnQgKCppb2N0bCkodm9pZCAqcHJpdiwgYm9vbCBzdXBlciwgdm9pZCAqZGF0
YSwgdTMyIHNpemUsIHZvaWQgKipoYWNrKTsKIAl2b2lkIF9faW9tZW0gKigqbWFwKSh2b2lkICpw
cml2LCB1NjQgaGFuZGxlLCB1MzIgc2l6ZSk7CmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9pbmNs
dWRlL252a20vY29yZS9kZXZpY2UuaCBiL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL2Rl
dmljZS5oCmluZGV4IDZkNTVjZDA0Ny4uZWY4ZTY1MmEwIDEwMDY0NAotLS0gYS9kcm0vbm91dmVh
dS9pbmNsdWRlL252a20vY29yZS9kZXZpY2UuaAorKysgYi9kcm0vbm91dmVhdS9pbmNsdWRlL252
a20vY29yZS9kZXZpY2UuaApAQCAtMSw2ICsxLDcgQEAKIC8qIFNQRFgtTGljZW5zZS1JZGVudGlm
aWVyOiBNSVQgKi8KICNpZm5kZWYgX19OVktNX0RFVklDRV9IX18KICNkZWZpbmUgX19OVktNX0RF
VklDRV9IX18KKyNpbmNsdWRlIDxjb3JlL29iamVjdC5oPgogI2luY2x1ZGUgPGNvcmUvb2NsYXNz
Lmg+CiAjaW5jbHVkZSA8Y29yZS9ldmVudC5oPgogCkBAIC0xODgsNyArMTg5LDcgQEAgc3RydWN0
IG52a21fZGV2aWNlX2Z1bmMgewogCXZvaWQgKigqZHRvcikoc3RydWN0IG52a21fZGV2aWNlICop
OwogCWludCAoKnByZWluaXQpKHN0cnVjdCBudmttX2RldmljZSAqKTsKIAlpbnQgKCppbml0KShz
dHJ1Y3QgbnZrbV9kZXZpY2UgKik7Ci0Jdm9pZCAoKmZpbmkpKHN0cnVjdCBudmttX2RldmljZSAq
LCBib29sIHN1c3BlbmQpOworCXZvaWQgKCpmaW5pKShzdHJ1Y3QgbnZrbV9kZXZpY2UgKiwgZW51
bSBudmttX3N1c3BlbmRfdHlwZSk7CiAJcmVzb3VyY2Vfc2l6ZV90ICgqcmVzb3VyY2VfYWRkciko
c3RydWN0IG52a21fZGV2aWNlICosIHVuc2lnbmVkIGJhcik7CiAJcmVzb3VyY2Vfc2l6ZV90ICgq
cmVzb3VyY2Vfc2l6ZSkoc3RydWN0IG52a21fZGV2aWNlICosIHVuc2lnbmVkIGJhcik7CiAJYm9v
bCBjcHVfY29oZXJlbnQ7CmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9pbmNsdWRlL252a20vY29y
ZS9lbmdpbmUuaCBiL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL2VuZ2luZS5oCmluZGV4
IGM2YjQwMWE2ZS4uYTAyMGM1NTg5IDEwMDY0NAotLS0gYS9kcm0vbm91dmVhdS9pbmNsdWRlL252
a20vY29yZS9lbmdpbmUuaAorKysgYi9kcm0vbm91dmVhdS9pbmNsdWRlL252a20vY29yZS9lbmdp
bmUuaApAQCAtMjAsNyArMjAsNyBAQCBzdHJ1Y3QgbnZrbV9lbmdpbmVfZnVuYyB7CiAJaW50ICgq
b25laW5pdCkoc3RydWN0IG52a21fZW5naW5lICopOwogCWludCAoKmluZm8pKHN0cnVjdCBudmtt
X2VuZ2luZSAqLCB1NjQgbXRoZCwgdTY0ICpkYXRhKTsKIAlpbnQgKCppbml0KShzdHJ1Y3QgbnZr
bV9lbmdpbmUgKik7Ci0JaW50ICgqZmluaSkoc3RydWN0IG52a21fZW5naW5lICosIGJvb2wgc3Vz
cGVuZCk7CisJaW50ICgqZmluaSkoc3RydWN0IG52a21fZW5naW5lICosIGVudW0gbnZrbV9zdXNw
ZW5kX3R5cGUpOwogCXZvaWQgKCppbnRyKShzdHJ1Y3QgbnZrbV9lbmdpbmUgKik7CiAJdm9pZCAo
KnRpbGUpKHN0cnVjdCBudmttX2VuZ2luZSAqLCBpbnQgcmVnaW9uLCBzdHJ1Y3QgbnZrbV9mYl90
aWxlICopOwogCWJvb2wgKCpjaHN3X2xvYWQpKHN0cnVjdCBudmttX2VuZ2luZSAqKTsKZGlmZiAt
LWdpdCBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL29iamVjdC5oIGIvZHJtL25vdXZl
YXUvaW5jbHVkZS9udmttL2NvcmUvb2JqZWN0LmgKaW5kZXggN2VmY2Q1ZDJmLi4yZWVjZjNjNjAg
MTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL29iamVjdC5oCisrKyBi
L2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL29iamVjdC5oCkBAIC0yNSwxMCArMjUsMTkg
QEAgZW51bSBudmttX29iamVjdF9tYXAgewogCU5WS01fT0JKRUNUX01BUF9WQQogfTsKIAorZW51
bSBudmttX3N1c3BlbmRfdHlwZSB7CisJTlZLTV9TVVNQRU5EX05PTkUgPSAwLAorCU5WS01fU1VT
UEVORF9TWVNURU0gPSAxLAorCU5WS01fU1VTUEVORF9SVU5USU1FID0gMiwKK307CisKK2NvbnN0
IGNoYXIqCitudmttX3N1c3BlbmRfdHlwZV9zdHIoZW51bSBudmttX3N1c3BlbmRfdHlwZSk7CisK
IHN0cnVjdCBudmttX29iamVjdF9mdW5jIHsKIAl2b2lkICooKmR0b3IpKHN0cnVjdCBudmttX29i
amVjdCAqKTsKIAlpbnQgKCppbml0KShzdHJ1Y3QgbnZrbV9vYmplY3QgKik7Ci0JaW50ICgqZmlu
aSkoc3RydWN0IG52a21fb2JqZWN0ICosIGJvb2wgc3VzcGVuZCk7CisJaW50ICgqZmluaSkoc3Ry
dWN0IG52a21fb2JqZWN0ICosIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUpOwogCWludCAoKm10aGQp
KHN0cnVjdCBudmttX29iamVjdCAqLCB1MzIgbXRoZCwgdm9pZCAqZGF0YSwgdTMyIHNpemUpOwog
CWludCAoKm50ZnkpKHN0cnVjdCBudmttX29iamVjdCAqLCB1MzIgbXRoZCwgc3RydWN0IG52a21f
ZXZlbnQgKiopOwogCWludCAoKm1hcCkoc3RydWN0IG52a21fb2JqZWN0ICosIHZvaWQgKmFyZ3Ys
IHUzMiBhcmdjLApAQCAtNTUsNyArNjQsNyBAQCBpbnQgbnZrbV9vYmplY3RfbmV3KGNvbnN0IHN0
cnVjdCBudmttX29jbGFzcyAqLCB2b2lkICpkYXRhLCB1MzIgc2l6ZSwKIHZvaWQgbnZrbV9vYmpl
Y3RfZGVsKHN0cnVjdCBudmttX29iamVjdCAqKik7CiB2b2lkICpudmttX29iamVjdF9kdG9yKHN0
cnVjdCBudmttX29iamVjdCAqKTsKIGludCBudmttX29iamVjdF9pbml0KHN0cnVjdCBudmttX29i
amVjdCAqKTsKLWludCBudmttX29iamVjdF9maW5pKHN0cnVjdCBudmttX29iamVjdCAqLCBib29s
IHN1c3BlbmQpOworaW50IG52a21fb2JqZWN0X2Zpbmkoc3RydWN0IG52a21fb2JqZWN0ICosIGVu
dW0gbnZrbV9zdXNwZW5kX3R5cGUpOwogaW50IG52a21fb2JqZWN0X210aGQoc3RydWN0IG52a21f
b2JqZWN0ICosIHUzMiBtdGhkLCB2b2lkICpkYXRhLCB1MzIgc2l6ZSk7CiBpbnQgbnZrbV9vYmpl
Y3RfbnRmeShzdHJ1Y3QgbnZrbV9vYmplY3QgKiwgdTMyIG10aGQsIHN0cnVjdCBudmttX2V2ZW50
ICoqKTsKIGludCBudmttX29iamVjdF9tYXAoc3RydWN0IG52a21fb2JqZWN0ICosIHZvaWQgKmFy
Z3YsIHUzMiBhcmdjLApkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL2NvcmUv
b3Byb3h5LmggYi9kcm0vbm91dmVhdS9pbmNsdWRlL252a20vY29yZS9vcHJveHkuaAppbmRleCAw
ZTcwYTlhZmIuLjllYjMxNmFkMyAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvaW5jbHVkZS9udmtt
L2NvcmUvb3Byb3h5LmgKKysrIGIvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL2NvcmUvb3Byb3h5
LmgKQEAgLTEzLDcgKzEzLDcgQEAgc3RydWN0IG52a21fb3Byb3h5IHsKIHN0cnVjdCBudmttX29w
cm94eV9mdW5jIHsKIAl2b2lkICgqZHRvclsyXSkoc3RydWN0IG52a21fb3Byb3h5ICopOwogCWlu
dCAgKCppbml0WzJdKShzdHJ1Y3QgbnZrbV9vcHJveHkgKik7Ci0JaW50ICAoKmZpbmlbMl0pKHN0
cnVjdCBudmttX29wcm94eSAqLCBib29sIHN1c3BlbmQpOworCWludCAgKCpmaW5pWzJdKShzdHJ1
Y3QgbnZrbV9vcHJveHkgKiwgZW51bSBudmttX3N1c3BlbmRfdHlwZSk7CiB9OwogCiB2b2lkIG52
a21fb3Byb3h5X2N0b3IoY29uc3Qgc3RydWN0IG52a21fb3Byb3h5X2Z1bmMgKiwKZGlmZiAtLWdp
dCBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL3N1YmRldi5oIGIvZHJtL25vdXZlYXUv
aW5jbHVkZS9udmttL2NvcmUvc3ViZGV2LmgKaW5kZXggMTIxOGYyOGMxLi42YmQ5ZWUyMDAgMTAw
NjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL3N1YmRldi5oCisrKyBiL2Ry
bS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL3N1YmRldi5oCkBAIC0yLDYgKzIsNyBAQAogI2lm
bmRlZiBfX05WS01fU1VCREVWX0hfXwogI2RlZmluZSBfX05WS01fU1VCREVWX0hfXwogI2luY2x1
ZGUgPGNvcmUvZGV2aWNlLmg+CisjaW5jbHVkZSA8Y29yZS9vYmplY3QuaD4KIAogc3RydWN0IG52
a21fc3ViZGV2IHsKIAljb25zdCBzdHJ1Y3QgbnZrbV9zdWJkZXZfZnVuYyAqZnVuYzsKQEAgLTE5
LDcgKzIwLDcgQEAgc3RydWN0IG52a21fc3ViZGV2X2Z1bmMgewogCWludCAoKm9uZWluaXQpKHN0
cnVjdCBudmttX3N1YmRldiAqKTsKIAlpbnQgKCppbmZvKShzdHJ1Y3QgbnZrbV9zdWJkZXYgKiwg
dTY0IG10aGQsIHU2NCAqZGF0YSk7CiAJaW50ICgqaW5pdCkoc3RydWN0IG52a21fc3ViZGV2ICop
OwotCWludCAoKmZpbmkpKHN0cnVjdCBudmttX3N1YmRldiAqLCBib29sIHN1c3BlbmQpOworCWlu
dCAoKmZpbmkpKHN0cnVjdCBudmttX3N1YmRldiAqLCBlbnVtIG52a21fc3VzcGVuZF90eXBlKTsK
IAl2b2lkICgqaW50cikoc3RydWN0IG52a21fc3ViZGV2ICopOwogfTsKIApAQCAtMjksNyArMzAs
NyBAQCB2b2lkIG52a21fc3ViZGV2X2N0b3IoY29uc3Qgc3RydWN0IG52a21fc3ViZGV2X2Z1bmMg
Kiwgc3RydWN0IG52a21fZGV2aWNlICosCiB2b2lkIG52a21fc3ViZGV2X2RlbChzdHJ1Y3QgbnZr
bV9zdWJkZXYgKiopOwogaW50ICBudmttX3N1YmRldl9wcmVpbml0KHN0cnVjdCBudmttX3N1YmRl
diAqKTsKIGludCAgbnZrbV9zdWJkZXZfaW5pdChzdHJ1Y3QgbnZrbV9zdWJkZXYgKik7Ci1pbnQg
IG52a21fc3ViZGV2X2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICosIGJvb2wgc3VzcGVuZCk7Citp
bnQgIG52a21fc3ViZGV2X2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICosIGVudW0gbnZrbV9zdXNw
ZW5kX3R5cGUpOwogaW50ICBudmttX3N1YmRldl9pbmZvKHN0cnVjdCBudmttX3N1YmRldiAqLCB1
NjQsIHU2NCAqKTsKIHZvaWQgbnZrbV9zdWJkZXZfaW50cihzdHJ1Y3QgbnZrbV9zdWJkZXYgKik7
CiAKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMgYi9kcm0vbm91dmVhdS9u
b3V2ZWF1X2RybS5jCmluZGV4IDQ2NjI3MWMwYy4uMDE2MmNlYThlIDEwMDY0NAotLS0gYS9kcm0v
bm91dmVhdS9ub3V2ZWF1X2RybS5jCisrKyBiL2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMKQEAg
LTc4Myw3ICs3ODMsNyBAQCBub3V2ZWF1X2RvX3N1c3BlbmQoc3RydWN0IGRybV9kZXZpY2UgKmRl
diwgYm9vbCBydW50aW1lKQogCX0KIAogCU5WX0RFQlVHKGRybSwgInN1c3BlbmRpbmcgb2JqZWN0
IHRyZWUuLi5cbiIpOwotCXJldCA9IG52aWZfY2xpZW50X3N1c3BlbmQoJmRybS0+bWFzdGVyLmJh
c2UpOworCXJldCA9IG52aWZfY2xpZW50X3N1c3BlbmQoJmRybS0+bWFzdGVyLmJhc2UsIHJ1bnRp
bWUpOwogCWlmIChyZXQpCiAJCWdvdG8gZmFpbF9jbGllbnQ7CiAKZGlmZiAtLWdpdCBhL2RybS9u
b3V2ZWF1L25vdXZlYXVfbnZpZi5jIGIvZHJtL25vdXZlYXUvbm91dmVhdV9udmlmLmMKaW5kZXgg
YjNmMjliMWNlLi44ODVhYmIzYTUgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L25vdXZlYXVfbnZp
Zi5jCisrKyBiL2RybS9ub3V2ZWF1L25vdXZlYXVfbnZpZi5jCkBAIC02NSwxMCArNjUsMTIgQEAg
bnZrbV9jbGllbnRfcmVzdW1lKHZvaWQgKnByaXYpCiB9CiAKIHN0YXRpYyBpbnQKLW52a21fY2xp
ZW50X3N1c3BlbmQodm9pZCAqcHJpdikKK252a21fY2xpZW50X3N1c3BlbmQodm9pZCAqcHJpdiwg
Ym9vbCBydW50aW1lKQogewogCXN0cnVjdCBudmttX2NsaWVudCAqY2xpZW50ID0gcHJpdjsKLQly
ZXR1cm4gbnZrbV9vYmplY3RfZmluaSgmY2xpZW50LT5vYmplY3QsIHRydWUpOworCWVudW0gbnZr
bV9zdXNwZW5kX3R5cGUgc3VzcGVuZCA9CisJCXJ1bnRpbWUgPyBOVktNX1NVU1BFTkRfUlVOVElN
RSA6IE5WS01fU1VTUEVORF9TWVNURU07CisJcmV0dXJuIG52a21fb2JqZWN0X2ZpbmkoJmNsaWVu
dC0+b2JqZWN0LCBzdXNwZW5kKTsKIH0KIAogc3RhdGljIGludApkaWZmIC0tZ2l0IGEvZHJtL25v
dXZlYXUvbnZpZi9jbGllbnQuYyBiL2RybS9ub3V2ZWF1L252aWYvY2xpZW50LmMKaW5kZXggMTJk
YjU0OTY1Li4zMGZjMGIyODQgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252aWYvY2xpZW50LmMK
KysrIGIvZHJtL25vdXZlYXUvbnZpZi9jbGllbnQuYwpAQCAtMzYsOSArMzYsOSBAQCBudmlmX2Ns
aWVudF9pb2N0bChzdHJ1Y3QgbnZpZl9jbGllbnQgKmNsaWVudCwgdm9pZCAqZGF0YSwgdTMyIHNp
emUpCiB9CiAKIGludAotbnZpZl9jbGllbnRfc3VzcGVuZChzdHJ1Y3QgbnZpZl9jbGllbnQgKmNs
aWVudCkKK252aWZfY2xpZW50X3N1c3BlbmQoc3RydWN0IG52aWZfY2xpZW50ICpjbGllbnQsIGJv
b2wgcnVudGltZSkKIHsKLQlyZXR1cm4gY2xpZW50LT5kcml2ZXItPnN1c3BlbmQoY2xpZW50LT5v
YmplY3QucHJpdik7CisJcmV0dXJuIGNsaWVudC0+ZHJpdmVyLT5zdXNwZW5kKGNsaWVudC0+b2Jq
ZWN0LnByaXYsIHJ1bnRpbWUpOwogfQogCiBpbnQKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252
a20vY29yZS9jbGllbnQuYyBiL2RybS9ub3V2ZWF1L252a20vY29yZS9jbGllbnQuYwppbmRleCBh
YzY3MTIwMjkuLjQyYTY4NTBjNiAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9jb3JlL2Ns
aWVudC5jCisrKyBiL2RybS9ub3V2ZWF1L252a20vY29yZS9jbGllbnQuYwpAQCAtMjUzLDEyICsy
NTMsMTEgQEAgbnZrbV9jbGllbnRfY2hpbGRfZ2V0KHN0cnVjdCBudmttX29iamVjdCAqb2JqZWN0
LCBpbnQgaW5kZXgsCiB9CiAKIHN0YXRpYyBpbnQKLW52a21fY2xpZW50X2Zpbmkoc3RydWN0IG52
a21fb2JqZWN0ICpvYmplY3QsIGJvb2wgc3VzcGVuZCkKK252a21fY2xpZW50X2Zpbmkoc3RydWN0
IG52a21fb2JqZWN0ICpvYmplY3QsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsK
IAlzdHJ1Y3QgbnZrbV9jbGllbnQgKmNsaWVudCA9IG52a21fY2xpZW50KG9iamVjdCk7Ci0JY29u
c3QgY2hhciAqbmFtZVsyXSA9IHsgImZpbmkiLCAic3VzcGVuZCIgfTsKIAlpbnQgaTsKLQludmlm
X2RlYnVnKG9iamVjdCwgIiVzIG5vdGlmeVxuIiwgbmFtZVtzdXNwZW5kXSk7CisJbnZpZl9kZWJ1
ZyhvYmplY3QsICIlcyBub3RpZnlcbiIsIG52a21fc3VzcGVuZF90eXBlX3N0cihzdXNwZW5kKSk7
CiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoY2xpZW50LT5ub3RpZnkpOyBpKyspCiAJCW52
a21fY2xpZW50X25vdGlmeV9wdXQoY2xpZW50LCBpKTsKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBh
L2RybS9ub3V2ZWF1L252a20vY29yZS9lbmdpbmUuYyBiL2RybS9ub3V2ZWF1L252a20vY29yZS9l
bmdpbmUuYwppbmRleCAxYTQ3YzQwZTEuLjlhNTczOWNhMiAxMDA2NDQKLS0tIGEvZHJtL25vdXZl
YXUvbnZrbS9jb3JlL2VuZ2luZS5jCisrKyBiL2RybS9ub3V2ZWF1L252a20vY29yZS9lbmdpbmUu
YwpAQCAtNDIsNyArNDIsNyBAQCBudmttX2VuZ2luZV91bnJlZihzdHJ1Y3QgbnZrbV9lbmdpbmUg
KipwZW5naW5lKQogCWlmIChlbmdpbmUpIHsKIAkJbXV0ZXhfbG9jaygmZW5naW5lLT5zdWJkZXYu
bXV0ZXgpOwogCQlpZiAoLS1lbmdpbmUtPnVzZWNvdW50ID09IDApCi0JCQludmttX3N1YmRldl9m
aW5pKCZlbmdpbmUtPnN1YmRldiwgZmFsc2UpOworCQkJbnZrbV9zdWJkZXZfZmluaSgmZW5naW5l
LT5zdWJkZXYsIE5WS01fU1VTUEVORF9OT05FKTsKIAkJbXV0ZXhfdW5sb2NrKCZlbmdpbmUtPnN1
YmRldi5tdXRleCk7CiAJCSpwZW5naW5lID0gTlVMTDsKIAl9CkBAIC05OCw3ICs5OCw3IEBAIG52
a21fZW5naW5lX2luZm8oc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIHU2NCBtdGhkLCB1NjQg
KmRhdGEpCiB9CiAKIHN0YXRpYyBpbnQKLW52a21fZW5naW5lX2Zpbmkoc3RydWN0IG52a21fc3Vi
ZGV2ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKK252a21fZW5naW5lX2Zpbmkoc3RydWN0IG52a21f
c3ViZGV2ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1
Y3QgbnZrbV9lbmdpbmUgKmVuZ2luZSA9IG52a21fZW5naW5lKHN1YmRldik7CiAJaWYgKGVuZ2lu
ZS0+ZnVuYy0+ZmluaSkKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vY29yZS9pb2N0bC5j
IGIvZHJtL25vdXZlYXUvbnZrbS9jb3JlL2lvY3RsLmMKaW5kZXggZDc3N2RmNWE2Li5iMjI3N2Ux
OWQgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vY29yZS9pb2N0bC5jCisrKyBiL2RybS9u
b3V2ZWF1L252a20vY29yZS9pb2N0bC5jCkBAIC0xMzUsNyArMTM1LDcgQEAgbnZrbV9pb2N0bF9u
ZXcoc3RydWN0IG52a21fY2xpZW50ICpjbGllbnQsCiAJCQl9CiAJCQlyZXQgPSAtRUVYSVNUOwog
CQl9Ci0JCW52a21fb2JqZWN0X2Zpbmkob2JqZWN0LCBmYWxzZSk7CisJCW52a21fb2JqZWN0X2Zp
bmkob2JqZWN0LCBOVktNX1NVU1BFTkRfTk9ORSk7CiAJfQogCiAJbnZrbV9vYmplY3RfZGVsKCZv
YmplY3QpOwpAQCAtMTU0LDcgKzE1NCw3IEBAIG52a21faW9jdGxfZGVsKHN0cnVjdCBudmttX2Ns
aWVudCAqY2xpZW50LAogCW52aWZfaW9jdGwob2JqZWN0LCAiZGVsZXRlIHNpemUgJWRcbiIsIHNp
emUpOwogCWlmICghKHJldCA9IG52aWZfdW52ZXJzKHJldCwgJmRhdGEsICZzaXplLCBhcmdzLT5u
b25lKSkpIHsKIAkJbnZpZl9pb2N0bChvYmplY3QsICJkZWxldGVcbiIpOwotCQludmttX29iamVj
dF9maW5pKG9iamVjdCwgZmFsc2UpOworCQludmttX29iamVjdF9maW5pKG9iamVjdCwgTlZLTV9T
VVNQRU5EX05PTkUpOwogCQludmttX29iamVjdF9kZWwoJm9iamVjdCk7CiAJfQogCmRpZmYgLS1n
aXQgYS9kcm0vbm91dmVhdS9udmttL2NvcmUvb2JqZWN0LmMgYi9kcm0vbm91dmVhdS9udmttL2Nv
cmUvb2JqZWN0LmMKaW5kZXggMzAxYTVlNWI1Li44YWIwZTQ0MzcgMTAwNjQ0Ci0tLSBhL2RybS9u
b3V2ZWF1L252a20vY29yZS9vYmplY3QuYworKysgYi9kcm0vbm91dmVhdS9udmttL2NvcmUvb2Jq
ZWN0LmMKQEAgLTE3NSwxMCArMTc1LDI0IEBAIG52a21fb2JqZWN0X2JpbmQoc3RydWN0IG52a21f
b2JqZWN0ICpvYmplY3QsIHN0cnVjdCBudmttX2dwdW9iaiAqZ3B1b2JqLAogCXJldHVybiAtRU5P
REVWOwogfQogCitjb25zdCBjaGFyICoKK252a21fc3VzcGVuZF90eXBlX3N0cihlbnVtIG52a21f
c3VzcGVuZF90eXBlIHR5cGUpCit7CisJc3dpdGNoICh0eXBlKSB7CisJY2FzZSBOVktNX1NVU1BF
TkRfTk9ORToKKwkJcmV0dXJuICJmaW5pIjsKKwljYXNlIE5WS01fU1VTUEVORF9TWVNURU06CisJ
CXJldHVybiAic3VzcGVuZCI7CisJY2FzZSBOVktNX1NVU1BFTkRfUlVOVElNRToKKwkJcmV0dXJu
ICJydW50aW1lIHN1c3BlbmQiOworCX0KKwlyZXR1cm4gIiI7Cit9CisKIGludAotbnZrbV9vYmpl
Y3RfZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgYm9vbCBzdXNwZW5kKQorbnZrbV9v
YmplY3RfZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgZW51bSBudmttX3N1c3BlbmRf
dHlwZSBzdXNwZW5kKQogewotCWNvbnN0IGNoYXIgKmFjdGlvbiA9IHN1c3BlbmQgPyAic3VzcGVu
ZCIgOiAiZmluaSI7CisJY29uc3QgY2hhciAqYWN0aW9uID0gbnZrbV9zdXNwZW5kX3R5cGVfc3Ry
KHN1c3BlbmQpOwogCXN0cnVjdCBudmttX29iamVjdCAqY2hpbGQ7CiAJczY0IHRpbWU7CiAJaW50
IHJldDsKQEAgLTI0NiwxMSArMjYwLDExIEBAIG52a21fb2JqZWN0X2luaXQoc3RydWN0IG52a21f
b2JqZWN0ICpvYmplY3QpCiAKIGZhaWxfY2hpbGQ6CiAJbGlzdF9mb3JfZWFjaF9lbnRyeV9jb250
aW51ZV9yZXZlcnNlKGNoaWxkLCAmb2JqZWN0LT50cmVlLCBoZWFkKQotCQludmttX29iamVjdF9m
aW5pKGNoaWxkLCBmYWxzZSk7CisJCW52a21fb2JqZWN0X2ZpbmkoY2hpbGQsIE5WS01fU1VTUEVO
RF9OT05FKTsKIGZhaWw6CiAJbnZpZl9lcnJvcihvYmplY3QsICJpbml0IGZhaWxlZCB3aXRoICVk
XG4iLCByZXQpOwogCWlmIChvYmplY3QtPmZ1bmMtPmZpbmkpCi0JCW9iamVjdC0+ZnVuYy0+Zmlu
aShvYmplY3QsIGZhbHNlKTsKKwkJb2JqZWN0LT5mdW5jLT5maW5pKG9iamVjdCwgTlZLTV9TVVNQ
RU5EX05PTkUpOwogCXJldHVybiByZXQ7CiB9CiAKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252
a20vY29yZS9vcHJveHkuYyBiL2RybS9ub3V2ZWF1L252a20vY29yZS9vcHJveHkuYwppbmRleCAx
NjI5OTgzN2EuLjkxYmRkOWVhMyAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9jb3JlL29w
cm94eS5jCisrKyBiL2RybS9ub3V2ZWF1L252a20vY29yZS9vcHJveHkuYwpAQCAtMTA2LDcgKzEw
Niw3IEBAIG52a21fb3Byb3h5X3NjbGFzcyhzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgaW50
IGluZGV4LAogfQogCiBzdGF0aWMgaW50Ci1udmttX29wcm94eV9maW5pKHN0cnVjdCBudmttX29i
amVjdCAqb2JqZWN0LCBib29sIHN1c3BlbmQpCitudmttX29wcm94eV9maW5pKHN0cnVjdCBudmtt
X29iamVjdCAqb2JqZWN0LCBlbnVtIG52a21fc3VzcGVuZF90eXBlIHN1c3BlbmQpCiB7CiAJc3Ry
dWN0IG52a21fb3Byb3h5ICpvcHJveHkgPSBudmttX29wcm94eShvYmplY3QpOwogCWludCByZXQ7
CmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL2NvcmUvc3ViZGV2LmMgYi9kcm0vbm91dmVh
dS9udmttL2NvcmUvc3ViZGV2LmMKaW5kZXggMjQ1OTkwZGUxLi45NTQwMmI2YzkgMTAwNjQ0Ci0t
LSBhL2RybS9ub3V2ZWF1L252a20vY29yZS9zdWJkZXYuYworKysgYi9kcm0vbm91dmVhdS9udmtt
L2NvcmUvc3ViZGV2LmMKQEAgLTEwNywxMCArMTA3LDEwIEBAIG52a21fc3ViZGV2X2luZm8oc3Ry
dWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIHU2NCBtdGhkLCB1NjQgKmRhdGEpCiB9CiAKIGludAot
bnZrbV9zdWJkZXZfZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgYm9vbCBzdXNwZW5k
KQorbnZrbV9zdWJkZXZfZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgZW51bSBudmtt
X3N1c3BlbmRfdHlwZSBzdXNwZW5kKQogewogCXN0cnVjdCBudmttX2RldmljZSAqZGV2aWNlID0g
c3ViZGV2LT5kZXZpY2U7Ci0JY29uc3QgY2hhciAqYWN0aW9uID0gc3VzcGVuZCA/ICJzdXNwZW5k
IiA6ICJmaW5pIjsKKwljb25zdCBjaGFyICphY3Rpb24gPSBudmttX3N1c3BlbmRfdHlwZV9zdHIo
c3VzcGVuZCk7CiAJczY0IHRpbWU7CiAKIAludmttX3RyYWNlKHN1YmRldiwgIiVzIHJ1bm5pbmcu
Li5cbiIsIGFjdGlvbik7CmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9kZXZp
Y2UvYmFzZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGV2aWNlL2Jhc2UuYwppbmRleCBj
M2M3MTU5ZjMuLjRjNWNkYmE4MiAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUv
ZGV2aWNlL2Jhc2UuYworKysgYi9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9kZXZpY2UvYmFzZS5j
CkBAIC0yNzI0LDEzICsyNzI0LDE0IEBAIG52a21fZGV2aWNlX2VuZ2luZShzdHJ1Y3QgbnZrbV9k
ZXZpY2UgKmRldmljZSwgaW50IGluZGV4KQogfQogCiBpbnQKLW52a21fZGV2aWNlX2Zpbmkoc3Ry
dWN0IG52a21fZGV2aWNlICpkZXZpY2UsIGJvb2wgc3VzcGVuZCkKK252a21fZGV2aWNlX2Zpbmko
c3RydWN0IG52a21fZGV2aWNlICpkZXZpY2UsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVu
ZCkKIHsKLQljb25zdCBjaGFyICphY3Rpb24gPSBzdXNwZW5kID8gInN1c3BlbmQiIDogImZpbmki
OwogCXN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2OwogCWludCByZXQsIGk7CiAJczY0IHRpbWU7
CiAKKwljb25zdCBjaGFyICphY3Rpb24gPSBudmttX3N1c3BlbmRfdHlwZV9zdHIoc3VzcGVuZCk7
CisKIAludmRldl90cmFjZShkZXZpY2UsICIlcyBydW5uaW5nLi4uXG4iLCBhY3Rpb24pOwogCXRp
bWUgPSBrdGltZV90b191cyhrdGltZV9nZXQoKSk7CiAKQEAgLTI4MTQsNyArMjgxNSw3IEBAIG52
a21fZGV2aWNlX2luaXQoc3RydWN0IG52a21fZGV2aWNlICpkZXZpY2UpCiAJaWYgKHJldCkKIAkJ
cmV0dXJuIHJldDsKIAotCW52a21fZGV2aWNlX2ZpbmkoZGV2aWNlLCBmYWxzZSk7CisJbnZrbV9k
ZXZpY2VfZmluaShkZXZpY2UsIE5WS01fU1VTUEVORF9OT05FKTsKIAogCW52ZGV2X3RyYWNlKGRl
dmljZSwgImluaXQgcnVubmluZy4uLlxuIik7CiAJdGltZSA9IGt0aW1lX3RvX3VzKGt0aW1lX2dl
dCgpKTsKQEAgLTI4NDMsMTEgKzI4NDQsMTEgQEAgbnZrbV9kZXZpY2VfaW5pdChzdHJ1Y3QgbnZr
bV9kZXZpY2UgKmRldmljZSkKIGZhaWxfc3ViZGV2OgogCWRvIHsKIAkJaWYgKChzdWJkZXYgPSBu
dmttX2RldmljZV9zdWJkZXYoZGV2aWNlLCBpKSkpCi0JCQludmttX3N1YmRldl9maW5pKHN1YmRl
diwgZmFsc2UpOworCQkJbnZrbV9zdWJkZXZfZmluaShzdWJkZXYsIE5WS01fU1VTUEVORF9OT05F
KTsKIAl9IHdoaWxlICgtLWkgPj0gMCk7CiAKIGZhaWw6Ci0JbnZrbV9kZXZpY2VfZmluaShkZXZp
Y2UsIGZhbHNlKTsKKwludmttX2RldmljZV9maW5pKGRldmljZSwgTlZLTV9TVVNQRU5EX05PTkUp
OwogCiAJbnZkZXZfZXJyb3IoZGV2aWNlLCAiaW5pdCBmYWlsZWQgd2l0aCAlZFxuIiwgcmV0KTsK
IAlyZXR1cm4gcmV0OwpkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGV2aWNl
L3BjaS5jIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGV2aWNlL3BjaS5jCmluZGV4IGYzMDJk
MmI1Ny4uODNlNTU4YjIyIDEwMDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9kZXZp
Y2UvcGNpLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGV2aWNlL3BjaS5jCkBAIC0x
NTc1LDcgKzE1NzUsNyBAQCBudmttX2RldmljZV9wY2lfcmVzb3VyY2Vfc2l6ZShzdHJ1Y3QgbnZr
bV9kZXZpY2UgKmRldmljZSwgdW5zaWduZWQgYmFyKQogfQogCiBzdGF0aWMgdm9pZAotbnZrbV9k
ZXZpY2VfcGNpX2Zpbmkoc3RydWN0IG52a21fZGV2aWNlICpkZXZpY2UsIGJvb2wgc3VzcGVuZCkK
K252a21fZGV2aWNlX3BjaV9maW5pKHN0cnVjdCBudmttX2RldmljZSAqZGV2aWNlLCBlbnVtIG52
a21fc3VzcGVuZF90eXBlIHN1c3BlbmQpCiB7CiAJc3RydWN0IG52a21fZGV2aWNlX3BjaSAqcGRl
diA9IG52a21fZGV2aWNlX3BjaShkZXZpY2UpOwogCWlmIChzdXNwZW5kKSB7CmRpZmYgLS1naXQg
YS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9kZXZpY2UvcHJpdi5oIGIvZHJtL25vdXZlYXUvbnZr
bS9lbmdpbmUvZGV2aWNlL3ByaXYuaAppbmRleCBkOGJlMmY3N2EuLmYwOGQyNzcwOCAxMDA2NDQK
LS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGV2aWNlL3ByaXYuaAorKysgYi9kcm0vbm91
dmVhdS9udmttL2VuZ2luZS9kZXZpY2UvcHJpdi5oCkBAIC01Niw1ICs1Niw1IEBAIGludCAgbnZr
bV9kZXZpY2VfY3Rvcihjb25zdCBzdHJ1Y3QgbnZrbV9kZXZpY2VfZnVuYyAqLAogCQkgICAgICBi
b29sIGRldGVjdCwgYm9vbCBtbWlvLCB1NjQgc3ViZGV2X21hc2ssCiAJCSAgICAgIHN0cnVjdCBu
dmttX2RldmljZSAqKTsKIGludCAgbnZrbV9kZXZpY2VfaW5pdChzdHJ1Y3QgbnZrbV9kZXZpY2Ug
Kik7Ci1pbnQgIG52a21fZGV2aWNlX2Zpbmkoc3RydWN0IG52a21fZGV2aWNlICosIGJvb2wgc3Vz
cGVuZCk7CitpbnQgIG52a21fZGV2aWNlX2Zpbmkoc3RydWN0IG52a21fZGV2aWNlICosIGVudW0g
bnZrbV9zdXNwZW5kX3R5cGUpOwogI2VuZGlmCmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmtt
L2VuZ2luZS9kZXZpY2UvdGVncmEuYyBiL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2RldmljZS90
ZWdyYS5jCmluZGV4IDBlMzcyYTE5MC4uY2VmZWQ3NzE4IDEwMDY0NAotLS0gYS9kcm0vbm91dmVh
dS9udmttL2VuZ2luZS9kZXZpY2UvdGVncmEuYworKysgYi9kcm0vbm91dmVhdS9udmttL2VuZ2lu
ZS9kZXZpY2UvdGVncmEuYwpAQCAtMjIzLDcgKzIyMyw4IEBAIG52a21fZGV2aWNlX3RlZ3JhX2lu
dHIoaW50IGlycSwgdm9pZCAqYXJnKQogfQogCiBzdGF0aWMgdm9pZAotbnZrbV9kZXZpY2VfdGVn
cmFfZmluaShzdHJ1Y3QgbnZrbV9kZXZpY2UgKmRldmljZSwgYm9vbCBzdXNwZW5kKQorbnZrbV9k
ZXZpY2VfdGVncmFfZmluaShzdHJ1Y3QgbnZrbV9kZXZpY2UgKmRldmljZSwKKwkJICAgICAgIGVu
dW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnZrbV9kZXZpY2VfdGVn
cmEgKnRkZXYgPSBudmttX2RldmljZV90ZWdyYShkZXZpY2UpOwogCWlmICh0ZGV2LT5pcnEpIHsK
ZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2RldmljZS91c2VyLmMgYi9kcm0v
bm91dmVhdS9udmttL2VuZ2luZS9kZXZpY2UvdXNlci5jCmluZGV4IDAzYzZkOWFlZi4uNDZmNmM2
NGFkIDEwMDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9kZXZpY2UvdXNlci5jCisr
KyBiL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2RldmljZS91c2VyLmMKQEAgLTI5MSw3ICsyOTEs
NyBAQCBudmttX3VkZXZpY2VfbWFwKHN0cnVjdCBudmttX29iamVjdCAqb2JqZWN0LCB2b2lkICph
cmd2LCB1MzIgYXJnYywKIH0KIAogc3RhdGljIGludAotbnZrbV91ZGV2aWNlX2Zpbmkoc3RydWN0
IG52a21fb2JqZWN0ICpvYmplY3QsIGJvb2wgc3VzcGVuZCkKK252a21fdWRldmljZV9maW5pKHN0
cnVjdCBudmttX29iamVjdCAqb2JqZWN0LCBlbnVtIG52a21fc3VzcGVuZF90eXBlIHN1c3BlbmQp
CiB7CiAJc3RydWN0IG52a21fdWRldmljZSAqdWRldiA9IG52a21fdWRldmljZShvYmplY3QpOwog
CXN0cnVjdCBudmttX2RldmljZSAqZGV2aWNlID0gdWRldi0+ZGV2aWNlOwpkaWZmIC0tZ2l0IGEv
ZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGlzcC9iYXNlLmMgYi9kcm0vbm91dmVhdS9udmttL2Vu
Z2luZS9kaXNwL2Jhc2UuYwppbmRleCBjYmQzM2U4N2IuLmI2YTExZWNhOCAxMDA2NDQKLS0tIGEv
ZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZGlzcC9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZr
bS9lbmdpbmUvZGlzcC9iYXNlLmMKQEAgLTIxNCw3ICsyMTQsNyBAQCBudmttX2Rpc3BfaW50cihz
dHJ1Y3QgbnZrbV9lbmdpbmUgKmVuZ2luZSkKIH0KIAogc3RhdGljIGludAotbnZrbV9kaXNwX2Zp
bmkoc3RydWN0IG52a21fZW5naW5lICplbmdpbmUsIGJvb2wgc3VzcGVuZCkKK252a21fZGlzcF9m
aW5pKHN0cnVjdCBudmttX2VuZ2luZSAqZW5naW5lLCBlbnVtIG52a21fc3VzcGVuZF90eXBlIHN1
c3BlbmQpCiB7CiAJc3RydWN0IG52a21fZGlzcCAqZGlzcCA9IG52a21fZGlzcChlbmdpbmUpOwog
CXN0cnVjdCBudmttX2Nvbm4gKmNvbm47CmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL2Vu
Z2luZS9kaXNwL2NoYW5udjUwLmMgYi9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9kaXNwL2NoYW5u
djUwLmMKaW5kZXggYmNmMzJkOTJlLi4wNDM3NzFkZTIgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1
L252a20vZW5naW5lL2Rpc3AvY2hhbm52NTAuYworKysgYi9kcm0vbm91dmVhdS9udmttL2VuZ2lu
ZS9kaXNwL2NoYW5udjUwLmMKQEAgLTI5Myw3ICsyOTMsNyBAQCBudjUwX2Rpc3BfY2hhbl9jaGls
ZF9nZXQoc3RydWN0IG52a21fb2JqZWN0ICpvYmplY3QsIGludCBpbmRleCwKIH0KIAogc3RhdGlj
IGludAotbnY1MF9kaXNwX2NoYW5fZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgYm9v
bCBzdXNwZW5kKQorbnY1MF9kaXNwX2NoYW5fZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVj
dCwgZW51bSBudmttX3N1c3BlbmRfdHlwZSBzdXNwZW5kKQogewogCXN0cnVjdCBudjUwX2Rpc3Bf
Y2hhbiAqY2hhbiA9IG52NTBfZGlzcF9jaGFuKG9iamVjdCk7CiAJY2hhbi0+ZnVuYy0+ZmluaShj
aGFuKTsKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2ZhbGNvbi5jIGIvZHJt
L25vdXZlYXUvbnZrbS9lbmdpbmUvZmFsY29uLmMKaW5kZXggODY3NTYxM2UxLi5mMTVhN2E5Mzgg
MTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2ZhbGNvbi5jCisrKyBiL2RybS9u
b3V2ZWF1L252a20vZW5naW5lL2ZhbGNvbi5jCkBAIC05Myw3ICs5Myw3IEBAIG52a21fZmFsY29u
X2ludHIoc3RydWN0IG52a21fZW5naW5lICplbmdpbmUpCiB9CiAKIHN0YXRpYyBpbnQKLW52a21f
ZmFsY29uX2Zpbmkoc3RydWN0IG52a21fZW5naW5lICplbmdpbmUsIGJvb2wgc3VzcGVuZCkKK252
a21fZmFsY29uX2Zpbmkoc3RydWN0IG52a21fZW5naW5lICplbmdpbmUsIGVudW0gbnZrbV9zdXNw
ZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnZrbV9mYWxjb24gKmZhbGNvbiA9IG52a21f
ZmFsY29uKGVuZ2luZSk7CiAJc3RydWN0IG52a21fZGV2aWNlICpkZXZpY2UgPSBmYWxjb24tPmVu
Z2luZS5zdWJkZXYuZGV2aWNlOwpkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUv
Zmlmby9iYXNlLmMgYi9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9maWZvL2Jhc2UuYwppbmRleCBj
NzczY2FmMjEuLmI3MTRiZjAxYyAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUv
Zmlmby9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZmlmby9iYXNlLmMKQEAg
LTI3OSw3ICsyNzksNyBAQCBudmttX2ZpZm9faW50cihzdHJ1Y3QgbnZrbV9lbmdpbmUgKmVuZ2lu
ZSkKIH0KIAogc3RhdGljIGludAotbnZrbV9maWZvX2Zpbmkoc3RydWN0IG52a21fZW5naW5lICpl
bmdpbmUsIGJvb2wgc3VzcGVuZCkKK252a21fZmlmb19maW5pKHN0cnVjdCBudmttX2VuZ2luZSAq
ZW5naW5lLCBlbnVtIG52a21fc3VzcGVuZF90eXBlIHN1c3BlbmQpCiB7CiAJc3RydWN0IG52a21f
ZmlmbyAqZmlmbyA9IG52a21fZmlmbyhlbmdpbmUpOwogCWlmIChmaWZvLT5mdW5jLT5maW5pKQpk
aWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZmlmby9jaGFuLmMgYi9kcm0vbm91
dmVhdS9udmttL2VuZ2luZS9maWZvL2NoYW4uYwppbmRleCBkODM0ODUzODUuLjliZDFhZTkxYSAx
MDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZmlmby9jaGFuLmMKKysrIGIvZHJt
L25vdXZlYXUvbnZrbS9lbmdpbmUvZmlmby9jaGFuLmMKQEAgLTM2LDcgKzM2LDggQEAgc3RydWN0
IG52a21fZmlmb19jaGFuX29iamVjdCB7CiB9OwogCiBzdGF0aWMgaW50Ci1udmttX2ZpZm9fY2hh
bl9jaGlsZF9maW5pKHN0cnVjdCBudmttX29wcm94eSAqYmFzZSwgYm9vbCBzdXNwZW5kKQorbnZr
bV9maWZvX2NoYW5fY2hpbGRfZmluaShzdHJ1Y3QgbnZrbV9vcHJveHkgKmJhc2UsCisJCQkgIGVu
dW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnZrbV9maWZvX2NoYW5f
b2JqZWN0ICpvYmplY3QgPQogCQljb250YWluZXJfb2YoYmFzZSwgdHlwZW9mKCpvYmplY3QpLCBv
cHJveHkpOwpAQCAtMjk0LDcgKzI5NSw3IEBAIG52a21fZmlmb19jaGFuX3dyMzIoc3RydWN0IG52
a21fb2JqZWN0ICpvYmplY3QsIHU2NCBhZGRyLCB1MzIgZGF0YSkKIH0KIAogc3RhdGljIGludAot
bnZrbV9maWZvX2NoYW5fZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgYm9vbCBzdXNw
ZW5kKQorbnZrbV9maWZvX2NoYW5fZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgZW51
bSBudmttX3N1c3BlbmRfdHlwZSBzdXNwZW5kKQogewogCXN0cnVjdCBudmttX2ZpZm9fY2hhbiAq
Y2hhbiA9IG52a21fZmlmb19jaGFuKG9iamVjdCk7CiAJY2hhbi0+ZnVuYy0+ZmluaShjaGFuKTsK
ZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2ZpZm8vZ2YxMDAuYyBiL2RybS9u
b3V2ZWF1L252a20vZW5naW5lL2ZpZm8vZ2YxMDAuYwppbmRleCA1YTM5ZTUxZDQuLjJmZjk0MzZh
MSAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZmlmby9nZjEwMC5jCisrKyBi
L2RybS9ub3V2ZWF1L252a20vZW5naW5lL2ZpZm8vZ2YxMDAuYwpAQCAtMTYyLDcgKzE2Miw3IEBA
IGdmMTAwX2ZpZm9fcmVjb3Zlcl93b3JrKHN0cnVjdCB3b3JrX3N0cnVjdCAqdykKIAogCWZvciAo
dG9kbyA9IG1hc2s7IGVuZ24gPSBfX2ZmczY0KHRvZG8pLCB0b2RvOyB0b2RvICY9IH5CSVRfVUxM
KGVuZ24pKSB7CiAJCWlmICgoZW5naW5lID0gbnZrbV9kZXZpY2VfZW5naW5lKGRldmljZSwgZW5n
bikpKSB7Ci0JCQludmttX3N1YmRldl9maW5pKCZlbmdpbmUtPnN1YmRldiwgZmFsc2UpOworCQkJ
bnZrbV9zdWJkZXZfZmluaSgmZW5naW5lLT5zdWJkZXYsIE5WS01fU1VTUEVORF9OT05FKTsKIAkJ
CVdBUk5fT04obnZrbV9zdWJkZXZfaW5pdCgmZW5naW5lLT5zdWJkZXYpKTsKIAkJfQogCX0KZGlm
ZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2ZpZm8vZ2sxMDQuYyBiL2RybS9ub3V2
ZWF1L252a20vZW5naW5lL2ZpZm8vZ2sxMDQuYwppbmRleCA1ZDRiNjk1Y2EuLjQ0NjBlNjI0MCAx
MDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZmlmby9nazEwNC5jCisrKyBiL2Ry
bS9ub3V2ZWF1L252a20vZW5naW5lL2ZpZm8vZ2sxMDQuYwpAQCAtMjkyLDcgKzI5Miw3IEBAIGdr
MTA0X2ZpZm9fcmVjb3Zlcl93b3JrKHN0cnVjdCB3b3JrX3N0cnVjdCAqdykKIAogCWZvciAodG9k
byA9IGVuZ207IGVuZ24gPSBfX2Zmcyh0b2RvKSwgdG9kbzsgdG9kbyAmPSB+QklUKGVuZ24pKSB7
CiAJCWlmICgoZW5naW5lID0gZmlmby0+ZW5naW5lW2VuZ25dLmVuZ2luZSkpIHsKLQkJCW52a21f
c3ViZGV2X2ZpbmkoJmVuZ2luZS0+c3ViZGV2LCBmYWxzZSk7CisJCQludmttX3N1YmRldl9maW5p
KCZlbmdpbmUtPnN1YmRldiwgTlZLTV9TVVNQRU5EX05PTkUpOwogCQkJV0FSTl9PTihudmttX3N1
YmRldl9pbml0KCZlbmdpbmUtPnN1YmRldikpOwogCQl9CiAJfQpkaWZmIC0tZ2l0IGEvZHJtL25v
dXZlYXUvbnZrbS9lbmdpbmUvZ3IvYmFzZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZ3Iv
YmFzZS5jCmluZGV4IGQ0MWZiOTQ1Mi4uMjVkNmJiZTcwIDEwMDY0NAotLS0gYS9kcm0vbm91dmVh
dS9udmttL2VuZ2luZS9nci9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvZ3Iv
YmFzZS5jCkBAIC0xNDMsNyArMTQzLDcgQEAgbnZrbV9ncl9pbml0KHN0cnVjdCBudmttX2VuZ2lu
ZSAqZW5naW5lKQogfQogCiBzdGF0aWMgaW50Ci1udmttX2dyX2Zpbmkoc3RydWN0IG52a21fZW5n
aW5lICplbmdpbmUsIGJvb2wgc3VzcGVuZCkKK252a21fZ3JfZmluaShzdHJ1Y3QgbnZrbV9lbmdp
bmUgKmVuZ2luZSwgZW51bSBudmttX3N1c3BlbmRfdHlwZSBzdXNwZW5kKQogewogCXN0cnVjdCBu
dmttX2dyICpnciA9IG52a21fZ3IoZW5naW5lKTsKIAlpZiAoZ3ItPmZ1bmMtPmZpbmkpCmRpZmYg
LS1naXQgYS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9nci9udjA0LmMgYi9kcm0vbm91dmVhdS9u
dmttL2VuZ2luZS9nci9udjA0LmMKaW5kZXggOWMyZTk4NWRjLi43MTViZGQwNjMgMTAwNjQ0Ci0t
LSBhL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2dyL252MDQuYworKysgYi9kcm0vbm91dmVhdS9u
dmttL2VuZ2luZS9nci9udjA0LmMKQEAgLTExNTgsNyArMTE1OCw3IEBAIG52MDRfZ3JfY2hhbl9k
dG9yKHN0cnVjdCBudmttX29iamVjdCAqb2JqZWN0KQogfQogCiBzdGF0aWMgaW50Ci1udjA0X2dy
X2NoYW5fZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgYm9vbCBzdXNwZW5kKQorbnYw
NF9ncl9jaGFuX2Zpbmkoc3RydWN0IG52a21fb2JqZWN0ICpvYmplY3QsIGVudW0gbnZrbV9zdXNw
ZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnYwNF9ncl9jaGFuICpjaGFuID0gbnYwNF9n
cl9jaGFuKG9iamVjdCk7CiAJc3RydWN0IG52MDRfZ3IgKmdyID0gY2hhbi0+Z3I7CmRpZmYgLS1n
aXQgYS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9nci9udjEwLmMgYi9kcm0vbm91dmVhdS9udmtt
L2VuZ2luZS9nci9udjEwLmMKaW5kZXggNGViYmZiZGQ4Li5mMGJiN2VkMmEgMTAwNjQ0Ci0tLSBh
L2RybS9ub3V2ZWF1L252a20vZW5naW5lL2dyL252MTAuYworKysgYi9kcm0vbm91dmVhdS9udmtt
L2VuZ2luZS9nci9udjEwLmMKQEAgLTk1MSw3ICs5NTEsNyBAQCBudjEwX2dyX2NvbnRleHRfc3dp
dGNoKHN0cnVjdCBudjEwX2dyICpncikKIH0KIAogc3RhdGljIGludAotbnYxMF9ncl9jaGFuX2Zp
bmkoc3RydWN0IG52a21fb2JqZWN0ICpvYmplY3QsIGJvb2wgc3VzcGVuZCkKK252MTBfZ3JfY2hh
bl9maW5pKHN0cnVjdCBudmttX29iamVjdCAqb2JqZWN0LCBlbnVtIG52a21fc3VzcGVuZF90eXBl
IHN1c3BlbmQpCiB7CiAJc3RydWN0IG52MTBfZ3JfY2hhbiAqY2hhbiA9IG52MTBfZ3JfY2hhbihv
YmplY3QpOwogCXN0cnVjdCBudjEwX2dyICpnciA9IGNoYW4tPmdyOwpkaWZmIC0tZ2l0IGEvZHJt
L25vdXZlYXUvbnZrbS9lbmdpbmUvZ3IvbnYyMC5jIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUv
Z3IvbnYyMC5jCmluZGV4IGQ4Mzc2MzBhMy4uYTA3MzBiNTk4IDEwMDY0NAotLS0gYS9kcm0vbm91
dmVhdS9udmttL2VuZ2luZS9nci9udjIwLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUv
Z3IvbnYyMC5jCkBAIC0yNyw3ICsyNyw3IEBAIG52MjBfZ3JfY2hhbl9pbml0KHN0cnVjdCBudmtt
X29iamVjdCAqb2JqZWN0KQogfQogCiBpbnQKLW52MjBfZ3JfY2hhbl9maW5pKHN0cnVjdCBudmtt
X29iamVjdCAqb2JqZWN0LCBib29sIHN1c3BlbmQpCitudjIwX2dyX2NoYW5fZmluaShzdHJ1Y3Qg
bnZrbV9vYmplY3QgKm9iamVjdCwgZW51bSBudmttX3N1c3BlbmRfdHlwZSBzdXNwZW5kKQogewog
CXN0cnVjdCBudjIwX2dyX2NoYW4gKmNoYW4gPSBudjIwX2dyX2NoYW4ob2JqZWN0KTsKIAlzdHJ1
Y3QgbnYyMF9nciAqZ3IgPSBjaGFuLT5ncjsKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20v
ZW5naW5lL2dyL252MjAuaCBiL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2dyL252MjAuaAppbmRl
eCBlNTc0MDdhOGEuLmNmOGU1ZTJlYiAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdp
bmUvZ3IvbnYyMC5oCisrKyBiL2RybS9ub3V2ZWF1L252a20vZW5naW5lL2dyL252MjAuaApAQCAt
MzEsNSArMzEsNSBAQCBzdHJ1Y3QgbnYyMF9ncl9jaGFuIHsKIAogdm9pZCAqbnYyMF9ncl9jaGFu
X2R0b3Ioc3RydWN0IG52a21fb2JqZWN0ICopOwogaW50IG52MjBfZ3JfY2hhbl9pbml0KHN0cnVj
dCBudmttX29iamVjdCAqKTsKLWludCBudjIwX2dyX2NoYW5fZmluaShzdHJ1Y3QgbnZrbV9vYmpl
Y3QgKiwgYm9vbCk7CitpbnQgbnYyMF9ncl9jaGFuX2Zpbmkoc3RydWN0IG52a21fb2JqZWN0ICos
IGVudW0gbnZrbV9zdXNwZW5kX3R5cGUpOwogI2VuZGlmCmRpZmYgLS1naXQgYS9kcm0vbm91dmVh
dS9udmttL2VuZ2luZS9nci9udjQwLmMgYi9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9nci9udjQw
LmMKaW5kZXggNWYxYWQ4MzQ0Li5lOThjN2YzODcgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252
a20vZW5naW5lL2dyL252NDAuYworKysgYi9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9nci9udjQw
LmMKQEAgLTg5LDcgKzg5LDcgQEAgbnY0MF9ncl9jaGFuX2JpbmQoc3RydWN0IG52a21fb2JqZWN0
ICpvYmplY3QsIHN0cnVjdCBudmttX2dwdW9iaiAqcGFyZW50LAogfQogCiBzdGF0aWMgaW50Ci1u
djQwX2dyX2NoYW5fZmluaShzdHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgYm9vbCBzdXNwZW5k
KQorbnY0MF9ncl9jaGFuX2Zpbmkoc3RydWN0IG52a21fb2JqZWN0ICpvYmplY3QsIGVudW0gbnZr
bV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnY0MF9ncl9jaGFuICpjaGFuID0g
bnY0MF9ncl9jaGFuKG9iamVjdCk7CiAJc3RydWN0IG52NDBfZ3IgKmdyID0gY2hhbi0+Z3I7CmRp
ZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9tcGVnL252NDQuYyBiL2RybS9ub3V2
ZWF1L252a20vZW5naW5lL21wZWcvbnY0NC5jCmluZGV4IGMzY2YwMmVkNC4uNmM1NDBiYzkyIDEw
MDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL2VuZ2luZS9tcGVnL252NDQuYworKysgYi9kcm0v
bm91dmVhdS9udmttL2VuZ2luZS9tcGVnL252NDQuYwpAQCAtNjUsNyArNjUsNyBAQCBudjQ0X21w
ZWdfY2hhbl9iaW5kKHN0cnVjdCBudmttX29iamVjdCAqb2JqZWN0LCBzdHJ1Y3QgbnZrbV9ncHVv
YmogKnBhcmVudCwKIH0KIAogc3RhdGljIGludAotbnY0NF9tcGVnX2NoYW5fZmluaShzdHJ1Y3Qg
bnZrbV9vYmplY3QgKm9iamVjdCwgYm9vbCBzdXNwZW5kKQorbnY0NF9tcGVnX2NoYW5fZmluaShz
dHJ1Y3QgbnZrbV9vYmplY3QgKm9iamVjdCwgZW51bSBudmttX3N1c3BlbmRfdHlwZSBzdXNwZW5k
KQogewogCiAJc3RydWN0IG52NDRfbXBlZ19jaGFuICpjaGFuID0gbnY0NF9tcGVnX2NoYW4ob2Jq
ZWN0KTsKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vZW5naW5lL3BtL2Jhc2UuYyBiL2Ry
bS9ub3V2ZWF1L252a20vZW5naW5lL3BtL2Jhc2UuYwppbmRleCBiMjc4NWJlZTQuLmU4N2UwYzMx
MSAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvcG0vYmFzZS5jCisrKyBiL2Ry
bS9ub3V2ZWF1L252a20vZW5naW5lL3BtL2Jhc2UuYwpAQCAtODIwLDcgKzgyMCw3IEBAIG52a21f
cGVyZmRvbV9uZXcoc3RydWN0IG52a21fcG0gKnBtLCBjb25zdCBjaGFyICpuYW1lLCB1MzIgbWFz
aywKIH0KIAogc3RhdGljIGludAotbnZrbV9wbV9maW5pKHN0cnVjdCBudmttX2VuZ2luZSAqZW5n
aW5lLCBib29sIHN1c3BlbmQpCitudmttX3BtX2Zpbmkoc3RydWN0IG52a21fZW5naW5lICplbmdp
bmUsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnZrbV9wbSAq
cG0gPSBudmttX3BtKGVuZ2luZSk7CiAJaWYgKHBtLT5mdW5jLT5maW5pKQpkaWZmIC0tZ2l0IGEv
ZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvc2VjMi9iYXNlLmMgYi9kcm0vbm91dmVhdS9udmttL2Vu
Z2luZS9zZWMyL2Jhc2UuYwppbmRleCAxYjQ5ZTViNjcuLjIyZDY2ZjM1NiAxMDA2NDQKLS0tIGEv
ZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUvc2VjMi9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZr
bS9lbmdpbmUvc2VjMi9iYXNlLmMKQEAgLTg3LDcgKzg3LDcgQEAgbnZrbV9zZWMyX29uZWluaXQo
c3RydWN0IG52a21fZW5naW5lICplbmdpbmUpCiB9CiAKIHN0YXRpYyBpbnQKLW52a21fc2VjMl9m
aW5pKHN0cnVjdCBudmttX2VuZ2luZSAqZW5naW5lLCBib29sIHN1c3BlbmQpCitudmttX3NlYzJf
ZmluaShzdHJ1Y3QgbnZrbV9lbmdpbmUgKmVuZ2luZSwgZW51bSBudmttX3N1c3BlbmRfdHlwZSBz
dXNwZW5kKQogewogCXN0cnVjdCBudmttX3NlYzIgKnNlYzIgPSBudmttX3NlYzIoZW5naW5lKTsK
IAlmbHVzaF93b3JrKCZzZWMyLT53b3JrKTsKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20v
ZW5naW5lL3h0ZW5zYS5jIGIvZHJtL25vdXZlYXUvbnZrbS9lbmdpbmUveHRlbnNhLmMKaW5kZXgg
NzA1NDkzODFlLi45ZTdiY2FjMTMgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vZW5naW5l
L3h0ZW5zYS5jCisrKyBiL2RybS9ub3V2ZWF1L252a20vZW5naW5lL3h0ZW5zYS5jCkBAIC03Niw3
ICs3Niw3IEBAIG52a21feHRlbnNhX2ludHIoc3RydWN0IG52a21fZW5naW5lICplbmdpbmUpCiB9
CiAKIHN0YXRpYyBpbnQKLW52a21feHRlbnNhX2Zpbmkoc3RydWN0IG52a21fZW5naW5lICplbmdp
bmUsIGJvb2wgc3VzcGVuZCkKK252a21feHRlbnNhX2Zpbmkoc3RydWN0IG52a21fZW5naW5lICpl
bmdpbmUsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnZrbV94
dGVuc2EgKnh0ZW5zYSA9IG52a21feHRlbnNhKGVuZ2luZSk7CiAJc3RydWN0IG52a21fZGV2aWNl
ICpkZXZpY2UgPSB4dGVuc2EtPmVuZ2luZS5zdWJkZXYuZGV2aWNlOwpkaWZmIC0tZ2l0IGEvZHJt
L25vdXZlYXUvbnZrbS9zdWJkZXYvYmFyL2Jhc2UuYyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2
L2Jhci9iYXNlLmMKaW5kZXggMjA5YTZhNDA4Li5kMmRkYjhhNTAgMTAwNjQ0Ci0tLSBhL2RybS9u
b3V2ZWF1L252a20vc3ViZGV2L2Jhci9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJk
ZXYvYmFyL2Jhc2UuYwpAQCAtOTAsNyArOTAsNyBAQCBudmttX2Jhcl9iYXIyX2luaXQoc3RydWN0
IG52a21fZGV2aWNlICpkZXZpY2UpCiB9CiAKIHN0YXRpYyBpbnQKLW52a21fYmFyX2Zpbmkoc3Ry
dWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKK252a21fYmFyX2Zpbmkoc3Ry
dWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgdHlwZSkKIHsK
IAlzdHJ1Y3QgbnZrbV9iYXIgKmJhciA9IG52a21fYmFyKHN1YmRldik7CiAJaWYgKGJhci0+ZnVu
Yy0+YmFyMS5maW5pKQpkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvY2xrL2Jh
c2UuYyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2Nsay9iYXNlLmMKaW5kZXggYmE2YTg2OGQ0
Li4yYjE1YmM3NGIgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2Nsay9iYXNl
LmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvY2xrL2Jhc2UuYwpAQCAtNTc2LDcgKzU3
Niw3IEBAIG52a21fY2xrX3JlYWQoc3RydWN0IG52a21fY2xrICpjbGssIGVudW0gbnZfY2xrX3Ny
YyBzcmMpCiB9CiAKIHN0YXRpYyBpbnQKLW52a21fY2xrX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2
ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKK252a21fY2xrX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2
ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgdHlwZSkKIHsKIAlzdHJ1Y3QgbnZrbV9j
bGsgKmNsayA9IG52a21fY2xrKHN1YmRldik7CiAJbnZrbV9ub3RpZnlfcHV0KCZjbGstPnB3cnNy
Y19udGZ5KTsKZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2RldmluaXQvYmFz
ZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvZGV2aW5pdC9iYXNlLmMKaW5kZXggNDc1NjAx
OWRkLi41YTU4ZjRkZWMgMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2Rldmlu
aXQvYmFzZS5jCisrKyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2RldmluaXQvYmFzZS5jCkBA
IC02Niw3ICs2Niw3IEBAIG52a21fZGV2aW5pdF9wb3N0KHN0cnVjdCBudmttX2RldmluaXQgKmlu
aXQsIHU2NCAqZGlzYWJsZSkKIH0KIAogc3RhdGljIGludAotbnZrbV9kZXZpbml0X2Zpbmkoc3Ry
dWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKK252a21fZGV2aW5pdF9maW5p
KHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2LCBlbnVtIG52a21fc3VzcGVuZF90eXBlIHN1c3Bl
bmQpCiB7CiAJc3RydWN0IG52a21fZGV2aW5pdCAqaW5pdCA9IG52a21fZGV2aW5pdChzdWJkZXYp
OwogCS8qIGZvcmNlIGZ1bGwgcmVpbml0IG9uIHJlc3VtZSAqLwpkaWZmIC0tZ2l0IGEvZHJtL25v
dXZlYXUvbnZrbS9zdWJkZXYvZmF1bHQvYmFzZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYv
ZmF1bHQvYmFzZS5jCmluZGV4IGNhMjUxNTYwZC4uNmIyZjlkMTAxIDEwMDY0NAotLS0gYS9kcm0v
bm91dmVhdS9udmttL3N1YmRldi9mYXVsdC9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9z
dWJkZXYvZmF1bHQvYmFzZS5jCkBAIC02Nyw3ICs2Nyw3IEBAIG52a21fZmF1bHRfaW50cihzdHJ1
Y3QgbnZrbV9zdWJkZXYgKnN1YmRldikKIH0KIAogc3RhdGljIGludAotbnZrbV9mYXVsdF9maW5p
KHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2LCBib29sIHN1c3BlbmQpCitudmttX2ZhdWx0X2Zp
bmkoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgdHlw
ZSkKIHsKIAlzdHJ1Y3QgbnZrbV9mYXVsdCAqZmF1bHQgPSBudmttX2ZhdWx0KHN1YmRldik7CiAJ
aWYgKGZhdWx0LT5mdW5jLT5maW5pKQpkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJk
ZXYvZmF1bHQvdXNlci5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvZmF1bHQvdXNlci5jCmlu
ZGV4IGFjODM1Yzk1OC4uMzQwMGFkZDQwIDEwMDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL3N1
YmRldi9mYXVsdC91c2VyLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvZmF1bHQvdXNl
ci5jCkBAIC01Miw3ICs1Miw3IEBAIG52a21fdWZhdWx0X250Znkoc3RydWN0IG52a21fb2JqZWN0
ICpvYmplY3QsIHUzMiB0eXBlLAogfQogCiBzdGF0aWMgaW50Ci1udmttX3VmYXVsdF9maW5pKHN0
cnVjdCBudmttX29iamVjdCAqb2JqZWN0LCBib29sIHN1c3BlbmQpCitudmttX3VmYXVsdF9maW5p
KHN0cnVjdCBudmttX29iamVjdCAqb2JqZWN0LCBlbnVtIG52a21fc3VzcGVuZF90eXBlIHN1c3Bl
bmQpCiB7CiAJc3RydWN0IG52a21fZmF1bHRfYnVmZmVyICpidWZmZXIgPSBudmttX2ZhdWx0X2J1
ZmZlcihvYmplY3QpOwogCWJ1ZmZlci0+ZmF1bHQtPmZ1bmMtPmJ1ZmZlci5maW5pKGJ1ZmZlcik7
CmRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9ncGlvL2Jhc2UuYyBiL2RybS9u
b3V2ZWF1L252a20vc3ViZGV2L2dwaW8vYmFzZS5jCmluZGV4IDkxNDI3NjQxMC4uYzcxNDI2OTE5
IDEwMDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9ncGlvL2Jhc2UuYworKysgYi9k
cm0vbm91dmVhdS9udmttL3N1YmRldi9ncGlvL2Jhc2UuYwpAQCAtMTYyLDcgKzE2Miw3IEBAIG52
a21fZ3Bpb19pbnRyKHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2KQogfQogCiBzdGF0aWMgaW50
Ci1udmttX2dwaW9fZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgYm9vbCBzdXNwZW5k
KQorbnZrbV9ncGlvX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGVudW0gbnZrbV9z
dXNwZW5kX3R5cGUgdHlwZSkKIHsKIAlzdHJ1Y3QgbnZrbV9ncGlvICpncGlvID0gbnZrbV9ncGlv
KHN1YmRldik7CiAJdTMyIG1hc2sgPSAoMVVMTCA8PCBncGlvLT5mdW5jLT5saW5lcykgLSAxOwpk
aWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvaTJjL2Jhc2UuYyBiL2RybS9ub3V2
ZWF1L252a20vc3ViZGV2L2kyYy9iYXNlLmMKaW5kZXggNzE5MzQ1MDc0Li4wZmRhYjg1MTUgMTAw
NjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L2kyYy9iYXNlLmMKKysrIGIvZHJtL25v
dXZlYXUvbnZrbS9zdWJkZXYvaTJjL2Jhc2UuYwpAQCAtMTU2LDcgKzE1Niw3IEBAIG52a21faTJj
X2ludHIoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYpCiB9CiAKIHN0YXRpYyBpbnQKLW52a21f
aTJjX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKK252a21f
aTJjX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5
cGUgdHlwZSkKIHsKIAlzdHJ1Y3QgbnZrbV9pMmMgKmkyYyA9IG52a21faTJjKHN1YmRldik7CiAJ
c3RydWN0IG52a21faTJjX3BhZCAqcGFkOwpkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9z
dWJkZXYvaW5zdG1lbS9iYXNlLmMgYi9kcm0vbm91dmVhdS9udmttL3N1YmRldi9pbnN0bWVtL2Jh
c2UuYwppbmRleCAzNjRlYTQ0OTIuLjNmMDU4N2Q2YiAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUv
bnZrbS9zdWJkZXYvaW5zdG1lbS9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYv
aW5zdG1lbS9iYXNlLmMKQEAgLTE1Nyw3ICsxNTcsNyBAQCBudmttX2luc3RtZW1fYm9vdChzdHJ1
Y3QgbnZrbV9pbnN0bWVtICppbWVtKQogfQogCiBzdGF0aWMgaW50Ci1udmttX2luc3RtZW1fZmlu
aShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgYm9vbCBzdXNwZW5kKQorbnZrbV9pbnN0bWVt
X2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUg
c3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnZrbV9pbnN0bWVtICppbWVtID0gbnZrbV9pbnN0bWVtKHN1
YmRldik7CiAJc3RydWN0IG52a21faW5zdG9iaiAqaW9iajsKZGlmZiAtLWdpdCBhL2RybS9ub3V2
ZWF1L252a20vc3ViZGV2L21jL2Jhc2UuYyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L21jL2Jh
c2UuYwppbmRleCAwZTU3YWIyYTcuLjdmZWY3MzMxZiAxMDA2NDQKLS0tIGEvZHJtL25vdXZlYXUv
bnZrbS9zdWJkZXYvbWMvYmFzZS5jCisrKyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L21jL2Jh
c2UuYwpAQCAtMTc1LDcgKzE3NSw3IEBAIG52a21fbWNfZW5hYmxlZChzdHJ1Y3QgbnZrbV9kZXZp
Y2UgKmRldmljZSwgZW51bSBudmttX2RldmlkeCBkZXZpZHgpCiAKIAogc3RhdGljIGludAotbnZr
bV9tY19maW5pKHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2LCBib29sIHN1c3BlbmQpCitudmtt
X21jX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5
cGUgdHlwZSkKIHsKIAludmttX21jX2ludHJfdW5hcm0oc3ViZGV2LT5kZXZpY2UpOwogCXJldHVy
biAwOwpkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYyBiL2Ry
bS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9iYXNlLmMKaW5kZXggZWUyNDMxYTc4Li45ZGI4ODA4
OTggMTAwNjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9iYXNlLmMKKysrIGIv
ZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYwpAQCAtODQsNyArODQsNyBAQCBudmtt
X3BjaV9pbnRyKGludCBpcnEsIHZvaWQgKmFyZykKIH0KIAogc3RhdGljIGludAotbnZrbV9wY2lf
ZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgYm9vbCBzdXNwZW5kKQorbnZrbV9wY2lf
ZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgZW51bSBudmttX3N1c3BlbmRfdHlwZSBz
dXNwZW5kKQogewogCXN0cnVjdCBudmttX3BjaSAqcGNpID0gbnZrbV9wY2koc3ViZGV2KTsKIApk
aWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcG11L2Jhc2UuYyBiL2RybS9ub3V2
ZWF1L252a20vc3ViZGV2L3BtdS9iYXNlLmMKaW5kZXggZWEyZTExNzcxLi42ZGY5YzU1ODYgMTAw
NjQ0Ci0tLSBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BtdS9iYXNlLmMKKysrIGIvZHJtL25v
dXZlYXUvbnZrbS9zdWJkZXYvcG11L2Jhc2UuYwpAQCAtNzcsNyArNzcsNyBAQCBudmttX3BtdV9p
bnRyKHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2KQogfQogCiBzdGF0aWMgaW50Ci1udmttX3Bt
dV9maW5pKHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2LCBib29sIHN1c3BlbmQpCitudmttX3Bt
dV9maW5pKHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2LCBlbnVtIG52a21fc3VzcGVuZF90eXBl
IHR5cGUpCiB7CiAJc3RydWN0IG52a21fcG11ICpwbXUgPSBudmttX3BtdShzdWJkZXYpOwogCmRp
ZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9zZWNib290L2Jhc2UuYyBiL2RybS9u
b3V2ZWF1L252a20vc3ViZGV2L3NlY2Jvb3QvYmFzZS5jCmluZGV4IGVlMjljNmMxMS4uOTVhNjVl
NjI2IDEwMDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9zZWNib290L2Jhc2UuYwor
KysgYi9kcm0vbm91dmVhdS9udmttL3N1YmRldi9zZWNib290L2Jhc2UuYwpAQCAtMTYxLDcgKzE2
MSw3IEBAIG52a21fc2VjYm9vdF9vbmVpbml0KHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2KQog
fQogCiBzdGF0aWMgaW50Ci1udmttX3NlY2Jvb3RfZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1
YmRldiwgYm9vbCBzdXNwZW5kKQorbnZrbV9zZWNib290X2Zpbmkoc3RydWN0IG52a21fc3ViZGV2
ICpzdWJkZXYsIGVudW0gbnZrbV9zdXNwZW5kX3R5cGUgc3VzcGVuZCkKIHsKIAlzdHJ1Y3QgbnZr
bV9zZWNib290ICpzYiA9IG52a21fc2VjYm9vdChzdWJkZXYpOwogCWludCByZXQgPSAwOwpkaWZm
IC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvdGhlcm0vYmFzZS5jIGIvZHJtL25vdXZl
YXUvbnZrbS9zdWJkZXYvdGhlcm0vYmFzZS5jCmluZGV4IDRhNGQxZTIyNC4uNjY4ODRhNjk3IDEw
MDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi90aGVybS9iYXNlLmMKKysrIGIvZHJt
L25vdXZlYXUvbnZrbS9zdWJkZXYvdGhlcm0vYmFzZS5jCkBAIC0zNDEsNyArMzQxLDcgQEAgbnZr
bV90aGVybV9pbnRyKHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2KQogfQogCiBzdGF0aWMgaW50
Ci1udmttX3RoZXJtX2Zpbmkoc3RydWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGJvb2wgc3VzcGVu
ZCkKK252a21fdGhlcm1fZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgZW51bSBudmtt
X3N1c3BlbmRfdHlwZSBzdXNwZW5kKQogewogCXN0cnVjdCBudmttX3RoZXJtICp0aGVybSA9IG52
a21fdGhlcm0oc3ViZGV2KTsKIApkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYv
dGltZXIvYmFzZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvdGltZXIvYmFzZS5jCmluZGV4
IGRkOTIyMDMzNi4uMzI1MWM5ZGUwIDEwMDY0NAotLS0gYS9kcm0vbm91dmVhdS9udmttL3N1YmRl
di90aW1lci9iYXNlLmMKKysrIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvdGltZXIvYmFzZS5j
CkBAIC0xNDksNyArMTQ5LDcgQEAgbnZrbV90aW1lcl9pbnRyKHN0cnVjdCBudmttX3N1YmRldiAq
c3ViZGV2KQogfQogCiBzdGF0aWMgaW50Ci1udmttX3RpbWVyX2Zpbmkoc3RydWN0IG52a21fc3Vi
ZGV2ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKK252a21fdGltZXJfZmluaShzdHJ1Y3QgbnZrbV9z
dWJkZXYgKnN1YmRldiwgZW51bSBudmttX3N1c3BlbmRfdHlwZSB0eXBlKQogewogCXN0cnVjdCBu
dmttX3RpbWVyICp0bXIgPSBudmttX3RpbWVyKHN1YmRldik7CiAJdG1yLT5mdW5jLT5hbGFybV9m
aW5pKHRtcik7CmRpZmYgLS1naXQgYS9saWIvZHJtLmMgYi9saWIvZHJtLmMKaW5kZXggMzliYzM2
OTU1Li42YWYwYmFiZTMgMTAwNjQ0Ci0tLSBhL2xpYi9kcm0uYworKysgYi9saWIvZHJtLmMKQEAg
LTc0LDcgKzc0LDcgQEAgZHJtX2NsaWVudF9yZXN1bWUodm9pZCAqcHJpdikKIH0KIAogc3RhdGlj
IGludAotZHJtX2NsaWVudF9zdXNwZW5kKHZvaWQgKnByaXYpCitkcm1fY2xpZW50X3N1c3BlbmQo
dm9pZCAqcHJpdiwgYm9vbCBydW50aW1lKQogewogCXJldHVybiAtRU5PU1lTOwogfQpkaWZmIC0t
Z2l0IGEvbGliL21haW4uYyBiL2xpYi9tYWluLmMKaW5kZXggMmUxMjdjMjUwLi45YTFjYmViODcg
MTAwNjQ0Ci0tLSBhL2xpYi9tYWluLmMKKysrIGIvbGliL21haW4uYwpAQCAtMjUwLDEwICsyNTAs
MTIgQEAgb3NfY2xpZW50X3Jlc3VtZSh2b2lkICpwcml2KQogfQogCiBzdGF0aWMgaW50Ci1vc19j
bGllbnRfc3VzcGVuZCh2b2lkICpwcml2KQorb3NfY2xpZW50X3N1c3BlbmQodm9pZCAqcHJpdiwg
Ym9vbCBydW50aW1lKQogewogCXN0cnVjdCBudmttX2NsaWVudCAqY2xpZW50ID0gcHJpdjsKLQly
ZXR1cm4gbnZrbV9vYmplY3RfZmluaSgmY2xpZW50LT5vYmplY3QsIHRydWUpOworCWVudW0gbnZr
bV9zdXNwZW5kX3R5cGUgc3VzcGVuZCA9CisJCXJ1bnRpbWUgPyBOVktNX1NVU1BFTkRfUlVOVElN
RSA6IE5WS01fU1VTUEVORF9TWVNURU07CisJcmV0dXJuIG52a21fb2JqZWN0X2ZpbmkoJmNsaWVu
dC0+b2JqZWN0LCBzdXNwZW5kKTsKIH0KIAogc3RhdGljIHZvaWQKZGlmZiAtLWdpdCBhL2xpYi9u
dWxsLmMgYi9saWIvbnVsbC5jCmluZGV4IDkxMmQxMzlmYS4uMmMwOGIxYjYxIDEwMDY0NAotLS0g
YS9saWIvbnVsbC5jCisrKyBiL2xpYi9udWxsLmMKQEAgLTg4LDEwICs4OCwxMiBAQCBudWxsX2Ns
aWVudF9yZXN1bWUodm9pZCAqcHJpdikKIH0KIAogc3RhdGljIGludAotbnVsbF9jbGllbnRfc3Vz
cGVuZCh2b2lkICpwcml2KQorbnVsbF9jbGllbnRfc3VzcGVuZCh2b2lkICpwcml2LCBib29sIHJ1
bnRpbWUpCiB7CiAJc3RydWN0IG52a21fY2xpZW50ICpjbGllbnQgPSBwcml2OwotCXJldHVybiBu
dmttX29iamVjdF9maW5pKCZjbGllbnQtPm9iamVjdCwgdHJ1ZSk7CisJZW51bSBudmttX3N1c3Bl
bmRfdHlwZSBzdXNwZW5kID0KKwkJcnVudGltZSA/IE5WS01fU1VTUEVORF9SVU5USU1FIDogTlZL
TV9TVVNQRU5EX1NZU1RFTTsKKwlyZXR1cm4gbnZrbV9vYmplY3RfZmluaSgmY2xpZW50LT5vYmpl
Y3QsIHN1c3BlbmQpOwogfQogCiBzdGF0aWMgdm9pZAotLSAKMi4yMS4wCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpOb3V2ZWF1IG1haWxpbmcgbGlzdApO
b3V2ZWF1QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL25vdXZlYXU=
