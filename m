Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3137983631
	for <lists+nouveau@lfdr.de>; Tue,  6 Aug 2019 18:06:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B6C096E420;
	Tue,  6 Aug 2019 16:06:16 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from bombadil.infradead.org (bombadil.infradead.org
 [IPv6:2607:7c80:54:e::133])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 00D966E41D;
 Tue,  6 Aug 2019 16:06:14 +0000 (UTC)
Received: from [195.167.85.94] (helo=localhost)
 by bombadil.infradead.org with esmtpsa (Exim 4.92 #3 (Red Hat Linux))
 id 1hv1yV-0000Ys-M1; Tue, 06 Aug 2019 16:06:12 +0000
From: Christoph Hellwig <hch@lst.de>
To: =?UTF-8?q?J=C3=A9r=C3=B4me=20Glisse?= <jglisse@redhat.com>,
 Jason Gunthorpe <jgg@mellanox.com>, Ben Skeggs <bskeggs@redhat.com>,
 Felix Kuehling <Felix.Kuehling@amd.com>
Date: Tue,  6 Aug 2019 19:05:44 +0300
Message-Id: <20190806160554.14046-7-hch@lst.de>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190806160554.14046-1-hch@lst.de>
References: <20190806160554.14046-1-hch@lst.de>
MIME-Version: 1.0
X-SRS-Rewrite: SMTP reverse-path rewritten from <hch@infradead.org> by
 bombadil.infradead.org. See http://www.infradead.org/rpr.html
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; 
 d=infradead.org; s=bombadil.20170209; h=Content-Transfer-Encoding:
 MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From:Sender
 :Reply-To:Content-Type:Content-ID:Content-Description:Resent-Date:Resent-From
 :Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:
 List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=mqfjTQaTTQFNSro/hN6gkYpjLV3E2bwnPvulWJTlCQk=; b=qZW70f9CDkLcMchhuvgQXFX1hB
 gk0dQRjjzMNkOXpQ1vj/+CZf+DGdkKL4wy9lfG80WezxLzvgoBIi65VwKPxRO7XZvSGu4lkfJvtpO
 YLB+2QpTOftupd6T5+u5wIWRCdr7UNLJV9pI2yGFI17FzFotQ9rc45MMEuT6B4ZuXTSOCdG8lIElC
 zh1luwoZ5mTRukbW+Ku/WPNKTQRqYa226GtVA3dqqlnKiykhAF/jkll9ZPoFo+gRfPjqymMQitRIQ
 EbyGZEvR37jYfqmSXzrxeXNhYxuKZ/JVcMkmWceWLyjt1pnZa/P8rF90JPLdFdMkz1Y9M89sHhy44
 fGQB1PQQ==;
Subject: [Nouveau] [PATCH 06/15] mm: remove superflous arguments from
 hmm_range_register
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: Ralph Campbell <rcampbell@nvidia.com>, nouveau@lists.freedesktop.org,
 linux-kernel@vger.kernel.org, amd-gfx@lists.freedesktop.org,
 linux-mm@kvack.org, dri-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

VGhlIHN0YXJ0LCBlbmQgYW5kIHBhZ2Vfc2hpZnQgdmFsdWVzIGFyZSBhbGwgc2F2ZWQgaW4gdGhl
IHJhbmdlCnN0cnVjdHVyZSwgc28gd2UgbWlnaHQgYXMgd2VsbCB1c2UgdGhhdCBmb3IgYXJndW1l
bnQgcGFzc2luZy4KClNpZ25lZC1vZmYtYnk6IENocmlzdG9waCBIZWxsd2lnIDxoY2hAbHN0LmRl
PgpSZXZpZXdlZC1ieTogSmFzb24gR3VudGhvcnBlIDxqZ2dAbWVsbGFub3guY29tPgpSZXZpZXdl
ZC1ieTogRmVsaXggS3VlaGxpbmcgPEZlbGl4Lkt1ZWhsaW5nQGFtZC5jb20+Ci0tLQogRG9jdW1l
bnRhdGlvbi92bS9obW0ucnN0ICAgICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYyB8ICA3ICsrKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9u
b3V2ZWF1L25vdXZlYXVfc3ZtLmMgICB8ICA1ICsrLS0tCiBpbmNsdWRlL2xpbnV4L2htbS5oICAg
ICAgICAgICAgICAgICAgICAgfCAgNiArLS0tLS0KIG1tL2htbS5jICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB8IDIwICsrKysrLS0tLS0tLS0tLS0tLS0tCiA1IGZpbGVzIGNoYW5nZWQs
IDE0IGluc2VydGlvbnMoKyksIDI2IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL0RvY3VtZW50
YXRpb24vdm0vaG1tLnJzdCBiL0RvY3VtZW50YXRpb24vdm0vaG1tLnJzdAppbmRleCBkZGNiNWNh
OGIyOTYuLmU2M2MxMWY3ZTBlMCAxMDA2NDQKLS0tIGEvRG9jdW1lbnRhdGlvbi92bS9obW0ucnN0
CisrKyBiL0RvY3VtZW50YXRpb24vdm0vaG1tLnJzdApAQCAtMjIyLDcgKzIyMiw3IEBAIFRoZSB1
c2FnZSBwYXR0ZXJuIGlzOjoKICAgICAgIHJhbmdlLmZsYWdzID0gLi4uOwogICAgICAgcmFuZ2Uu
dmFsdWVzID0gLi4uOwogICAgICAgcmFuZ2UucGZuX3NoaWZ0ID0gLi4uOwotICAgICAgaG1tX3Jh
bmdlX3JlZ2lzdGVyKCZyYW5nZSk7CisgICAgICBobW1fcmFuZ2VfcmVnaXN0ZXIoJnJhbmdlLCBt
aXJyb3IpOwogCiAgICAgICAvKgogICAgICAgICogSnVzdCB3YWl0IGZvciByYW5nZSB0byBiZSB2
YWxpZCwgc2FmZSB0byBpZ25vcmUgcmV0dXJuIHZhbHVlIGFzIHdlCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdHRtLmMKaW5kZXggZjA4MjE2MzhiYmM2Li43MWQ2ZTcwODdiMGIgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMKQEAgLTgxOCw4ICs4MTgsMTEg
QEAgaW50IGFtZGdwdV90dG1fdHRfZ2V0X3VzZXJfcGFnZXMoc3RydWN0IGFtZGdwdV9ibyAqYm8s
IHN0cnVjdCBwYWdlICoqcGFnZXMpCiAJCQkJMCA6IHJhbmdlLT5mbGFnc1tITU1fUEZOX1dSSVRF
XTsKIAlyYW5nZS0+cGZuX2ZsYWdzX21hc2sgPSAwOwogCXJhbmdlLT5wZm5zID0gcGZuczsKLQlo
bW1fcmFuZ2VfcmVnaXN0ZXIocmFuZ2UsIG1pcnJvciwgc3RhcnQsCi0JCQkgICBzdGFydCArIHR0
bS0+bnVtX3BhZ2VzICogUEFHRV9TSVpFLCBQQUdFX1NISUZUKTsKKwlyYW5nZS0+cGFnZV9zaGlm
dCA9IFBBR0VfU0hJRlQ7CisJcmFuZ2UtPnN0YXJ0ID0gc3RhcnQ7CisJcmFuZ2UtPmVuZCA9IHN0
YXJ0ICsgdHRtLT5udW1fcGFnZXMgKiBQQUdFX1NJWkU7CisKKwlobW1fcmFuZ2VfcmVnaXN0ZXIo
cmFuZ2UsIG1pcnJvcik7CiAKIAkvKgogCSAqIEp1c3Qgd2FpdCBmb3IgcmFuZ2UgdG8gYmUgdmFs
aWQsIHNhZmUgdG8gaWdub3JlIHJldHVybiB2YWx1ZSBhcyB3ZQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL25vdXZlYXUvbm91dmVhdV9zdm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1
L25vdXZlYXVfc3ZtLmMKaW5kZXggOTgwNzJmZDQ4Y2Y3Li40MWZhZDQ3MTlhYzYgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9ub3V2ZWF1L25vdXZlYXVfc3ZtLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL25vdXZlYXUvbm91dmVhdV9zdm0uYwpAQCAtNDkyLDkgKzQ5Miw3IEBAIG5vdXZlYXVf
cmFuZ2VfZmF1bHQoc3RydWN0IG5vdXZlYXVfc3ZtbSAqc3ZtbSwgc3RydWN0IGhtbV9yYW5nZSAq
cmFuZ2UpCiAJcmFuZ2UtPmRlZmF1bHRfZmxhZ3MgPSAwOwogCXJhbmdlLT5wZm5fZmxhZ3NfbWFz
ayA9IC0xVUw7CiAKLQlyZXQgPSBobW1fcmFuZ2VfcmVnaXN0ZXIocmFuZ2UsICZzdm1tLT5taXJy
b3IsCi0JCQkJIHJhbmdlLT5zdGFydCwgcmFuZ2UtPmVuZCwKLQkJCQkgUEFHRV9TSElGVCk7CisJ
cmV0ID0gaG1tX3JhbmdlX3JlZ2lzdGVyKHJhbmdlLCAmc3ZtbS0+bWlycm9yKTsKIAlpZiAocmV0
KSB7CiAJCXVwX3JlYWQoJnN2bW0tPm1tLT5tbWFwX3NlbSk7CiAJCXJldHVybiAoaW50KXJldDsK
QEAgLTY4Miw2ICs2ODAsNyBAQCBub3V2ZWF1X3N2bV9mYXVsdChzdHJ1Y3QgbnZpZl9ub3RpZnkg
Km5vdGlmeSkKIAkJCSBhcmdzLmkucC5hZGRyICsgYXJncy5pLnAuc2l6ZSwgZm4gLSBmaSk7CiAK
IAkJLyogSGF2ZSBITU0gZmF1bHQgcGFnZXMgd2l0aGluIHRoZSBmYXVsdCB3aW5kb3cgdG8gdGhl
IEdQVS4gKi8KKwkJcmFuZ2UucGFnZV9zaGlmdCA9IFBBR0VfU0hJRlQ7CiAJCXJhbmdlLnN0YXJ0
ID0gYXJncy5pLnAuYWRkcjsKIAkJcmFuZ2UuZW5kID0gYXJncy5pLnAuYWRkciArIGFyZ3MuaS5w
LnNpemU7CiAJCXJhbmdlLnBmbnMgPSBhcmdzLnBoeXM7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xp
bnV4L2htbS5oIGIvaW5jbHVkZS9saW51eC9obW0uaAppbmRleCA1OWJlMGFhMjQ3NmQuLmM1YjUx
Mzc2YjQ1MyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9saW51eC9obW0uaAorKysgYi9pbmNsdWRlL2xp
bnV4L2htbS5oCkBAIC00MDAsMTEgKzQwMCw3IEBAIHZvaWQgaG1tX21pcnJvcl91bnJlZ2lzdGVy
KHN0cnVjdCBobW1fbWlycm9yICptaXJyb3IpOwogLyoKICAqIFBsZWFzZSBzZWUgRG9jdW1lbnRh
dGlvbi92bS9obW0ucnN0IGZvciBob3cgdG8gdXNlIHRoZSByYW5nZSBBUEkuCiAgKi8KLWludCBo
bW1fcmFuZ2VfcmVnaXN0ZXIoc3RydWN0IGhtbV9yYW5nZSAqcmFuZ2UsCi0JCSAgICAgICBzdHJ1
Y3QgaG1tX21pcnJvciAqbWlycm9yLAotCQkgICAgICAgdW5zaWduZWQgbG9uZyBzdGFydCwKLQkJ
ICAgICAgIHVuc2lnbmVkIGxvbmcgZW5kLAotCQkgICAgICAgdW5zaWduZWQgcGFnZV9zaGlmdCk7
CitpbnQgaG1tX3JhbmdlX3JlZ2lzdGVyKHN0cnVjdCBobW1fcmFuZ2UgKnJhbmdlLCBzdHJ1Y3Qg
aG1tX21pcnJvciAqbWlycm9yKTsKIHZvaWQgaG1tX3JhbmdlX3VucmVnaXN0ZXIoc3RydWN0IGht
bV9yYW5nZSAqcmFuZ2UpOwogCiAvKgpkaWZmIC0tZ2l0IGEvbW0vaG1tLmMgYi9tbS9obW0uYwpp
bmRleCAzYTM4NTI2NjA3NTcuLjkyNjczNWEzYWVmOSAxMDA2NDQKLS0tIGEvbW0vaG1tLmMKKysr
IGIvbW0vaG1tLmMKQEAgLTg0MywzNSArODQzLDI1IEBAIHN0YXRpYyB2b2lkIGhtbV9wZm5zX2Ns
ZWFyKHN0cnVjdCBobW1fcmFuZ2UgKnJhbmdlLAogICogaG1tX3JhbmdlX3JlZ2lzdGVyKCkgLSBz
dGFydCB0cmFja2luZyBjaGFuZ2UgdG8gQ1BVIHBhZ2UgdGFibGUgb3ZlciBhIHJhbmdlCiAgKiBA
cmFuZ2U6IHJhbmdlCiAgKiBAbW06IHRoZSBtbSBzdHJ1Y3QgZm9yIHRoZSByYW5nZSBvZiB2aXJ0
dWFsIGFkZHJlc3MKLSAqIEBzdGFydDogc3RhcnQgdmlydHVhbCBhZGRyZXNzIChpbmNsdXNpdmUp
Ci0gKiBAZW5kOiBlbmQgdmlydHVhbCBhZGRyZXNzIChleGNsdXNpdmUpCi0gKiBAcGFnZV9zaGlm
dDogZXhwZWN0IHBhZ2Ugc2hpZnQgZm9yIHRoZSByYW5nZQorICoKICAqIFJldHVybjogMCBvbiBz
dWNjZXNzLCAtRUZBVUxUIGlmIHRoZSBhZGRyZXNzIHNwYWNlIGlzIG5vIGxvbmdlciB2YWxpZAog
ICoKICAqIFRyYWNrIHVwZGF0ZXMgdG8gdGhlIENQVSBwYWdlIHRhYmxlIHNlZSBpbmNsdWRlL2xp
bnV4L2htbS5oCiAgKi8KLWludCBobW1fcmFuZ2VfcmVnaXN0ZXIoc3RydWN0IGhtbV9yYW5nZSAq
cmFuZ2UsCi0JCSAgICAgICBzdHJ1Y3QgaG1tX21pcnJvciAqbWlycm9yLAotCQkgICAgICAgdW5z
aWduZWQgbG9uZyBzdGFydCwKLQkJICAgICAgIHVuc2lnbmVkIGxvbmcgZW5kLAotCQkgICAgICAg
dW5zaWduZWQgcGFnZV9zaGlmdCkKK2ludCBobW1fcmFuZ2VfcmVnaXN0ZXIoc3RydWN0IGhtbV9y
YW5nZSAqcmFuZ2UsIHN0cnVjdCBobW1fbWlycm9yICptaXJyb3IpCiB7Ci0JdW5zaWduZWQgbG9u
ZyBtYXNrID0gKCgxVUwgPDwgcGFnZV9zaGlmdCkgLSAxVUwpOworCXVuc2lnbmVkIGxvbmcgbWFz
ayA9ICgoMVVMIDw8IHJhbmdlLT5wYWdlX3NoaWZ0KSAtIDFVTCk7CiAJc3RydWN0IGhtbSAqaG1t
ID0gbWlycm9yLT5obW07CiAJdW5zaWduZWQgbG9uZyBmbGFnczsKIAogCXJhbmdlLT52YWxpZCA9
IGZhbHNlOwogCXJhbmdlLT5obW0gPSBOVUxMOwogCi0JaWYgKChzdGFydCAmIG1hc2spIHx8IChl
bmQgJiBtYXNrKSkKKwlpZiAoKHJhbmdlLT5zdGFydCAmIG1hc2spIHx8IChyYW5nZS0+ZW5kICYg
bWFzaykpCiAJCXJldHVybiAtRUlOVkFMOwotCWlmIChzdGFydCA+PSBlbmQpCisJaWYgKHJhbmdl
LT5zdGFydCA+PSByYW5nZS0+ZW5kKQogCQlyZXR1cm4gLUVJTlZBTDsKIAotCXJhbmdlLT5wYWdl
X3NoaWZ0ID0gcGFnZV9zaGlmdDsKLQlyYW5nZS0+c3RhcnQgPSBzdGFydDsKLQlyYW5nZS0+ZW5k
ID0gZW5kOwotCiAJLyogUHJldmVudCBobW1fcmVsZWFzZSgpIGZyb20gcnVubmluZyB3aGlsZSB0
aGUgcmFuZ2UgaXMgdmFsaWQgKi8KIAlpZiAoIW1tZ2V0X25vdF96ZXJvKGhtbS0+bW0pKQogCQly
ZXR1cm4gLUVGQVVMVDsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KTm91dmVhdSBtYWlsaW5nIGxpc3QKTm91dmVhdUBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9ub3V2ZWF1
