Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BBEFE24370
	for <lists+nouveau@lfdr.de>; Tue, 21 May 2019 00:30:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 79CAB890DD;
	Mon, 20 May 2019 22:30:50 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from mail-io1-f67.google.com (mail-io1-f67.google.com
 [209.85.166.67])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 038BF890DD
 for <nouveau@lists.freedesktop.org>; Mon, 20 May 2019 22:30:49 +0000 (UTC)
Received: by mail-io1-f67.google.com with SMTP id q21so12312513iog.13
 for <nouveau@lists.freedesktop.org>; Mon, 20 May 2019 15:30:49 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=xUiJthosWahySObfyTFkt97dJXWQVoCesdXWCdfrzGY=;
 b=RltARDYY379XosO9PE4s1zUstjXnneHslTucBS+CeePpAFM3/62aCRnfKHragKRZ8z
 9UmiEtiGJUW3kDQgSJQD5A4Mslxpv6iWL3xZVDFQkuF+Xl+CK7hL4zgXSqFrg/BGyaSt
 toA/grCtWNbYxuPySEQsNpvD5r/FZRag2H2GjSibECLuBBi9bhUdknfNefQuHHr6qyUX
 0UK4NTsNDYas+isNIXSC2SMQG92z8kaMKPToRk8EkOr8UnjOKApUJH5TUUFf/pdF+WMt
 H+DsltLE3lqd7LNTVurVQpn2syRO3jL0UyyjvCYFH0Uf8SNu18pmm5ZEcIUtbld9qTxC
 Az0Q==
X-Gm-Message-State: APjAAAUx0JH9IPllC19et4rMnRUp022PkheMnsQalOBB/Lf1UaTczkFX
 XgPf2o9YBVkcqCGGO23Euprsp/Ptl1dGyoEEKzF2aA==
X-Google-Smtp-Source: APXvYqzUbnoqDPEmuSoQdt3F/45nkQ3yHE8efi9JUfKZXG2muNkLQMumsxXi2ywT0vRngEjMYFdh37zQyz+asTfOB6k=
X-Received: by 2002:a5e:a919:: with SMTP id c25mr19088816iod.166.1558391449228; 
 Mon, 20 May 2019 15:30:49 -0700 (PDT)
MIME-Version: 1.0
References: <20190507201245.9295-1-kherbst@redhat.com>
 <20190507201245.9295-5-kherbst@redhat.com>
 <20190520211933.GA57618@google.com>
In-Reply-To: <20190520211933.GA57618@google.com>
From: Karol Herbst <kherbst@redhat.com>
Date: Tue, 21 May 2019 00:30:38 +0200
Message-ID: <CACO55tsHi+4gRMC=XqOypJttztKNe5oKxxk0eqEVxGZoMzS+4Q@mail.gmail.com>
To: Bjorn Helgaas <helgaas@kernel.org>
Subject: Re: [Nouveau] [PATCH v2 4/4] pci: save the boot pcie link speed and
 restore it on fini
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: nouveau <nouveau@lists.freedesktop.org>, linux-pci@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

T24gTW9uLCBNYXkgMjAsIDIwMTkgYXQgMTE6MjAgUE0gQmpvcm4gSGVsZ2FhcyA8aGVsZ2Fhc0Br
ZXJuZWwub3JnPiB3cm90ZToKPgo+IE9uIFR1ZSwgTWF5IDA3LCAyMDE5IGF0IDEwOjEyOjQ1UE0g
KzAyMDAsIEthcm9sIEhlcmJzdCB3cm90ZToKPiA+IEFwcGVyYW50bHkgdGhpbmdzIGdvIHNvdXRo
IGlmIHdlIHN1c3BlbmQgdGhlIGRldmljZSB3aXRoIGEgZGlmZmVyZW50IFBDSUUKPiA+IGxpbmsg
c3BlZWQgc2V0IHRoYW4gaXQgZ290IGJvb3RlZCB3aXRoLiBGaXhlcyBydW50aW1lIHN1c3BlbmQg
b24gbXkgZ3AxMDcuCj4gPgo+ID4gVGhpcyBhbGwgbG9va3MgbGlrZSBzb21lIGJ1ZyBpbnNpZGUg
dGhlIHBjaSBzdWJzeXN0ZW0gYW5kIEkgd291bGQgcHJlZmVyIGEKPiA+IGZpeCB0aGVyZSBpbnN0
ZWFkIG9mIG5vdXZlYXUsIGJ1dCBtYXliZSB0aGVyZSBpcyBubyByZWFsIG5pY2Ugd2F5IG9mIGRv
aW5nCj4gPiB0aGF0IG91dHNpZGUgb2YgZHJpdmVycz8KPgo+IEkgYWdyZWUgaXQgd291bGQgYmUg
bmljZSB0byBmaXggdGhpcyBpbiB0aGUgUENJIGNvcmUgaWYgdGhhdCdzCj4gZmVhc2libGUuCj4K
PiBJdCBsb29rcyBsaWtlIHRoaXMgZHJpdmVyIGNoYW5nZXMgdGhlIFBDSWUgbGluayBzcGVlZCB1
c2luZyBzb21lCj4gZGV2aWNlLXNwZWNpZmljIG1lY2hhbmlzbS4gIFdoZW4gd2Ugc3VzcGVuZCwg
d2UgcHV0IHRoZSBkZXZpY2UgaW4KPiBEM2NvbGQsIHNvIGl0IGxvc2VzIGFsbCBpdHMgc3RhdGUu
ICBXaGVuIHdlIHJlc3VtZSwgdGhlIGxpbmsgcHJvYmFibHkKPiBjb21lcyB1cCBhdCB0aGUgYm9v
dCBzcGVlZCBiZWNhdXNlIG5vdGhpbmcgZGlkIHRoYXQgZGV2aWNlLXNwZWNpZmljCj4gbWFnaWMg
dG8gY2hhbmdlIGl0LCBzbyB5b3UgcHJvYmFibHkgZW5kIHVwIHdpdGggdGhlIGxpbmsgYmVpbmcg
c2xvdwo+IGJ1dCB0aGUgZHJpdmVyIHRoaW5raW5nIGl0J3MgY29uZmlndXJlZCB0byBiZSBmYXN0
LCBhbmQgbWF5YmUgdGhhdAo+IGNvbWJpbmF0aW9uIGRvZXNuJ3Qgd29yay4KPgo+IElmIGl0IHJl
cXVpcmVzIHNvbWV0aGluZyBkZXZpY2Utc3BlY2lmaWMgdG8gY2hhbmdlIHRoYXQgbGluayBzcGVl
ZCwgSQo+IGRvbid0IGtub3cgaG93IHRvIHB1dCB0aGF0IGluIHRoZSBQQ0kgY29yZS4gIEJ1dCBt
YXliZSBJJ20gbWlzc2luZwo+IHNvbWV0aGluZz8KPgo+IFBlciB0aGUgUENJZSBzcGVjIChyNC4w
LCBzZWMgMS4yKToKPgo+ICAgSW5pdGlhbGl6YXRpb24g4oCTIER1cmluZyBoYXJkd2FyZSBpbml0
aWFsaXphdGlvbiwgZWFjaCBQQ0kgRXhwcmVzcwo+ICAgTGluayBpcyBzZXQgdXAgZm9sbG93aW5n
IGEgbmVnb3RpYXRpb24gb2YgTGFuZSB3aWR0aHMgYW5kIGZyZXF1ZW5jeQo+ICAgb2Ygb3BlcmF0
aW9uIGJ5IHRoZSB0d28gYWdlbnRzIGF0IGVhY2ggZW5kIG9mIHRoZSBMaW5rLiBObyBmaXJtd2Fy
ZQo+ICAgb3Igb3BlcmF0aW5nIHN5c3RlbSBzb2Z0d2FyZSBpcyBpbnZvbHZlZC4KPgo+IEkgaGF2
ZSBiZWVuIGFzc3VtaW5nIHRoYXQgdGhpcyBtZWFucyBkZXZpY2Utc3BlY2lmaWMgbGluayBzcGVl
ZAo+IG1hbmFnZW1lbnQgaXMgb3V0IG9mIHNwZWMsIGJ1dCBpdCBzZWVtcyBwcmV0dHkgY29tbW9u
IHRoYXQgZGV2aWNlcwo+IGRvbid0IGNvbWUgdXAgYnkgdGhlbXNlbHZlcyBhdCB0aGUgZmFzdGVz
dCBwb3NzaWJsZSBsaW5rIHNwZWVkLiAgU28KPiBtYXliZSB0aGUgc3BlYyBqdXN0IGludGVuZHMg
dGhhdCBkZXZpY2VzIGNhbiBvcGVyYXRlIGF0ICpzb21lKiB2YWxpZAo+IHNwZWVkLgo+CgpJIHdv
dWxkIGV4cGVjdCB0aGF0IGRldmljZXMga2luZCBvZiBoYXZlIHRvIGZpZ3VyZSBvdXQgd2hhdCB0
aGV5IGNhbgpvcGVyYXRlIG9uIGFuZCB0aGUgb3BlcmF0aW5nIHN5c3RlbSBraW5kIG9mIGp1c3Qg
Y2hlY2tzIHdoYXQgdGhlCmN1cnJlbnQgc3RhdGUgaXMgYW5kIGRvZXNuJ3QgdHJ5IHRvICJyZXN0
b3JlIiB0aGUgb2xkIHN0YXRlIG9yCnNvbWV0aGluZz8KCldlIGRvbid0IGRvIGFueXRoaW5nIGlu
IHRoZSBkcml2ZXIgYWZ0ZXIgdGhlIGRldmljZSB3YXMgc3VzcGVuZGVkLiBBbmQKdGhlIDB4ODgw
MDAgaXMgYSBtaXJyb3Igb2YgdGhlIFBDSSBjb25maWcgc3BhY2UsIGJ1dCB3ZSBhbHNvIGdvdCBz
b21lClBDSWUgc3R1ZmYgYXQgMHg4YzAwMCB3aGljaCBpcyB1c2VkIGJ5IG5ld2VyIEdQVXMgZm9y
IGdlbjMgc3R1ZmYKZXNzZW50aWFsbHkuIEkgaGF2ZSBubyBpZGVhIGhvdyBtdWNoIG9mIHRoaXMg
aXMgcGFydCBvZiB0aGUgYWN0dWFsIHBjaQpzdGFuZGFyZCBhbmQgaG93IG11Y2ggaXMgZHJpdmVy
IHNwZWNpZmljLiBCdXQgdGhlIGRyaXZlciBhbHNvIHdhbnRzIHRvCmhhdmUgc29tZSBjb250cm9s
IG92ZXIgdGhlIGxpbmsgc3BlZWQgYXMgaXQncyB0aWdodCB0byBwZXJmb3JtYW5jZQpzdGF0ZXMg
b24gR1BVLgoKVGhlIGJpZyBpc3N1ZSBoZXJlIGlzIGp1c3QsIHRoYXQgdGhlIEdQVSBib290cyB3
aXRoIDguMCwgc29tZSBvbi1ncHUKaW5pdCBtZWNoYW5pc20gZGVjcmVhc2VzIGl0IHRvIDIuNS4g
SWYgd2Ugc3VzcGVuZCwgdGhlIEdQVSBvciBhdCBsZWFzdAp0aGUgY29tbXVuaWNhdGlvbiB3aXRo
IHRoZSBjb250cm9sbGVyIGlzIGJyb2tlbi4gQnV0IGlmIHdlIHNldCBpdCB0bwp0aGUgYm9vdCBz
cGVlZCwgcmVzdW1pbmcgdGhlIEdQVSBqdXN0IHdvcmtzLiBTbyBteSBhc3N1bXB0aW9uIHdhcywK
dGhhdCBfc29tZXRoaW5nXyAobWlnaHQgaXQgYmUgdGhlIGNvbnRyb2xsZXIgb3IgdGhlIHBjaSBz
dWJzeXN0ZW0pCnRyaWVzIHRvIGZvcmNlIHRvIG9wZXJhdGUgb24gYW4gaW52YWxpZCBsaW5rIHNw
ZWVkIGFuZCBiZWNhdXNlIHRoZQpicmlkZ2UgY29udHJvbGxlciBpcyBhY3R1YWxseSBwb3dlcmVk
IGRvd24gYXMgd2VsbCAoYXMgYWxsIGNoaWxkcmVuCmFyZSBpbiBEM2NvbGQpIEkgY291bGQgaW1h
Z2luZSB0aGF0IHNvbWV0aGluZyBpbiB0aGUgcGNpIHN1YnN5c3RlbQphY3R1YWxseSByZXN0b3Jl
cyB0aGUgc3RhdGUgd2hpY2ggbGV0cyB0aGUgY29udHJvbGxlciBmYWlsIHRvCmVzdGFibGlzaCBj
b21tdW5pY2F0aW9uIGFnYWluPwoKSnVzdCBzb21ldGhpbmcgd2hpY2gga2luZCBvZiB3b3VsZCBt
YWtlIHNlbnNlIHRvIG1lLgoKPiA+IHYyOiBzcXVhc2hlZCB0b2dldGhlciBwYXRjaCA0IGFuZCA1
Cj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogS2Fyb2wgSGVyYnN0IDxraGVyYnN0QHJlZGhhdC5jb20+
Cj4gPiBSZXZpZXdlZC1ieTogTHl1ZGUgUGF1bCA8bHl1ZGVAcmVkaGF0LmNvbT4KPiA+IC0tLQo+
ID4gIGRybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9zdWJkZXYvcGNpLmggfCAgNSArKystLQo+ID4g
IGRybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9iYXNlLmMgICAgfCAgOSArKysrKysrLS0KPiA+
ICBkcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcGNpZS5jICAgIHwgMjQgKysrKysrKysrKysr
KysrKysrKystLS0tCj4gPiAgZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3ByaXYuaCAgICB8
ICAyICsrCj4gPiAgNCBmaWxlcyBjaGFuZ2VkLCAzMiBpbnNlcnRpb25zKCspLCA4IGRlbGV0aW9u
cygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9pbmNsdWRlL252a20vc3ViZGV2
L3BjaS5oIGIvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL3N1YmRldi9wY2kuaAo+ID4gaW5kZXgg
MWZkZjMwOTguLmIyMzc5M2EyIDEwMDY0NAo+ID4gLS0tIGEvZHJtL25vdXZlYXUvaW5jbHVkZS9u
dmttL3N1YmRldi9wY2kuaAo+ID4gKysrIGIvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL3N1YmRl
di9wY2kuaAo+ID4gQEAgLTI2LDggKzI2LDkgQEAgc3RydWN0IG52a21fcGNpIHsKPiA+ICAgICAg
IH0gYWdwOwo+ID4KPiA+ICAgICAgIHN0cnVjdCB7Cj4gPiAtICAgICAgICAgICAgIGVudW0gbnZr
bV9wY2llX3NwZWVkIHNwZWVkOwo+ID4gLSAgICAgICAgICAgICB1OCB3aWR0aDsKPiA+ICsgICAg
ICAgICAgICAgZW51bSBudmttX3BjaWVfc3BlZWQgY3VyX3NwZWVkOwo+ID4gKyAgICAgICAgICAg
ICBlbnVtIG52a21fcGNpZV9zcGVlZCBkZWZfc3BlZWQ7Cj4gPiArICAgICAgICAgICAgIHU4IGN1
cl93aWR0aDsKPiA+ICAgICAgIH0gcGNpZTsKPiA+Cj4gPiAgICAgICBib29sIG1zaTsKPiA+IGRp
ZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvYmFzZS5jIGIvZHJtL25vdXZl
YXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYwo+ID4gaW5kZXggZWUyNDMxYTcuLmQ5ZmI1YTgzIDEw
MDY0NAo+ID4gLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYwo+ID4gKysr
IGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYwo+ID4gQEAgLTkwLDYgKzkwLDgg
QEAgbnZrbV9wY2lfZmluaShzdHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgYm9vbCBzdXNwZW5k
KQo+ID4KPiA+ICAgICAgIGlmIChwY2ktPmFncC5icmlkZ2UpCj4gPiAgICAgICAgICAgICAgIG52
a21fYWdwX2ZpbmkocGNpKTsKPiA+ICsgICAgIGVsc2UgaWYgKHBjaV9pc19wY2llKHBjaS0+cGRl
dikpCj4gPiArICAgICAgICAgICAgIG52a21fcGNpZV9maW5pKHBjaSk7Cj4gPgo+ID4gICAgICAg
cmV0dXJuIDA7Cj4gPiAgfQo+ID4gQEAgLTEwMCw2ICsxMDIsOCBAQCBudmttX3BjaV9wcmVpbml0
KHN0cnVjdCBudmttX3N1YmRldiAqc3ViZGV2KQo+ID4gICAgICAgc3RydWN0IG52a21fcGNpICpw
Y2kgPSBudmttX3BjaShzdWJkZXYpOwo+ID4gICAgICAgaWYgKHBjaS0+YWdwLmJyaWRnZSkKPiA+
ICAgICAgICAgICAgICAgbnZrbV9hZ3BfcHJlaW5pdChwY2kpOwo+ID4gKyAgICAgZWxzZSBpZiAo
cGNpX2lzX3BjaWUocGNpLT5wZGV2KSkKPiA+ICsgICAgICAgICAgICAgbnZrbV9wY2llX3ByZWlu
aXQocGNpKTsKPiA+ICAgICAgIHJldHVybiAwOwo+ID4gIH0KPiA+Cj4gPiBAQCAtMTkzLDggKzE5
Nyw5IEBAIG52a21fcGNpX25ld18oY29uc3Qgc3RydWN0IG52a21fcGNpX2Z1bmMgKmZ1bmMsIHN0
cnVjdCBudmttX2RldmljZSAqZGV2aWNlLAo+ID4gICAgICAgcGNpLT5mdW5jID0gZnVuYzsKPiA+
ICAgICAgIHBjaS0+cGRldiA9IGRldmljZS0+ZnVuYy0+cGNpKGRldmljZSktPnBkZXY7Cj4gPiAg
ICAgICBwY2ktPmlycSA9IC0xOwo+ID4gLSAgICAgcGNpLT5wY2llLnNwZWVkID0gLTE7Cj4gPiAt
ICAgICBwY2ktPnBjaWUud2lkdGggPSAtMTsKPiA+ICsgICAgIHBjaS0+cGNpZS5jdXJfc3BlZWQg
PSAtMTsKPiA+ICsgICAgIHBjaS0+cGNpZS5kZWZfc3BlZWQgPSAtMTsKPiA+ICsgICAgIHBjaS0+
cGNpZS5jdXJfd2lkdGggPSAtMTsKPiA+Cj4gPiAgICAgICBpZiAoZGV2aWNlLT50eXBlID09IE5W
S01fREVWSUNFX0FHUCkKPiA+ICAgICAgICAgICAgICAgbnZrbV9hZ3BfY3RvcihwY2kpOwo+ID4g
ZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9wY2llLmMgYi9kcm0vbm91
dmVhdS9udmttL3N1YmRldi9wY2kvcGNpZS5jCj4gPiBpbmRleCA3MGNjYmUwZC4uNzMxZGQzMGUg
MTAwNjQ0Cj4gPiAtLS0gYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcGNpZS5jCj4gPiAr
KysgYi9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcGNpZS5jCj4gPiBAQCAtODUsNiArODUs
MTMgQEAgbnZrbV9wY2llX29uZWluaXQoc3RydWN0IG52a21fcGNpICpwY2kpCj4gPiAgICAgICBy
ZXR1cm4gMDsKPiA+ICB9Cj4gPgo+ID4gK2ludAo+ID4gK252a21fcGNpZV9wcmVpbml0KHN0cnVj
dCBudmttX3BjaSAqcGNpKQo+ID4gK3sKPiA+ICsgICAgIHBjaS0+cGNpZS5kZWZfc3BlZWQgPSBu
dmttX3BjaWVfZ2V0X3NwZWVkKHBjaSk7Cj4gPiArICAgICByZXR1cm4gMDsKPiA+ICt9Cj4gPiAr
Cj4gPiAgaW50Cj4gPiAgbnZrbV9wY2llX2luaXQoc3RydWN0IG52a21fcGNpICpwY2kpCj4gPiAg
ewo+ID4gQEAgLTEwNSwxMiArMTEyLDIxIEBAIG52a21fcGNpZV9pbml0KHN0cnVjdCBudmttX3Bj
aSAqcGNpKQo+ID4gICAgICAgaWYgKHBjaS0+ZnVuYy0+cGNpZS5pbml0KQo+ID4gICAgICAgICAg
ICAgICBwY2ktPmZ1bmMtPnBjaWUuaW5pdChwY2kpOwo+ID4KPiA+IC0gICAgIGlmIChwY2ktPnBj
aWUuc3BlZWQgIT0gLTEpCj4gPiAtICAgICAgICAgICAgIG52a21fcGNpZV9zZXRfbGluayhwY2ks
IHBjaS0+cGNpZS5zcGVlZCwgcGNpLT5wY2llLndpZHRoKTsKPiA+ICsgICAgIGlmIChwY2ktPnBj
aWUuY3VyX3NwZWVkICE9IC0xKQo+ID4gKyAgICAgICAgICAgICBudmttX3BjaWVfc2V0X2xpbmso
cGNpLCBwY2ktPnBjaWUuY3VyX3NwZWVkLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcGNpLT5wY2llLmN1cl93aWR0aCk7Cj4gPgo+ID4gICAgICAgcmV0dXJuIDA7Cj4gPiAg
fQo+ID4KPiA+ICtpbnQKPiA+ICtudmttX3BjaWVfZmluaShzdHJ1Y3QgbnZrbV9wY2kgKnBjaSkK
PiA+ICt7Cj4gPiArICAgICBpZiAoIUlTX0VSUl9WQUxVRShwY2ktPnBjaWUuZGVmX3NwZWVkKSkK
PiA+ICsgICAgICAgICAgICAgcmV0dXJuIG52a21fcGNpZV9zZXRfbGluayhwY2ksIHBjaS0+cGNp
ZS5kZWZfc3BlZWQsIDE2KTsKPiA+ICsgICAgIHJldHVybiAwOwo+ID4gK30KPiA+ICsKPiA+ICBp
bnQKPiA+ICBudmttX3BjaWVfc2V0X2xpbmsoc3RydWN0IG52a21fcGNpICpwY2ksIGVudW0gbnZr
bV9wY2llX3NwZWVkIHNwZWVkLCB1OCB3aWR0aCkKPiA+ICB7Cj4gPiBAQCAtMTQ2LDggKzE2Miw4
IEBAIG52a21fcGNpZV9zZXRfbGluayhzdHJ1Y3QgbnZrbV9wY2kgKnBjaSwgZW51bSBudmttX3Bj
aWVfc3BlZWQgc3BlZWQsIHU4IHdpZHRoKQo+ID4gICAgICAgICAgICAgICBzcGVlZCA9IG1heF9z
cGVlZDsKPiA+ICAgICAgIH0KPiA+Cj4gPiAtICAgICBwY2ktPnBjaWUuc3BlZWQgPSBzcGVlZDsK
PiA+IC0gICAgIHBjaS0+cGNpZS53aWR0aCA9IHdpZHRoOwo+ID4gKyAgICAgcGNpLT5wY2llLmN1
cl9zcGVlZCA9IHNwZWVkOwo+ID4gKyAgICAgcGNpLT5wY2llLmN1cl93aWR0aCA9IHdpZHRoOwo+
ID4KPiA+ICAgICAgIGlmIChzcGVlZCA9PSBjdXJfc3BlZWQpIHsKPiA+ICAgICAgICAgICAgICAg
bnZrbV9kZWJ1ZyhzdWJkZXYsICJyZXF1ZXN0ZWQgbWF0Y2hlcyBjdXJyZW50IHNwZWVkXG4iKTsK
PiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcHJpdi5oIGIvZHJt
L25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3ByaXYuaAo+ID4gaW5kZXggYTBkNGMwMDcuLmU3NzQ0
NjcxIDEwMDY0NAo+ID4gLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3ByaXYuaAo+
ID4gKysrIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3ByaXYuaAo+ID4gQEAgLTYwLDUg
KzYwLDcgQEAgZW51bSBudmttX3BjaWVfc3BlZWQgZ2sxMDRfcGNpZV9tYXhfc3BlZWQoc3RydWN0
IG52a21fcGNpICopOwo+ID4gIGludCBnazEwNF9wY2llX3ZlcnNpb25fc3VwcG9ydGVkKHN0cnVj
dCBudmttX3BjaSAqKTsKPiA+Cj4gPiAgaW50IG52a21fcGNpZV9vbmVpbml0KHN0cnVjdCBudmtt
X3BjaSAqKTsKPiA+ICtpbnQgbnZrbV9wY2llX3ByZWluaXQoc3RydWN0IG52a21fcGNpICopOwo+
ID4gIGludCBudmttX3BjaWVfaW5pdChzdHJ1Y3QgbnZrbV9wY2kgKik7Cj4gPiAraW50IG52a21f
cGNpZV9maW5pKHN0cnVjdCBudmttX3BjaSAqKTsKPiA+ICAjZW5kaWYKPiA+IC0tCj4gPiAyLjIx
LjAKPiA+Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCk5v
dXZlYXUgbWFpbGluZyBsaXN0Ck5vdXZlYXVAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vbm91dmVhdQ==
