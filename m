Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6C12FB48F5
	for <lists+nouveau@lfdr.de>; Tue, 17 Sep 2019 10:13:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EE2416EB44;
	Tue, 17 Sep 2019 08:13:57 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
X-Greylist: delayed 368 seconds by postgrey-1.36 at gabe;
 Tue, 17 Sep 2019 08:13:56 UTC
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C82FA6EB44
 for <nouveau@lists.freedesktop.org>; Tue, 17 Sep 2019 08:13:56 +0000 (UTC)
Received: from mail-io1-f71.google.com (mail-io1-f71.google.com
 [209.85.166.71]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-46-fAZ6NrqLPpiu1luLYotMUA-1; Tue, 17 Sep 2019 04:07:45 -0400
Received: by mail-io1-f71.google.com with SMTP id m25so4658042ioo.1
 for <nouveau@lists.freedesktop.org>; Tue, 17 Sep 2019 01:07:45 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=ys/HGY3rBjzsj9p+25GqgIkZG28ai8I95HwLnzi5qZg=;
 b=gR3en5aRx6nzRw+iS1hXwbBtziQng3xim8D2gPCPIB/yfvxe6VfROCysj+Dvj4YrZI
 l76Fg7bgBYyFAo/f+Y+Hrq8H8gOl/kvO0T6SIqKiE/9HiXFCKUov40Xx11cT4Zqwfhaa
 JTHKEsUyfnMK1lUCn6hPAwfK9rI00cKPdL7Jl/UxebtwtBXBMRL3e2FBnGVkzQB6ei6V
 3JDoKW0Xg42oiDFf6n0GhHdThh5ZtAr2DpCMqqEgqB9O1H0KPl7jfWiVAhKHVkuMSpI3
 dC6ZbU5FPN5CWmND+3eEaeFh8XfzbWLJvGXJl1SUs7chfXS1/kdh4jjntOQJogS8Hgc6
 Bdlg==
X-Gm-Message-State: APjAAAUjFebMnfGbHcApAYbhfzefWC1JZTE6Z6ZvF42zaIa03ep+4bYs
 EPcfdM6NMBWrer+hNva67oIKNDTictztZgp9PkT6hIpcnC0RQzKdTT1AdDyt4gRmm7OW0vmozKK
 suXLDi+kbCA7gQNt68AJUA41VM7m3Dji9x+gCDVX3dg==
X-Received: by 2002:a02:cd8d:: with SMTP id l13mr2447798jap.138.1568707664653; 
 Tue, 17 Sep 2019 01:07:44 -0700 (PDT)
X-Google-Smtp-Source: APXvYqzCWUlwGOz0awkSySrPWukrO7CdoQIh2OPDxVZvS9npQfixO67OPE5tpLa/eO7LmPrCawaFyBU26BqvzeQdd3M=
X-Received: by 2002:a02:cd8d:: with SMTP id l13mr2447778jap.138.1568707664379; 
 Tue, 17 Sep 2019 01:07:44 -0700 (PDT)
MIME-Version: 1.0
References: <20190913113306.20972-1-kherbst@redhat.com>
 <20190913113306.20972-4-kherbst@redhat.com>
 <CACAvsv4gP5rX2K9pCx2TSHtgAGbqPfYYMA05TgRZkAKXb3RMow@mail.gmail.com>
In-Reply-To: <CACAvsv4gP5rX2K9pCx2TSHtgAGbqPfYYMA05TgRZkAKXb3RMow@mail.gmail.com>
From: Karol Herbst <kherbst@redhat.com>
Date: Tue, 17 Sep 2019 10:07:33 +0200
Message-ID: <CACO55tsU1hHz=KxP392vkJ8NZRtY5cGx+t51jOVwTNdftHyUzQ@mail.gmail.com>
To: Ben Skeggs <skeggsb@gmail.com>
X-MC-Unique: fAZ6NrqLPpiu1luLYotMUA-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1568708035;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=idtXTwpNPqQB4yaIhFpm6acAjFXpGhKhbJSlheq1nAc=;
 b=TcxUvlxWMpxWXsa0e48/UXd7Qujy+aLaiV9amWYF41Fy8ahYV7zrGQCubB5YZXjMU9fiFN
 goGepmm2GIp01xEOpO/58Hy6e7Ia/sWLBRj4ua8Am16V851SQnB7dXKzHIyY7HjWZR66VV
 e2MD1PXt983gxI73HFCfi52uCyS9YzE=
Subject: Re: [Nouveau] [PATCH v4 3/4] pci: set the pcie link speed to 8.0
 when suspending
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: ML nouveau <nouveau@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

T24gVHVlLCBTZXAgMTcsIDIwMTkgYXQgODowMSBBTSBCZW4gU2tlZ2dzIDxza2VnZ3NiQGdtYWls
LmNvbT4gd3JvdGU6Cj4KPiBPbiBGcmksIDEzIFNlcCAyMDE5IGF0IDIxOjMzLCBLYXJvbCBIZXJi
c3QgPGtoZXJic3RAcmVkaGF0LmNvbT4gd3JvdGU6Cj4gPgo+ID4gQXBwZXJhbnRseSB0aGluZ3Mg
Z28gc291dGggaWYgd2Ugc3VzcGVuZCB0aGUgZGV2aWNlIHdpdGggYSBQQ0llIGxpbmsgc3BlZWQK
PiA+IHNldCB0byAyLjUuIEZpeGVzIHJ1bnRpbWUgc3VzcGVuZCBvbiBteSBncDEwNy4KPiA+Cj4g
PiBUaGlzIGFsbCBsb29rcyBsaWtlIHNvbWUgYnVnIGluc2lkZSB0aGUgcGNpIHN1YnN5c3RlbSBh
bmQgSSB3b3VsZCBwcmVmZXIgYQo+ID4gZml4IHRoZXJlIGluc3RlYWQgb2Ygbm91dmVhdSwgYnV0
IG1heWJlIHRoZXJlIGlzIG5vIHJlYWwgbmljZSB3YXkgb2YgZG9pbmcKPiA+IHRoYXQgb3V0c2lk
ZSBvZiBkcml2ZXJzPwo+ID4KPiA+IHYyOiBzcXVhc2hlZCB0b2dldGhlciBwYXRjaCA0IGFuZCA1
Cj4gPiB2Mzogb25seSByZXN0b3JlIHBjaWUgc3BlZWQgb24gbWFjaGluZXMgd2l0aCBydW5wbQo+
ID4gICAgIGFkZCBOdlJ1bnBtV29ya2Fyb3VuZCBjb25maWcgb3B0aW9uIHRvIGRpc2FibGUgdGhl
IHdvcmthcm91bmQKPiA+IHY0OiBvbmx5IHJ1biB0aGUgY29kZSBvbiBzdXNwZW5kCj4gPiAgICAg
YWx3YXlzIHB1dCB0aGUgY2FyZCBpbnRvIDguMCBtb2RlLCBub3Qgd2hhdCBub3V2ZWF1IGRldGVj
dGVkIG9uIGxvYWQKPiBXaHkgdGhpcyBjaGFuZ2U/Cgptb2Rwcm9iZSBub3V2ZWF1CnJtbW9kIG5v
dXZlYXUKbW9kcHJvYmUgbm91dmVhdSAoc2F2ZWQgMi41IGFzIHRoZSAiYm9vdCIgc3BlZWQpCnJ1
bnBtIGJyZWFrcy4KCk1haW5seSBJIGRvbid0IGFjdHVhbGx5IHdhbnQgdG8gZGVwZW5kIG9uIHRo
ZSBpbml0aWFsIHN0YXRlIGFzIHdlCmxvd2VyIHRvIDIuNS81LjAgZGVwZW5kaW5nIG9uIHdoYXQg
d2UgcXVlcmllZCBpcyBwb3NzaWJsZSBhbmQgbm90CnVzaW5nIDIuNSBpcyBhY3R1YWxseSB0aGUg
Zml4LCBub3QgdXNlIHdoYXRldmVyIHRoZSBHUFUgYm9vdGVkIHdpdGguCgo+IEFsc28sIEkga25v
dyB3ZSBkb24ndCBjdXJyZW50bHkgdG91Y2ggaXQsIGJ1dCB3aGF0Cj4gaWYgeDE2IGlzbid0IGF2
YWlsYWJsZSBvbiBzb21lIHN5c3RlbXMgYW5kIHdlIGJyZWFrIHN0dWZmIHdoZW4gd2UgZG8KPiBz
dGFydCBwbGF5aW5nIHdpdGggbGluayB3aWR0aD8KPgoKSSB0aGluayBpZiB3ZSBhZGQgY29kZSBm
b3IgdGhlIHdpZHRoLCB3ZSB3b3VsZCBhZGQgYSBtYXhpbXVtIHdpZHRoCmRldGVjdGlvbiBhcyB3
ZWxsIGFzIHdlIGRvIGZvciB0aGUgbGluayBzcGVlZC4KCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTog
S2Fyb2wgSGVyYnN0IDxraGVyYnN0QHJlZGhhdC5jb20+Cj4gPiBSZXZpZXdlZC1ieTogTHl1ZGUg
UGF1bCA8bHl1ZGVAcmVkaGF0LmNvbT4gKHYyKQo+ID4gLS0tCj4gPiAgZHJtL25vdXZlYXUvaW5j
bHVkZS9udmttL2NvcmUvZGV2aWNlLmggfCAgMiArKwo+ID4gIGRybS9ub3V2ZWF1L2luY2x1ZGUv
bnZrbS9zdWJkZXYvcGNpLmggIHwgIDMgKystCj4gPiAgZHJtL25vdXZlYXUvbm91dmVhdV9kcm0u
YyAgICAgICAgICAgICAgfCAgMSArCj4gPiAgZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvY2xrL2Jh
c2UuYyAgICAgfCAgMiArLQo+ID4gIGRybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9iYXNlLmMg
ICAgIHwgIDIgKysKPiA+ICBkcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcGNpZS5jICAgICB8
IDI3ICsrKysrKysrKysrKysrKysrKysrKystLS0tCj4gPiAgZHJtL25vdXZlYXUvbnZrbS9zdWJk
ZXYvcGNpL3ByaXYuaCAgICAgfCAgMSArCj4gPiAgNyBmaWxlcyBjaGFuZ2VkLCAzMiBpbnNlcnRp
b25zKCspLCA2IGRlbGV0aW9ucygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9p
bmNsdWRlL252a20vY29yZS9kZXZpY2UuaCBiL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3Jl
L2RldmljZS5oCj4gPiBpbmRleCA2ZDU1Y2QwNDcuLjRmYjNmOTcyZiAxMDA2NDQKPiA+IC0tLSBh
L2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL2RldmljZS5oCj4gPiArKysgYi9kcm0vbm91
dmVhdS9pbmNsdWRlL252a20vY29yZS9kZXZpY2UuaAo+ID4gQEAgLTEyNSw2ICsxMjUsOCBAQCBz
dHJ1Y3QgbnZrbV9kZXZpY2Ugewo+ID4gICAgICAgICB1OCAgY2hpcHJldjsKPiA+ICAgICAgICAg
dTMyIGNyeXN0YWw7Cj4gPgo+ID4gKyAgICAgICBib29sIGhhc19ydW5wbTsKPiA+ICsKPiA+ICAg
ICAgICAgc3RydWN0IHsKPiA+ICAgICAgICAgICAgICAgICBzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sg
bmI7Cj4gPiAgICAgICAgIH0gYWNwaTsKPiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9pbmNs
dWRlL252a20vc3ViZGV2L3BjaS5oIGIvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL3N1YmRldi9w
Y2kuaAo+ID4gaW5kZXggYjI5MTAxZTQ4Li43MjQ1NTEzZDkgMTAwNjQ0Cj4gPiAtLS0gYS9kcm0v
bm91dmVhdS9pbmNsdWRlL252a20vc3ViZGV2L3BjaS5oCj4gPiArKysgYi9kcm0vbm91dmVhdS9p
bmNsdWRlL252a20vc3ViZGV2L3BjaS5oCj4gPiBAQCAtNTIsNiArNTIsNyBAQCBpbnQgZ2sxMDRf
cGNpX25ldyhzdHJ1Y3QgbnZrbV9kZXZpY2UgKiwgaW50LCBzdHJ1Y3QgbnZrbV9wY2kgKiopOwo+
ID4gIGludCBncDEwMF9wY2lfbmV3KHN0cnVjdCBudmttX2RldmljZSAqLCBpbnQsIHN0cnVjdCBu
dmttX3BjaSAqKik7Cj4gPgo+ID4gIC8qIHBjaWUgZnVuY3Rpb25zICovCj4gPiAtaW50IG52a21f
cGNpZV9zZXRfbGluayhzdHJ1Y3QgbnZrbV9wY2kgKiwgZW51bSBudmttX3BjaWVfc3BlZWQsIHU4
IHdpZHRoKTsKPiA+ICtpbnQgbnZrbV9wY2llX3NldF9saW5rKHN0cnVjdCBudmttX3BjaSAqLCBl
bnVtIG52a21fcGNpZV9zcGVlZCwgdTggd2lkdGgsCj4gPiArICAgICAgICAgICAgICAgICAgICAg
IGJvb2wgc2F2ZSk7Cj4gPiAgZW51bSBudmttX3BjaWVfc3BlZWQgbnZrbV9wY2llX2dldF9zcGVl
ZChzdHJ1Y3QgbnZrbV9wY2kgKik7Cj4gPiAgI2VuZGlmCj4gPiBkaWZmIC0tZ2l0IGEvZHJtL25v
dXZlYXUvbm91dmVhdV9kcm0uYyBiL2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMKPiA+IGluZGV4
IDNkMzJhZmU4YS4uNzhkNTVjNTI1IDEwMDY0NAo+ID4gLS0tIGEvZHJtL25vdXZlYXUvbm91dmVh
dV9kcm0uYwo+ID4gKysrIGIvZHJtL25vdXZlYXUvbm91dmVhdV9kcm0uYwo+ID4gQEAgLTY3Niw2
ICs2NzYsNyBAQCBzdGF0aWMgaW50IG5vdXZlYXVfZHJtX3Byb2JlKHN0cnVjdCBwY2lfZGV2ICpw
ZGV2LAo+ID4KPiA+ICAgICAgICAgaWYgKG5vdXZlYXVfYXRvbWljKQo+ID4gICAgICAgICAgICAg
ICAgIGRyaXZlcl9wY2kuZHJpdmVyX2ZlYXR1cmVzIHw9IERSSVZFUl9BVE9NSUM7Cj4gPiArICAg
ICAgIGRldmljZS0+aGFzX3J1bnBtID0gbm91dmVhdV9wbW9wc19ydW50aW1lKCk7Cj4gPgo+ID4g
ICAgICAgICBkcm1fZGV2ID0gZHJtX2Rldl9hbGxvYygmZHJpdmVyX3BjaSwgJnBkZXYtPmRldik7
Cj4gPiAgICAgICAgIGlmIChJU19FUlIoZHJtX2RldikpIHsKPiA+IGRpZmYgLS1naXQgYS9kcm0v
bm91dmVhdS9udmttL3N1YmRldi9jbGsvYmFzZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYv
Y2xrL2Jhc2UuYwo+ID4gaW5kZXggYmE2YTg2OGQ0Li5lMzBlNzc0NTMgMTAwNjQ0Cj4gPiAtLS0g
YS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9jbGsvYmFzZS5jCj4gPiArKysgYi9kcm0vbm91dmVh
dS9udmttL3N1YmRldi9jbGsvYmFzZS5jCj4gPiBAQCAtMjc3LDcgKzI3Nyw3IEBAIG52a21fcHN0
YXRlX3Byb2coc3RydWN0IG52a21fY2xrICpjbGssIGludCBwc3RhdGVpKQo+ID4gICAgICAgICBu
dmttX2RlYnVnKHN1YmRldiwgInNldHRpbmcgcGVyZm9ybWFuY2Ugc3RhdGUgJWRcbiIsIHBzdGF0
ZWkpOwo+ID4gICAgICAgICBjbGstPnBzdGF0ZSA9IHBzdGF0ZWk7Cj4gPgo+ID4gLSAgICAgICBu
dmttX3BjaWVfc2V0X2xpbmsocGNpLCBwc3RhdGUtPnBjaWVfc3BlZWQsIHBzdGF0ZS0+cGNpZV93
aWR0aCk7Cj4gPiArICAgICAgIG52a21fcGNpZV9zZXRfbGluayhwY2ksIHBzdGF0ZS0+cGNpZV9z
cGVlZCwgcHN0YXRlLT5wY2llX3dpZHRoLCB0cnVlKTsKPiA+Cj4gPiAgICAgICAgIGlmIChmYiAm
JiBmYi0+cmFtICYmIGZiLT5yYW0tPmZ1bmMtPmNhbGMpIHsKPiA+ICAgICAgICAgICAgICAgICBz
dHJ1Y3QgbnZrbV9yYW0gKnJhbSA9IGZiLT5yYW07Cj4gPiBkaWZmIC0tZ2l0IGEvZHJtL25vdXZl
YXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9i
YXNlLmMKPiA+IGluZGV4IGVlMjQzMWE3OC4uYzliNjBlZjc2IDEwMDY0NAo+ID4gLS0tIGEvZHJt
L25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYwo+ID4gKysrIGIvZHJtL25vdXZlYXUvbnZr
bS9zdWJkZXYvcGNpL2Jhc2UuYwo+ID4gQEAgLTkwLDYgKzkwLDggQEAgbnZrbV9wY2lfZmluaShz
dHJ1Y3QgbnZrbV9zdWJkZXYgKnN1YmRldiwgYm9vbCBzdXNwZW5kKQo+ID4KPiA+ICAgICAgICAg
aWYgKHBjaS0+YWdwLmJyaWRnZSkKPiA+ICAgICAgICAgICAgICAgICBudmttX2FncF9maW5pKHBj
aSk7Cj4gPiArICAgICAgIGVsc2UgaWYgKHBjaV9pc19wY2llKHBjaS0+cGRldikpCj4gPiArICAg
ICAgICAgICAgICAgbnZrbV9wY2llX2ZpbmkocGNpLCBzdXNwZW5kKTsKPiA+Cj4gPiAgICAgICAg
IHJldHVybiAwOwo+ID4gIH0KPiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1YmRl
di9wY2kvcGNpZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL3BjaWUuYwo+ID4gaW5k
ZXggYjQyMDNmZjFhLi41Y2FiNGEyNDAgMTAwNjQ0Cj4gPiAtLS0gYS9kcm0vbm91dmVhdS9udmtt
L3N1YmRldi9wY2kvcGNpZS5jCj4gPiArKysgYi9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kv
cGNpZS5jCj4gPiBAQCAtMjMsNiArMjMsOCBAQAo+ID4gICAqLwo+ID4gICNpbmNsdWRlICJwcml2
LmgiCj4gPgo+ID4gKyNpbmNsdWRlIDxjb3JlL29wdGlvbi5oPgo+ID4gKwo+ID4gIHN0YXRpYyBj
aGFyICpudmttX3BjaWVfc3BlZWRzW10gPSB7Cj4gPiAgICAgICAgICIyLjVHVC9zIiwKPiA+ICAg
ICAgICAgIjUuMEdUL3MiLAo+ID4gQEAgLTEwNiwxMSArMTA4LDI1IEBAIG52a21fcGNpZV9pbml0
KHN0cnVjdCBudmttX3BjaSAqcGNpKQo+ID4gICAgICAgICAgICAgICAgIHBjaS0+ZnVuYy0+cGNp
ZS5pbml0KHBjaSk7Cj4gPgo+ID4gICAgICAgICBpZiAocGNpLT5wY2llLnNwZWVkICE9IC0xKQo+
ID4gLSAgICAgICAgICAgICAgIG52a21fcGNpZV9zZXRfbGluayhwY2ksIHBjaS0+cGNpZS5zcGVl
ZCwgcGNpLT5wY2llLndpZHRoKTsKPiA+ICsgICAgICAgICAgICAgICBudmttX3BjaWVfc2V0X2xp
bmsocGNpLCBwY2ktPnBjaWUuc3BlZWQsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHBjaS0+cGNpZS53aWR0aCwgZmFsc2UpOwo+ID4KPiA+ICAgICAgICAgcmV0dXJuIDA7
Cj4gPiAgfQo+ID4KPiA+ICtpbnQKPiA+ICtudmttX3BjaWVfZmluaShzdHJ1Y3QgbnZrbV9wY2kg
KnBjaSwgYm9vbCBzdXNwZW5kKQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IG52a21fZGV2aWNl
ICpkZXZpY2UgPSBwY2ktPnN1YmRldi5kZXZpY2U7Cj4gPiArICAgICAgIGlmICghZGV2aWNlLT5o
YXNfcnVucG0gfHwgIXN1c3BlbmQpCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPiAr
Cj4gPiArICAgICAgIGlmICghbnZrbV9ib29sb3B0KGRldmljZS0+Y2Znb3B0LCAiTnZSdW5wbVdv
cmthcm91bmQiLCB0cnVlKSkKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ICsKPiA+
ICsgICAgICAgcmV0dXJuIG52a21fcGNpZV9zZXRfbGluayhwY2ksIE5WS01fUENJRV9TUEVFRF84
XzAsIDE2LCBmYWxzZSk7Cj4gPiArfQo+ID4gKwo+ID4gIHZvaWQKPiA+ICBudmttX3BjaWVfZm9y
Y2VfYXNwbV9vZmYoc3RydWN0IG52a21fcGNpICpwY2ksIGJvb2wgc3RhdHVzKQo+ID4gIHsKPiA+
IEBAIC0xMjAsNyArMTM2LDggQEAgbnZrbV9wY2llX2ZvcmNlX2FzcG1fb2ZmKHN0cnVjdCBudmtt
X3BjaSAqcGNpLCBib29sIHN0YXR1cykKPiA+ICB9Cj4gPgo+ID4gIGludAo+ID4gLW52a21fcGNp
ZV9zZXRfbGluayhzdHJ1Y3QgbnZrbV9wY2kgKnBjaSwgZW51bSBudmttX3BjaWVfc3BlZWQgc3Bl
ZWQsIHU4IHdpZHRoKQo+ID4gK252a21fcGNpZV9zZXRfbGluayhzdHJ1Y3QgbnZrbV9wY2kgKnBj
aSwgZW51bSBudmttX3BjaWVfc3BlZWQgc3BlZWQsIHU4IHdpZHRoLAo+ID4gKyAgICAgICAgICAg
ICAgICAgICBib29sIHNhdmUpCj4gPiAgewo+ID4gICAgICAgICBzdHJ1Y3QgbnZrbV9zdWJkZXYg
KnN1YmRldiA9ICZwY2ktPnN1YmRldjsKPiA+ICAgICAgICAgZW51bSBudmttX3BjaWVfc3BlZWQg
Y3VyX3NwZWVkLCBtYXhfc3BlZWQ7Cj4gPiBAQCAtMTU0LDggKzE3MSwxMCBAQCBudmttX3BjaWVf
c2V0X2xpbmsoc3RydWN0IG52a21fcGNpICpwY2ksIGVudW0gbnZrbV9wY2llX3NwZWVkIHNwZWVk
LCB1OCB3aWR0aCkKPiA+ICAgICAgICAgICAgICAgICBzcGVlZCA9IG1heF9zcGVlZDsKPiA+ICAg
ICAgICAgfQo+ID4KPiA+IC0gICAgICAgcGNpLT5wY2llLnNwZWVkID0gc3BlZWQ7Cj4gPiAtICAg
ICAgIHBjaS0+cGNpZS53aWR0aCA9IHdpZHRoOwo+ID4gKyAgICAgICBpZiAoc2F2ZSkgewo+ID4g
KyAgICAgICAgICAgICAgIHBjaS0+cGNpZS5zcGVlZCA9IHNwZWVkOwo+ID4gKyAgICAgICAgICAg
ICAgIHBjaS0+cGNpZS53aWR0aCA9IHdpZHRoOwo+ID4gKyAgICAgICB9Cj4gPgo+ID4gICAgICAg
ICBpZiAoc3BlZWQgPT0gY3VyX3NwZWVkKSB7Cj4gPiAgICAgICAgICAgICAgICAgbnZrbV9kZWJ1
ZyhzdWJkZXYsICJyZXF1ZXN0ZWQgbWF0Y2hlcyBjdXJyZW50IHNwZWVkXG4iKTsKPiA+IGRpZmYg
LS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcHJpdi5oIGIvZHJtL25vdXZlYXUv
bnZrbS9zdWJkZXYvcGNpL3ByaXYuaAo+ID4gaW5kZXggODJjNzhiZWZhLi42YmVhMzdjMTUgMTAw
NjQ0Cj4gPiAtLS0gYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcHJpdi5oCj4gPiArKysg
Yi9kcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcHJpdi5oCj4gPiBAQCAtNjMsNCArNjMsNSBA
QCBpbnQgZ2sxMDRfcGNpZV92ZXJzaW9uX3N1cHBvcnRlZChzdHJ1Y3QgbnZrbV9wY2kgKik7Cj4g
Pgo+ID4gIGludCBudmttX3BjaWVfb25laW5pdChzdHJ1Y3QgbnZrbV9wY2kgKik7Cj4gPiAgaW50
IG52a21fcGNpZV9pbml0KHN0cnVjdCBudmttX3BjaSAqKTsKPiA+ICtpbnQgbnZrbV9wY2llX2Zp
bmkoc3RydWN0IG52a21fcGNpICosIGJvb2wgc3VzcGVuZCk7Cj4gPiAgI2VuZGlmCj4gPiAtLQo+
ID4gMi4yMS4wCj4gPgo+ID4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KPiA+IE5vdXZlYXUgbWFpbGluZyBsaXN0Cj4gPiBOb3V2ZWF1QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwo+ID4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9ub3V2ZWF1CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpOb3V2ZWF1IG1haWxpbmcgbGlzdApOb3V2ZWF1QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL25vdXZlYXU=
