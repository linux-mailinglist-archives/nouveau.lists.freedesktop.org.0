Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 50F363A3272
	for <lists+nouveau@lfdr.de>; Thu, 10 Jun 2021 19:50:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A3A416E4D7;
	Thu, 10 Jun 2021 17:50:35 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from hosting.gsystem.sk (hosting.gsystem.sk [212.5.213.30])
 by gabe.freedesktop.org (Postfix) with ESMTP id 2D4896E4D7;
 Thu, 10 Jun 2021 17:50:34 +0000 (UTC)
Received: from [192.168.0.2] (188-167-68-178.dynamic.chello.sk
 [188.167.68.178])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by hosting.gsystem.sk (Postfix) with ESMTPSA id D668C7A024A;
 Thu, 10 Jun 2021 19:50:32 +0200 (CEST)
From: Ondrej Zary <linux@zary.sk>
To: Christian =?utf-8?q?K=C3=B6nig?= <christian.koenig@amd.com>
Date: Thu, 10 Jun 2021 19:50:28 +0200
User-Agent: KMail/1.9.10
References: <202106052143.52488.linux@zary.sk>
 <202106092200.08088.linux@zary.sk>
 <081b7908-9a1c-fef1-2b82-4b794f612c9b@amd.com>
In-Reply-To: <081b7908-9a1c-fef1-2b82-4b794f612c9b@amd.com>
X-KMail-QuotePrefix: > 
MIME-Version: 1.0
Content-Disposition: inline
Message-Id: <202106101950.28723.linux@zary.sk>
Subject: Re: [Nouveau] nouveau broken on Riva TNT2 in 5.13.0-rc4: NULL
 pointer dereference in nouveau_bo_sync_for_device
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: nouveau@lists.freedesktop.org, Ben Skeggs <bskeggs@redhat.com>,
 dri-devel@lists.freedesktop.org, linux-kernel@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

T24gVGh1cnNkYXkgMTAgSnVuZSAyMDIxIDA4OjQzOjA2IENocmlzdGlhbiBLw7ZuaWcgd3JvdGU6
Cj4gCj4gQW0gMDkuMDYuMjEgdW0gMjI6MDAgc2NocmllYiBPbmRyZWogWmFyeToKPiA+IE9uIFdl
ZG5lc2RheSAwOSBKdW5lIDIwMjEgMTE6MjE6MDUgQ2hyaXN0aWFuIEvDtm5pZyB3cm90ZToKPiA+
PiBBbSAwOS4wNi4yMSB1bSAwOToxMCBzY2hyaWViIE9uZHJlaiBaYXJ5Ogo+ID4+PiBPbiBXZWRu
ZXNkYXkgMDkgSnVuZSAyMDIxLCBDaHJpc3RpYW4gS8O2bmlnIHdyb3RlOgo+ID4+Pj4gQW0gMDku
MDYuMjEgdW0gMDg6NTcgc2NocmllYiBPbmRyZWogWmFyeToKPiA+Pj4+PiBbU05JUF0KPiA+Pj4+
Pj4gVGhhbmtzIGZvciB0aGUgaGVhZHMgdXAuIFNvIHRoZSBwcm9ibGVtIHdpdGggbXkgcGF0Y2gg
aXMgYWxyZWFkeSBmaXhlZCwKPiA+Pj4+Pj4gaXNuJ3QgaXQ/Cj4gPj4+Pj4gVGhlIE5VTEwgcG9p
bnRlciBkZXJlZmVyZW5jZSBpbiBub3V2ZWF1X2JvX3dyMTYgaW50cm9kdWNlZCBpbgo+ID4+Pj4+
IDE0MWIxNWU1OTE3NWFhMTc0Y2ExZjc1OTYxODhiZDE1YTdjYTE3YmEgd2FzIGZpeGVkIGJ5Cj4g
Pj4+Pj4gYWVhNjU2YjBkMDVlYzViOGVkNWJlYjJmOTRjNGRkNDJlYTgzNGU5ZC4KPiA+Pj4+Pgo+
ID4+Pj4+IFRoYXQncyB0aGUgYnVnIEkgaGl0IHdoZW4gYmlzZWN0aW5nIHRoZSBvcmlnaW5hbCBw
cm9ibGVtOgo+ID4+Pj4+IE5VTEwgcG9pbnRlciBkZXJlZmVyZW5jZSBpbiBub3V2ZWF1X2JvX3N5
bmNfZm9yX2RldmljZQo+ID4+Pj4+IEl0J3MgY2F1c2VkIGJ5Ogo+ID4+Pj4+ICMgZmlyc3QgYmFk
IGNvbW1pdDogW2UzNGI4ZmVlYWE0YjY1NzI1YjI1ZjQ5YzliMDhhMGY4NzA3ZThlODZdIGRybS90
dG06IG1lcmdlIHR0bV9kbWFfdHQgYmFjayBpbnRvIHR0bV90dAo+ID4+Pj4gR29vZCB0aGF0IEkn
dmUgYXNrZWQgOikKPiA+Pj4+Cj4gPj4+PiBPayB0aGF0J3MgYSBiaXQgc3RyYW5nZS4gZTM0Yjhm
ZWVhYTRiNjU3MjViMjVmNDljOWIwOGEwZjg3MDdlOGU4NiB3YXMKPiA+Pj4+IGNyZWF0ZWQgbW9z
dGx5IGF1dG9tYXRlZC4KPiA+Pj4+Cj4gPj4+PiBEbyB5b3UgaGF2ZSB0aGUgb3JpZ2luYWwgYmFj
a3RyYWNlIG9mIHRoYXQgTlVMTCBwb2ludGVyIGRlcmVmIG9uY2UgbW9yZT8KPiA+Pj4gVGhlIG9y
aWdpbmFsIGJhY2t0cmFjZSBpcyBoZXJlOiBodHRwczovL25hbTExLnNhZmVsaW5rcy5wcm90ZWN0
aW9uLm91dGxvb2suY29tLz91cmw9aHR0cHMlM0ElMkYlMkZsa21sLm9yZyUyRmxrbWwlMkYyMDIx
JTJGNiUyRjUlMkYzNTAmYW1wO2RhdGE9MDQlN0MwMSU3Q2NocmlzdGlhbi5rb2VuaWclNDBhbWQu
Y29tJTdDNDMwOWZmMDIxZDVlNGNiZTk0OGIwOGQ5MmI4MTMxMDYlN0MzZGQ4OTYxZmU0ODg0ZTYw
OGUxMWE4MmQ5OTRlMTgzZCU3QzAlN0MwJTdDNjM3NTg4NjU3MDQ1MzgzMDU2JTdDVW5rbm93biU3
Q1RXRnBiR1pzYjNkOGV5SldJam9pTUM0d0xqQXdNREFpTENKUUlqb2lWMmx1TXpJaUxDSkJUaUk2
SWsxaGFXd2lMQ0pYVkNJNk1uMCUzRCU3QzMwMDAmYW1wO3NkYXRhPXQ3MGM5a3R6UEp6RGFFQWNP
NHdwUU12M1RVbzViNTNjVXk2NkFrTGVWd0UlM0QmYW1wO3Jlc2VydmVkPTAKPiA+PiBBbmQgdGhl
IHByb2JsZW0gaXMgdGhhdCB0dG1fZG1hLT5kbWFfYWRkcmVzcyBpcyBOVUxMLCByaWdodD8gTWht
LCBJCj4gPj4gZG9uJ3Qgc2VlIGhvdyB0aGF0IGNhbiBoYXBwZW4gc2luY2Ugbm91dmVhdSBpcyB1
c2luZyB0dG1fc2dfdHRfaW5pdCgpLgo+ID4+Cj4gPj4gQXBhcnQgZnJvbSB0aGF0IHdoYXQgbm91
dmVhdSBkb2VzIGhlcmUgaXMgcmF0aGVyIHF1ZXN0aW9uYWJsZSBzaW5jZSB5b3UKPiA+PiBuZWVk
IGEgY29oZXJlbnQgYXJjaGl0ZWN0dXJlIGZvciBtb3N0IHRoaW5ncyBhbnl3YXksIGJ1dCB0aGF0
J3Mgbm90IHdoYXQKPiA+PiB3ZSBhcmUgdHJ5aW5nIHRvIGZpeCBoZXJlLgo+ID4+Cj4gPj4gQ2Fu
IHlvdSB0cnkgdG8gbmFycm93IGRvd24gaWYgdHRtX3NnX3R0X2luaXQgaXMgY2FsbGVkIGJlZm9y
ZSBjYWxsaW5nCj4gPj4gdGhpcyBmdW5jdGlvbiBmb3IgdGhlIHR0IG9iamVjdCBpbiBxdWVzdGlv
bj8KPiA+IHR0bV9zZ190dF9pbml0IGlzIG5vdCBjYWxsZWQ6Cj4gPiBbICAgMTIuMTUwMTI0XSBu
b3V2ZWF1IDAwMDA6MDE6MDAuMDogRFJNOiBWUkFNOiAzMSBNaUIKPiA+IFsgICAxMi4xNTAxMzNd
IG5vdXZlYXUgMDAwMDowMTowMC4wOiBEUk06IEdBUlQ6IDEyOCBNaUIKPiA+IFsgICAxMi4xNTAx
NDNdIG5vdXZlYXUgMDAwMDowMTowMC4wOiBEUk06IEJNUCB2ZXJzaW9uIDUuNgo+ID4gWyAgIDEy
LjE1MDE1MV0gbm91dmVhdSAwMDAwOjAxOjAwLjA6IERSTTogTm8gRENCIGRhdGEgZm91bmQgaW4g
VkJJT1MKPiA+IFsgICAxMi4xNTEzNjJdIHR0bV90dF9pbml0Cj4gPiBbICAgMTIuMTUxMzcwXSB0
dG1fdHRfaW5pdF9maWVsZHMKPiA+IFsgICAxMi4xNTEzNzRdIHR0bV90dF9hbGxvY19wYWdlX2Rp
cmVjdG9yeQo+ID4gWyAgIDEyLjE1MTYxNV0gQlVHOiBrZXJuZWwgTlVMTCBwb2ludGVyIGRlcmVm
ZXJlbmNlLCBhZGRyZXNzOiAwMDAwMDAwMAo+IAo+IFBsZWFzZSBhZGQgZHVtcF9zdGFjaygpOyB0
byB0dG1fdHRfaW5pdCgpIGFuZCByZXBvcnQgYmFjayB3aXRoIHRoZSAKPiBiYWNrdHJhY2UuCj4g
Cj4gSSBjYW4ndCBzZWUgaG93IHRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIG5vdXZlYXUgY29kZSwg
b25seSBwb3NzaWJpbGl0eSBJIAo+IHNlZSBpcyB0aGF0IGl0IGlzIG1heWJlIGNhbGxlZCB0aHJv
dWdoIHRoZSBBR1AgY29kZSBzb21laG93LgoKWWVzLCB5b3UncmUgcmlnaHQ6ClsgICAxMy4xOTI2
NjNdIENhbGwgVHJhY2U6ClsgICAxMy4xOTI2NzhdICBkdW1wX3N0YWNrKzB4NTQvMHg2OApbICAg
MTMuMTkyNjkwXSAgdHRtX3R0X2luaXQrMHgxMS8weDhhIFt0dG1dClsgICAxMy4xOTI2OTldICB0
dG1fYWdwX3R0X2NyZWF0ZSsweDM5LzB4NTEgW3R0bV0KWyAgIDEzLjE5Mjg0MF0gIG5vdXZlYXVf
dHRtX3R0X2NyZWF0ZSsweDE3LzB4MjIgW25vdXZlYXVdClsgICAxMy4xOTI4NTZdICB0dG1fdHRf
Y3JlYXRlKzB4NzgvMHg4YyBbdHRtXQpbICAgMTMuMTkyODY0XSAgdHRtX2JvX2hhbmRsZV9tb3Zl
X21lbSsweDdkLzB4Y2EgW3R0bV0KWyAgIDEzLjE5Mjg3M10gIHR0bV9ib192YWxpZGF0ZSsweDky
LzB4YzggW3R0bV0KWyAgIDEzLjE5Mjg4M10gIHR0bV9ib19pbml0X3Jlc2VydmVkKzB4MjE2LzB4
MjQzIFt0dG1dClsgICAxMy4xOTI4OTJdICB0dG1fYm9faW5pdCsweDQ1LzB4NjUgW3R0bV0KWyAg
IDEzLjE5MzAxOF0gID8gbm91dmVhdV9ib19kZWxfaW9fcmVzZXJ2ZV9scnUrMHg0OC8weDQ4IFtu
b3V2ZWF1XQpbICAgMTMuMTkzMTUwXSAgbm91dmVhdV9ib19pbml0KzB4OGMvMHg5NCBbbm91dmVh
dV0KWyAgIDEzLjE5MzI3M10gID8gbm91dmVhdV9ib19kZWxfaW9fcmVzZXJ2ZV9scnUrMHg0OC8w
eDQ4IFtub3V2ZWF1XQpbICAgMTMuMTkzNDA3XSAgbm91dmVhdV9ib19uZXcrMHg0NC8weDU3IFtu
b3V2ZWF1XQpbICAgMTMuMTkzNTM3XSAgbm91dmVhdV9jaGFubmVsX3ByZXArMHhhMy8weDI2OSBb
bm91dmVhdV0KWyAgIDEzLjE5MzY2NV0gIG5vdXZlYXVfY2hhbm5lbF9uZXcrMHgzYy8weDVmNyBb
bm91dmVhdV0KWyAgIDEzLjE5MzY3OV0gID8gc2xhYl9mcmVlX2ZyZWVsaXN0X2hvb2srMHgzYi8w
eGE3ClsgICAxMy4xOTM2ODZdICA/IGtmcmVlKzB4OWUvMHgxMWEKWyAgIDEzLjE5Mzc4MV0gID8g
bnZpZl9vYmplY3Rfc2NsYXNzX3B1dCsweGQvMHgxNiBbbm91dmVhdV0KWyAgIDEzLjE5MzkwOF0g
IG5vdXZlYXVfZHJtX2RldmljZV9pbml0KzB4MmUyLzB4NjQ2IFtub3V2ZWF1XQpbICAgMTMuMTkz
OTI0XSAgPyBwY2lfZW5hYmxlX2RldmljZV9mbGFncysweDFlLzB4YWMKWyAgIDEzLjE5NDA1Ml0g
IG5vdXZlYXVfZHJtX3Byb2JlKzB4ZWIvMHgxODggW25vdXZlYXVdClsgICAxMy4xOTQxODJdICA/
IG5vdXZlYXVfZHJtX2RldmljZV9pbml0KzB4NjQ2LzB4NjQ2IFtub3V2ZWF1XQpbICAgMTMuMTk0
MTk1XSAgcGNpX2RldmljZV9wcm9iZSsweDg5LzB4ZTkKWyAgIDEzLjE5NDIwNV0gIHJlYWxseV9w
cm9iZSsweDEyNy8weDJhNwpbICAgMTMuMTk0MjEyXSAgZHJpdmVyX3Byb2JlX2RldmljZSsweDVi
LzB4ODcKWyAgIDEzLjE5NDIxOV0gIGRldmljZV9kcml2ZXJfYXR0YWNoKzB4MmUvMHg0MQpbICAg
MTMuMTk0MjI2XSAgX19kcml2ZXJfYXR0YWNoKzB4N2MvMHg4MwpbICAgMTMuMTk0MjMyXSAgYnVz
X2Zvcl9lYWNoX2RldisweDRjLzB4NjYKWyAgIDEzLjE5NDIzOF0gIGRyaXZlcl9hdHRhY2grMHgx
NC8weDE2ClsgICAxMy4xOTQyNDRdICA/IGRldmljZV9kcml2ZXJfYXR0YWNoKzB4NDEvMHg0MQpb
ICAgMTMuMTk0MjUxXSAgYnVzX2FkZF9kcml2ZXIrMHhjNS8weDE2YwpbICAgMTMuMTk0MjU4XSAg
ZHJpdmVyX3JlZ2lzdGVyKzB4ODcvMHhiOQpbICAgMTMuMTk0MjY1XSAgX19wY2lfcmVnaXN0ZXJf
ZHJpdmVyKzB4MzgvMHgzYgpbICAgMTMuMTk0MjcxXSAgPyAweGYwYzBkMDAwClsgICAxMy4xOTQz
NjJdICBub3V2ZWF1X2RybV9pbml0KzB4MTRjLzB4MTAwMCBbbm91dmVhdV0KCkhvdyBpcyB0dG1f
ZG1hX3R0LT5kbWFfYWRkcmVzcyBhbGxvY2F0ZWQ/IEkgY2Fubm90IGZpbmQgYW55IGFzc2lnbm1l
bnQKZXhlY3V0ZWQgKGluIHRoZSB3b3JraW5nIGNvZGUpOgoKJCBnaXQgZ3JlcCBkbWFfYWRkcmVz
c1wgPSBkcml2ZXJzL2dwdS8KZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtm
ZF9ncHV2bS5jOiAgICAgICBzZy0+c2dsLT5kbWFfYWRkcmVzcyA9IGFkZHI7CmRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYzogICAgICAgICAgICAgICAgZG1hX2FkZHJlc3Mg
PSAmZG1hLT5kbWFfYWRkcmVzc1tvZmZzZXQgPj4gUEFHRV9TSElGVF07CmRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYzogICAgICAgICAgICAgICAgZG1hX2FkZHJlc3MgPSAo
bW1fbm9kZS0+c3RhcnQgPDwgUEFHRV9TSElGVCkgKyBvZmZzZXQ7CmRyaXZlcnMvZ3B1L2RybS9p
OTE1L2d2dC9zY2hlZHVsZXIuYzogICBzZy0+ZG1hX2FkZHJlc3MgPSBhZGRyOwpkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2dwdV9lcnJvci5jOiAgc2ctPmRtYV9hZGRyZXNzID0gaXQ7CmRyaXZl
cnMvZ3B1L2RybS90dG0vdHRtX3R0LmM6ICAgdHRtLT5kbWFfYWRkcmVzcyA9ICh2b2lkICopICh0
dG0tPnR0bS5wYWdlcyArIHR0bS0+dHRtLm51bV9wYWdlcyk7CmRyaXZlcnMvZ3B1L2RybS90dG0v
dHRtX3R0LmM6ICAgdHRtLT5kbWFfYWRkcmVzcyA9IGt2bWFsbG9jX2FycmF5KHR0bS0+dHRtLm51
bV9wYWdlcywKZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fdHQuYzogICB0dG1fZG1hLT5kbWFfYWRk
cmVzcyA9IE5VTEw7CmRyaXZlcnMvZ3B1L2RybS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYzog
ICAgICAgICAgICAgdml0ZXItPmRtYV9hZGRyZXNzID0gJl9fdm13X3BpdGVyX3BoeXNfYWRkcjsK
ZHJpdmVycy9ncHUvZHJtL3Ztd2dmeC92bXdnZnhfdHRtX2J1ZmZlci5jOiAgICAgICAgICAgICB2
aXRlci0+ZG1hX2FkZHJlc3MgPSAmX192bXdfcGl0ZXJfZG1hX2FkZHI7CmRyaXZlcnMvZ3B1L2Ry
bS92bXdnZngvdm13Z2Z4X3R0bV9idWZmZXIuYzogICAgICAgICAgICAgdml0ZXItPmRtYV9hZGRy
ZXNzID0gJl9fdm13X3BpdGVyX3NnX2FkZHI7CgpUaGUgMiBjYXNlcyBpbiB0dG1fdHQuYyBhcmUg
aW4gdHRtX2RtYV90dF9hbGxvY19wYWdlX2RpcmVjdG9yeSgpIGFuZAp0dG1fc2dfdHRfYWxsb2Nf
cGFnZV9kaXJlY3RvcnkoKS4KQ29uZmlybWVkIGJ5IGFkZGluZyBwcmludGsoKXMgdGhhdCB0aGV5
J3JlIE5PVCBjYWxsZWQuCgoKLS0gCk9uZHJlaiBaYXJ5Cl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCk5vdXZlYXUgbWFpbGluZyBsaXN0Ck5vdXZlYXVAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vbm91dmVhdQo=
