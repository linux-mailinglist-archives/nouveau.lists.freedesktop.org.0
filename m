Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 68F87568E1
	for <lists+nouveau@lfdr.de>; Wed, 26 Jun 2019 14:28:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C13CE6E3EC;
	Wed, 26 Jun 2019 12:27:59 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from bombadil.infradead.org (bombadil.infradead.org
 [IPv6:2607:7c80:54:e::133])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 952386E3EB;
 Wed, 26 Jun 2019 12:27:57 +0000 (UTC)
Received: from clnet-p19-102.ikbnet.co.at ([83.175.77.102] helo=localhost)
 by bombadil.infradead.org with esmtpsa (Exim 4.92 #3 (Red Hat Linux))
 id 1hg71l-0001QQ-QT; Wed, 26 Jun 2019 12:27:54 +0000
From: Christoph Hellwig <hch@lst.de>
To: Dan Williams <dan.j.williams@intel.com>,
 =?UTF-8?q?J=C3=A9r=C3=B4me=20Glisse?= <jglisse@redhat.com>,
 Jason Gunthorpe <jgg@mellanox.com>, Ben Skeggs <bskeggs@redhat.com>
Date: Wed, 26 Jun 2019 14:27:09 +0200
Message-Id: <20190626122724.13313-11-hch@lst.de>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190626122724.13313-1-hch@lst.de>
References: <20190626122724.13313-1-hch@lst.de>
MIME-Version: 1.0
X-SRS-Rewrite: SMTP reverse-path rewritten from <hch@infradead.org> by
 bombadil.infradead.org. See http://www.infradead.org/rpr.html
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; 
 d=infradead.org; s=bombadil.20170209; h=Content-Transfer-Encoding:
 MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From:Sender
 :Reply-To:Content-Type:Content-ID:Content-Description:Resent-Date:Resent-From
 :Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:
 List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=rtJGcfjUDQlFpvWbHrrX6xK7ULlnRWoqdWy/YtJ84s0=; b=JsU0PRWoaqGs3UQyylIEwmDtdn
 2TemCnUZ66h0rFK9ZysafSXF03WYA9z/emHgo8b6CyUuAvtIgGodgEUSFXvd9srXK0N3Gyr7ROlBx
 bErGCjaOj4Iaq3X2zUgHeTzRcB4pyhFpXsGnR2bEuY/hlS7Wf4MBYVmBc4Zm4/buBbNnp2KSY3tHn
 3VJC6WmHgvAfVbIM5g4LXxoS7dlACia8ntMhn1fWpXgN9XRCge7/U4JYyrVm7KLDaOOMXHhxOOD57
 d1Js7Bb4F9uAiJydcnGC/XehZS0getHOL7CQApbXDT6rGYa2aa7wN10/VDWJV4wj7dts0e6GmZF1k
 RBfdcEFw==;
Subject: [Nouveau] [PATCH 10/25] memremap: pass a struct dev_pagemap to
 ->kill and ->cleanup
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: linux-nvdimm@lists.01.org, linux-pci@vger.kernel.org,
 linux-kernel@vger.kernel.org, dri-devel@lists.freedesktop.org,
 linux-mm@kvack.org, nouveau@lists.freedesktop.org,
 Logan Gunthorpe <logang@deltatee.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

UGFzc2luZyB0aGUgYWN0dWFsIHR5cGVkIHN0cnVjdHVyZSBsZWFkcyB0byBtb3JlIHVuZGVyc3Rh
bmRhYmxlIGNvZGUKdnMganVzdCBwYXNzaW5nIHRoZSByZWYgbWVtYmVyLgoKUmVwb3J0ZWQtYnk6
IExvZ2FuIEd1bnRob3JwZSA8bG9nYW5nQGRlbHRhdGVlLmNvbT4KU2lnbmVkLW9mZi1ieTogQ2hy
aXN0b3BoIEhlbGx3aWcgPGhjaEBsc3QuZGU+ClJldmlld2VkLWJ5OiBMb2dhbiBHdW50aG9ycGUg
PGxvZ2FuZ0BkZWx0YXRlZS5jb20+ClJldmlld2VkLWJ5OiBKYXNvbiBHdW50aG9ycGUgPGpnZ0Bt
ZWxsYW5veC5jb20+ClJldmlld2VkLWJ5OiBEYW4gV2lsbGlhbXMgPGRhbi5qLndpbGxpYW1zQGlu
dGVsLmNvbT4KLS0tCiBkcml2ZXJzL2RheC9kZXZpY2UuYyAgICAgICAgICAgICAgfCAxMiArKysr
KystLS0tLS0KIGRyaXZlcnMvbnZkaW1tL3BtZW0uYyAgICAgICAgICAgICB8IDE4ICsrKysrKysr
Ky0tLS0tLS0tLQogZHJpdmVycy9wY2kvcDJwZG1hLmMgICAgICAgICAgICAgIHwgIDkgKysrKyst
LS0tCiBpbmNsdWRlL2xpbnV4L21lbXJlbWFwLmggICAgICAgICAgfCAgNCArKy0tCiBrZXJuZWwv
bWVtcmVtYXAuYyAgICAgICAgICAgICAgICAgfCAgOCArKysrLS0tLQogbW0vaG1tLmMgICAgICAg
ICAgICAgICAgICAgICAgICAgIHwgMTAgKysrKystLS0tLQogdG9vbHMvdGVzdGluZy9udmRpbW0v
dGVzdC9pb21hcC5jIHwgIDQgKystLQogNyBmaWxlcyBjaGFuZ2VkLCAzMyBpbnNlcnRpb25zKCsp
LCAzMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2RheC9kZXZpY2UuYyBiL2Ry
aXZlcnMvZGF4L2RldmljZS5jCmluZGV4IGYzOTAwODNhNjRkNy4uYjUyNTcwMzhjMTg4IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2RheC9kZXZpY2UuYworKysgYi9kcml2ZXJzL2RheC9kZXZpY2UuYwpA
QCAtMjcsMjEgKzI3LDIxIEBAIHN0YXRpYyB2b2lkIGRldl9kYXhfcGVyY3B1X3JlbGVhc2Uoc3Ry
dWN0IHBlcmNwdV9yZWYgKnJlZikKIAljb21wbGV0ZSgmZGV2X2RheC0+Y21wKTsKIH0KIAotc3Rh
dGljIHZvaWQgZGV2X2RheF9wZXJjcHVfZXhpdChzdHJ1Y3QgcGVyY3B1X3JlZiAqcmVmKQorc3Rh
dGljIHZvaWQgZGV2X2RheF9wZXJjcHVfZXhpdChzdHJ1Y3QgZGV2X3BhZ2VtYXAgKnBnbWFwKQog
ewotCXN0cnVjdCBkZXZfZGF4ICpkZXZfZGF4ID0gcmVmX3RvX2Rldl9kYXgocmVmKTsKKwlzdHJ1
Y3QgZGV2X2RheCAqZGV2X2RheCA9IGNvbnRhaW5lcl9vZihwZ21hcCwgc3RydWN0IGRldl9kYXgs
IHBnbWFwKTsKIAogCWRldl9kYmcoJmRldl9kYXgtPmRldiwgIiVzXG4iLCBfX2Z1bmNfXyk7CiAJ
d2FpdF9mb3JfY29tcGxldGlvbigmZGV2X2RheC0+Y21wKTsKLQlwZXJjcHVfcmVmX2V4aXQocmVm
KTsKKwlwZXJjcHVfcmVmX2V4aXQocGdtYXAtPnJlZik7CiB9CiAKLXN0YXRpYyB2b2lkIGRldl9k
YXhfcGVyY3B1X2tpbGwoc3RydWN0IHBlcmNwdV9yZWYgKnJlZikKK3N0YXRpYyB2b2lkIGRldl9k
YXhfcGVyY3B1X2tpbGwoc3RydWN0IGRldl9wYWdlbWFwICpwZ21hcCkKIHsKLQlzdHJ1Y3QgZGV2
X2RheCAqZGV2X2RheCA9IHJlZl90b19kZXZfZGF4KHJlZik7CisJc3RydWN0IGRldl9kYXggKmRl
dl9kYXggPSBjb250YWluZXJfb2YocGdtYXAsIHN0cnVjdCBkZXZfZGF4LCBwZ21hcCk7CiAKIAlk
ZXZfZGJnKCZkZXZfZGF4LT5kZXYsICIlc1xuIiwgX19mdW5jX18pOwotCXBlcmNwdV9yZWZfa2ls
bChyZWYpOworCXBlcmNwdV9yZWZfa2lsbChwZ21hcC0+cmVmKTsKIH0KIAogc3RhdGljIGludCBj
aGVja192bWEoc3RydWN0IGRldl9kYXggKmRldl9kYXgsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAq
dm1hLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9udmRpbW0vcG1lbS5jIGIvZHJpdmVycy9udmRpbW0v
cG1lbS5jCmluZGV4IGMyNDQ5YWYyYjM4OC4uOWRhYzQ4MzU5MzUzIDEwMDY0NAotLS0gYS9kcml2
ZXJzL252ZGltbS9wbWVtLmMKKysrIGIvZHJpdmVycy9udmRpbW0vcG1lbS5jCkBAIC0zMDMsMjQg
KzMwMywyNCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqcG1lbV9hdHRy
aWJ1dGVfZ3JvdXBzW10gPSB7CiAJTlVMTCwKIH07CiAKLXN0YXRpYyB2b2lkIHBtZW1fcGFnZW1h
cF9jbGVhbnVwKHN0cnVjdCBwZXJjcHVfcmVmICpyZWYpCitzdGF0aWMgdm9pZCBwbWVtX3BhZ2Vt
YXBfY2xlYW51cChzdHJ1Y3QgZGV2X3BhZ2VtYXAgKnBnbWFwKQogewotCXN0cnVjdCByZXF1ZXN0
X3F1ZXVlICpxOworCXN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxID0KKwkJY29udGFpbmVyX29mKHBn
bWFwLT5yZWYsIHN0cnVjdCByZXF1ZXN0X3F1ZXVlLCBxX3VzYWdlX2NvdW50ZXIpOwogCi0JcSA9
IGNvbnRhaW5lcl9vZihyZWYsIHR5cGVvZigqcSksIHFfdXNhZ2VfY291bnRlcik7CiAJYmxrX2Ns
ZWFudXBfcXVldWUocSk7CiB9CiAKLXN0YXRpYyB2b2lkIHBtZW1fcmVsZWFzZV9xdWV1ZSh2b2lk
ICpyZWYpCitzdGF0aWMgdm9pZCBwbWVtX3JlbGVhc2VfcXVldWUodm9pZCAqcGdtYXApCiB7Ci0J
cG1lbV9wYWdlbWFwX2NsZWFudXAocmVmKTsKKwlwbWVtX3BhZ2VtYXBfY2xlYW51cChwZ21hcCk7
CiB9CiAKLXN0YXRpYyB2b2lkIHBtZW1fcGFnZW1hcF9raWxsKHN0cnVjdCBwZXJjcHVfcmVmICpy
ZWYpCitzdGF0aWMgdm9pZCBwbWVtX3BhZ2VtYXBfa2lsbChzdHJ1Y3QgZGV2X3BhZ2VtYXAgKnBn
bWFwKQogewotCXN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxOworCXN0cnVjdCByZXF1ZXN0X3F1ZXVl
ICpxID0KKwkJY29udGFpbmVyX29mKHBnbWFwLT5yZWYsIHN0cnVjdCByZXF1ZXN0X3F1ZXVlLCBx
X3VzYWdlX2NvdW50ZXIpOwogCi0JcSA9IGNvbnRhaW5lcl9vZihyZWYsIHR5cGVvZigqcSksIHFf
dXNhZ2VfY291bnRlcik7CiAJYmxrX2ZyZWV6ZV9xdWV1ZV9zdGFydChxKTsKIH0KIApAQCAtNDM1
LDcgKzQzNSw3IEBAIHN0YXRpYyBpbnQgcG1lbV9hdHRhY2hfZGlzayhzdHJ1Y3QgZGV2aWNlICpk
ZXYsCiAJCW1lbWNweSgmYmJfcmVzLCAmcG1lbS0+cGdtYXAucmVzLCBzaXplb2YoYmJfcmVzKSk7
CiAJfSBlbHNlIHsKIAkJaWYgKGRldm1fYWRkX2FjdGlvbl9vcl9yZXNldChkZXYsIHBtZW1fcmVs
ZWFzZV9xdWV1ZSwKLQkJCQkJJnEtPnFfdXNhZ2VfY291bnRlcikpCisJCQkJCSZwbWVtLT5wZ21h
cCkpCiAJCQlyZXR1cm4gLUVOT01FTTsKIAkJYWRkciA9IGRldm1fbWVtcmVtYXAoZGV2LCBwbWVt
LT5waHlzX2FkZHIsCiAJCQkJcG1lbS0+c2l6ZSwgQVJDSF9NRU1SRU1BUF9QTUVNKTsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvcGNpL3AycGRtYS5jIGIvZHJpdmVycy9wY2kvcDJwZG1hLmMKaW5kZXgg
MTNmMDM4MGE4YzdmLi5lYmQ4Y2UzYmJhMmUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvcGNpL3AycGRt
YS5jCisrKyBiL2RyaXZlcnMvcGNpL3AycGRtYS5jCkBAIC05MCwxNCArOTAsMTUgQEAgc3RhdGlj
IHZvaWQgcGNpX3AycGRtYV9wZXJjcHVfcmVsZWFzZShzdHJ1Y3QgcGVyY3B1X3JlZiAqcmVmKQog
CWNvbXBsZXRlKCZwMnBfcGdtYXAtPnJlZl9kb25lKTsKIH0KIAotc3RhdGljIHZvaWQgcGNpX3Ay
cGRtYV9wZXJjcHVfa2lsbChzdHJ1Y3QgcGVyY3B1X3JlZiAqcmVmKQorc3RhdGljIHZvaWQgcGNp
X3AycGRtYV9wZXJjcHVfa2lsbChzdHJ1Y3QgZGV2X3BhZ2VtYXAgKnBnbWFwKQogewotCXBlcmNw
dV9yZWZfa2lsbChyZWYpOworCXBlcmNwdV9yZWZfa2lsbChwZ21hcC0+cmVmKTsKIH0KIAotc3Rh
dGljIHZvaWQgcGNpX3AycGRtYV9wZXJjcHVfY2xlYW51cChzdHJ1Y3QgcGVyY3B1X3JlZiAqcmVm
KQorc3RhdGljIHZvaWQgcGNpX3AycGRtYV9wZXJjcHVfY2xlYW51cChzdHJ1Y3QgZGV2X3BhZ2Vt
YXAgKnBnbWFwKQogewotCXN0cnVjdCBwMnBkbWFfcGFnZW1hcCAqcDJwX3BnbWFwID0gdG9fcDJw
X3BnbWFwKHJlZik7CisJc3RydWN0IHAycGRtYV9wYWdlbWFwICpwMnBfcGdtYXAgPQorCQljb250
YWluZXJfb2YocGdtYXAsIHN0cnVjdCBwMnBkbWFfcGFnZW1hcCwgcGdtYXApOwogCiAJd2FpdF9m
b3JfY29tcGxldGlvbigmcDJwX3BnbWFwLT5yZWZfZG9uZSk7CiAJcGVyY3B1X3JlZl9leGl0KCZw
MnBfcGdtYXAtPnJlZik7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L21lbXJlbWFwLmggYi9p
bmNsdWRlL2xpbnV4L21lbXJlbWFwLmgKaW5kZXggOTE5NzU1ZjQ4YzdlLi5iODY2NmEwZDg2NjUg
MTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgvbWVtcmVtYXAuaAorKysgYi9pbmNsdWRlL2xpbnV4
L21lbXJlbWFwLmgKQEAgLTc0LDEyICs3NCwxMiBAQCBzdHJ1Y3QgZGV2X3BhZ2VtYXBfb3BzIHsK
IAkvKgogCSAqIFRyYW5zaXRpb24gdGhlIHJlZmNvdW50IGluIHN0cnVjdCBkZXZfcGFnZW1hcCB0
byB0aGUgZGVhZCBzdGF0ZS4KIAkgKi8KLQl2b2lkICgqa2lsbCkoc3RydWN0IHBlcmNwdV9yZWYg
KnJlZik7CisJdm9pZCAoKmtpbGwpKHN0cnVjdCBkZXZfcGFnZW1hcCAqcGdtYXApOwogCiAJLyoK
IAkgKiBXYWl0IGZvciByZWZjb3VudCBpbiBzdHJ1Y3QgZGV2X3BhZ2VtYXAgdG8gYmUgaWRsZSBh
bmQgcmVhcCBpdC4KIAkgKi8KLQl2b2lkICgqY2xlYW51cCkoc3RydWN0IHBlcmNwdV9yZWYgKnJl
Zik7CisJdm9pZCAoKmNsZWFudXApKHN0cnVjdCBkZXZfcGFnZW1hcCAqcGdtYXApOwogfTsKIAog
LyoqCmRpZmYgLS1naXQgYS9rZXJuZWwvbWVtcmVtYXAuYyBiL2tlcm5lbC9tZW1yZW1hcC5jCmlu
ZGV4IDA4MjQyMzdlZjk3OS4uMDBjMWNlYjYwYzE5IDEwMDY0NAotLS0gYS9rZXJuZWwvbWVtcmVt
YXAuYworKysgYi9rZXJuZWwvbWVtcmVtYXAuYwpAQCAtOTIsMTAgKzkyLDEwIEBAIHN0YXRpYyB2
b2lkIGRldm1fbWVtcmVtYXBfcGFnZXNfcmVsZWFzZSh2b2lkICpkYXRhKQogCXVuc2lnbmVkIGxv
bmcgcGZuOwogCWludCBuaWQ7CiAKLQlwZ21hcC0+b3BzLT5raWxsKHBnbWFwLT5yZWYpOworCXBn
bWFwLT5vcHMtPmtpbGwocGdtYXApOwogCWZvcl9lYWNoX2RldmljZV9wZm4ocGZuLCBwZ21hcCkK
IAkJcHV0X3BhZ2UocGZuX3RvX3BhZ2UocGZuKSk7Ci0JcGdtYXAtPm9wcy0+Y2xlYW51cChwZ21h
cC0+cmVmKTsKKwlwZ21hcC0+b3BzLT5jbGVhbnVwKHBnbWFwKTsKIAogCS8qIHBhZ2VzIGFyZSBk
ZWFkIGFuZCB1bnVzZWQsIHVuZG8gdGhlIGFyY2ggbWFwcGluZyAqLwogCWFsaWduX3N0YXJ0ID0g
cmVzLT5zdGFydCAmIH4oU0VDVElPTl9TSVpFIC0gMSk7CkBAIC0yOTQsOCArMjk0LDggQEAgdm9p
ZCAqZGV2bV9tZW1yZW1hcF9wYWdlcyhzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZfcGFn
ZW1hcCAqcGdtYXApCiAgZXJyX3Bmbl9yZW1hcDoKIAlwZ21hcF9hcnJheV9kZWxldGUocmVzKTsK
ICBlcnJfYXJyYXk6Ci0JcGdtYXAtPm9wcy0+a2lsbChwZ21hcC0+cmVmKTsKLQlwZ21hcC0+b3Bz
LT5jbGVhbnVwKHBnbWFwLT5yZWYpOworCXBnbWFwLT5vcHMtPmtpbGwocGdtYXApOworCXBnbWFw
LT5vcHMtPmNsZWFudXAocGdtYXApOwogCXJldHVybiBFUlJfUFRSKGVycm9yKTsKIH0KIEVYUE9S
VF9TWU1CT0xfR1BMKGRldm1fbWVtcmVtYXBfcGFnZXMpOwpkaWZmIC0tZ2l0IGEvbW0vaG1tLmMg
Yi9tbS9obW0uYwppbmRleCA1ODNhMDJhMTY4NzIuLjk4Nzc5M2ZiYTkyMyAxMDA2NDQKLS0tIGEv
bW0vaG1tLmMKKysrIGIvbW0vaG1tLmMKQEAgLTEzNTIsMTggKzEzNTIsMTggQEAgc3RhdGljIHZv
aWQgaG1tX2Rldm1lbV9yZWZfcmVsZWFzZShzdHJ1Y3QgcGVyY3B1X3JlZiAqcmVmKQogCWNvbXBs
ZXRlKCZkZXZtZW0tPmNvbXBsZXRpb24pOwogfQogCi1zdGF0aWMgdm9pZCBobW1fZGV2bWVtX3Jl
Zl9leGl0KHN0cnVjdCBwZXJjcHVfcmVmICpyZWYpCitzdGF0aWMgdm9pZCBobW1fZGV2bWVtX3Jl
Zl9leGl0KHN0cnVjdCBkZXZfcGFnZW1hcCAqcGdtYXApCiB7CiAJc3RydWN0IGhtbV9kZXZtZW0g
KmRldm1lbTsKIAotCWRldm1lbSA9IGNvbnRhaW5lcl9vZihyZWYsIHN0cnVjdCBobW1fZGV2bWVt
LCByZWYpOworCWRldm1lbSA9IGNvbnRhaW5lcl9vZihwZ21hcCwgc3RydWN0IGhtbV9kZXZtZW0s
IHBhZ2VtYXApOwogCXdhaXRfZm9yX2NvbXBsZXRpb24oJmRldm1lbS0+Y29tcGxldGlvbik7Ci0J
cGVyY3B1X3JlZl9leGl0KHJlZik7CisJcGVyY3B1X3JlZl9leGl0KHBnbWFwLT5yZWYpOwogfQog
Ci1zdGF0aWMgdm9pZCBobW1fZGV2bWVtX3JlZl9raWxsKHN0cnVjdCBwZXJjcHVfcmVmICpyZWYp
CitzdGF0aWMgdm9pZCBobW1fZGV2bWVtX3JlZl9raWxsKHN0cnVjdCBkZXZfcGFnZW1hcCAqcGdt
YXApCiB7Ci0JcGVyY3B1X3JlZl9raWxsKHJlZik7CisJcGVyY3B1X3JlZl9raWxsKHBnbWFwLT5y
ZWYpOwogfQogCiBzdGF0aWMgdm1fZmF1bHRfdCBobW1fZGV2bWVtX2ZhdWx0KHN0cnVjdCB2bV9h
cmVhX3N0cnVjdCAqdm1hLApkaWZmIC0tZ2l0IGEvdG9vbHMvdGVzdGluZy9udmRpbW0vdGVzdC9p
b21hcC5jIGIvdG9vbHMvdGVzdGluZy9udmRpbW0vdGVzdC9pb21hcC5jCmluZGV4IGNmM2YwNjRh
Njk3ZC4uODJmOTAxNTY5ZTA2IDEwMDY0NAotLS0gYS90b29scy90ZXN0aW5nL252ZGltbS90ZXN0
L2lvbWFwLmMKKysrIGIvdG9vbHMvdGVzdGluZy9udmRpbW0vdGVzdC9pb21hcC5jCkBAIC0xMDIs
OCArMTAyLDggQEAgc3RhdGljIHZvaWQgbmZpdF90ZXN0X2tpbGwodm9pZCAqX3BnbWFwKQogCiAJ
V0FSTl9PTighcGdtYXAgfHwgIXBnbWFwLT5yZWYgfHwgIXBnbWFwLT5vcHMgfHwgIXBnbWFwLT5v
cHMtPmtpbGwgfHwKIAkJIXBnbWFwLT5vcHMtPmNsZWFudXApOwotCXBnbWFwLT5vcHMtPmtpbGwo
cGdtYXAtPnJlZik7Ci0JcGdtYXAtPm9wcy0+Y2xlYW51cChwZ21hcC0+cmVmKTsKKwlwZ21hcC0+
b3BzLT5raWxsKHBnbWFwKTsKKwlwZ21hcC0+b3BzLT5jbGVhbnVwKHBnbWFwKTsKIH0KIAogdm9p
ZCAqX193cmFwX2Rldm1fbWVtcmVtYXBfcGFnZXMoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qg
ZGV2X3BhZ2VtYXAgKnBnbWFwKQotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpOb3V2ZWF1IG1haWxpbmcgbGlzdApOb3V2ZWF1QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL25vdXZlYXU=
