Return-Path: <nouveau-bounces@lists.freedesktop.org>
X-Original-To: lists+nouveau@lfdr.de
Delivered-To: lists+nouveau@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 19212B492E
	for <lists+nouveau@lfdr.de>; Tue, 17 Sep 2019 10:21:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 91D5A6EB54;
	Tue, 17 Sep 2019 08:21:01 +0000 (UTC)
X-Original-To: nouveau@lists.freedesktop.org
Delivered-To: nouveau@lists.freedesktop.org
Received: from mail-ua1-x943.google.com (mail-ua1-x943.google.com
 [IPv6:2607:f8b0:4864:20::943])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2104E6EB54
 for <nouveau@lists.freedesktop.org>; Tue, 17 Sep 2019 08:21:01 +0000 (UTC)
Received: by mail-ua1-x943.google.com with SMTP id j5so799076uak.12
 for <nouveau@lists.freedesktop.org>; Tue, 17 Sep 2019 01:21:01 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=d2+Xi60TQeZYYYx25HnK1bVcdqYP/cvxqVv9gare0ZE=;
 b=XWNbuQ3yE99Be08haRdwJ4PMS4j+EP9BSCHz4IFL5YXe47VUgOJ5pqPWh7NYgHiPnt
 RDWxtmt5WpdXYaXlVRo/WgmUcHHrMhXgvl5GLYw1vO+Yo8wcHEaEQoQL4CqlAwDAbUtm
 Wz5R2JIZwPxoP85LZJcRqDiESK6QRpfxyzrtAtlWYWhQhOnKBhw7q0w19LcpL7lbnuHA
 d2/o59A7rYl/MNgRdxEY70Vn/UKXdHuzLiPHBUXqyRlHlTNVocHhSPVuw/fl/o0OtNcV
 oToneA/n7kpcEITRRaU60CKzRMdQRn4ycE9j92yh+i7gTFQXV54nW2yjj591ttCS3uxM
 Nglw==
X-Gm-Message-State: APjAAAXrtcEQ+R01iRcd6vcNFgxvysadOcDQXIufSCiQkPvZBCHwVqfi
 yxDPGl4fclKP+VHkkuAMgZEJn5Mik3YXd/lEvJOwng==
X-Google-Smtp-Source: APXvYqy1vqg9yuzCHu1yBG5kPpekdEkQmy4awznxWnoIgMROG+StW80JZAqkYnECujw8qD67URvMY6p+Nil6lz/TyDY=
X-Received: by 2002:ab0:2785:: with SMTP id t5mr1104675uap.11.1568708459995;
 Tue, 17 Sep 2019 01:20:59 -0700 (PDT)
MIME-Version: 1.0
References: <20190913113306.20972-1-kherbst@redhat.com>
 <20190913113306.20972-4-kherbst@redhat.com>
 <CACAvsv4gP5rX2K9pCx2TSHtgAGbqPfYYMA05TgRZkAKXb3RMow@mail.gmail.com>
 <CACO55tsU1hHz=KxP392vkJ8NZRtY5cGx+t51jOVwTNdftHyUzQ@mail.gmail.com>
In-Reply-To: <CACO55tsU1hHz=KxP392vkJ8NZRtY5cGx+t51jOVwTNdftHyUzQ@mail.gmail.com>
From: Ben Skeggs <skeggsb@gmail.com>
Date: Tue, 17 Sep 2019 18:20:48 +1000
Message-ID: <CACAvsv7a2O8Z1A6czhr6-eTUy0qa5n6Xen4atzrbTEZAq0mkTg@mail.gmail.com>
To: Karol Herbst <kherbst@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=d2+Xi60TQeZYYYx25HnK1bVcdqYP/cvxqVv9gare0ZE=;
 b=VMTDKyL7o9gxPRrHss72qoH+c3YOmyq3jo948TsuJvcauSxAtWFcmHKkhSvfIJDBNZ
 N3+SYQaWPD/4Yom8EEhLcaISzFV4E0xCemU8NLTYGNDW/mShMmIp3r59kl1TG3xfJ8u8
 5oKKfBWyjn/OdW1uOBUpOBnSh0L5hhuw55JsiOFL6Ag029hp5QbFKiemp7Vk8hBEhqgh
 emKdkNj7xFI7N0LsXkbBsL8Vva3wzaJb0Cvsa1OWu2SGo291UIVSGhnsnUtBsga+L5ga
 zC9b/tBCam7YxAQIc/78Li1Lk1fvoltHuc3jYrflgG9WG3SKSBZaLtVOIYbXmN9DXVOd
 ciLA==
Subject: Re: [Nouveau] [PATCH v4 3/4] pci: set the pcie link speed to 8.0
 when suspending
X-BeenThere: nouveau@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Nouveau development list <nouveau.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/nouveau>
List-Post: <mailto:nouveau@lists.freedesktop.org>
List-Help: <mailto:nouveau-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/nouveau>,
 <mailto:nouveau-request@lists.freedesktop.org?subject=subscribe>
Cc: ML nouveau <nouveau@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: nouveau-bounces@lists.freedesktop.org
Sender: "Nouveau" <nouveau-bounces@lists.freedesktop.org>

T24gVHVlLCAxNyBTZXAgMjAxOSBhdCAxODowNywgS2Fyb2wgSGVyYnN0IDxraGVyYnN0QHJlZGhh
dC5jb20+IHdyb3RlOgo+Cj4gT24gVHVlLCBTZXAgMTcsIDIwMTkgYXQgODowMSBBTSBCZW4gU2tl
Z2dzIDxza2VnZ3NiQGdtYWlsLmNvbT4gd3JvdGU6Cj4gPgo+ID4gT24gRnJpLCAxMyBTZXAgMjAx
OSBhdCAyMTozMywgS2Fyb2wgSGVyYnN0IDxraGVyYnN0QHJlZGhhdC5jb20+IHdyb3RlOgo+ID4g
Pgo+ID4gPiBBcHBlcmFudGx5IHRoaW5ncyBnbyBzb3V0aCBpZiB3ZSBzdXNwZW5kIHRoZSBkZXZp
Y2Ugd2l0aCBhIFBDSWUgbGluayBzcGVlZAo+ID4gPiBzZXQgdG8gMi41LiBGaXhlcyBydW50aW1l
IHN1c3BlbmQgb24gbXkgZ3AxMDcuCj4gPiA+Cj4gPiA+IFRoaXMgYWxsIGxvb2tzIGxpa2Ugc29t
ZSBidWcgaW5zaWRlIHRoZSBwY2kgc3Vic3lzdGVtIGFuZCBJIHdvdWxkIHByZWZlciBhCj4gPiA+
IGZpeCB0aGVyZSBpbnN0ZWFkIG9mIG5vdXZlYXUsIGJ1dCBtYXliZSB0aGVyZSBpcyBubyByZWFs
IG5pY2Ugd2F5IG9mIGRvaW5nCj4gPiA+IHRoYXQgb3V0c2lkZSBvZiBkcml2ZXJzPwo+ID4gPgo+
ID4gPiB2Mjogc3F1YXNoZWQgdG9nZXRoZXIgcGF0Y2ggNCBhbmQgNQo+ID4gPiB2Mzogb25seSBy
ZXN0b3JlIHBjaWUgc3BlZWQgb24gbWFjaGluZXMgd2l0aCBydW5wbQo+ID4gPiAgICAgYWRkIE52
UnVucG1Xb3JrYXJvdW5kIGNvbmZpZyBvcHRpb24gdG8gZGlzYWJsZSB0aGUgd29ya2Fyb3VuZAo+
ID4gPiB2NDogb25seSBydW4gdGhlIGNvZGUgb24gc3VzcGVuZAo+ID4gPiAgICAgYWx3YXlzIHB1
dCB0aGUgY2FyZCBpbnRvIDguMCBtb2RlLCBub3Qgd2hhdCBub3V2ZWF1IGRldGVjdGVkIG9uIGxv
YWQKPiA+IFdoeSB0aGlzIGNoYW5nZT8KPgo+IG1vZHByb2JlIG5vdXZlYXUKPiBybW1vZCBub3V2
ZWF1Cj4gbW9kcHJvYmUgbm91dmVhdSAoc2F2ZWQgMi41IGFzIHRoZSAiYm9vdCIgc3BlZWQpCj4g
cnVucG0gYnJlYWtzLgpHaXZlbiB0aGF0IHRoaXMgaXMgbW9yZSB0aGFuIGxpa2VseSBhIGhhY2sv
d29ya2Fyb3VuZCBmb3IgYW5vdGhlcgppc3N1ZSB0byBiZWdpbiB3aXRoLCB0aGF0IGlzbid0IHRo
ZSBlbmQgb2YgdGhlIHdvcmxkLgoKPgo+IE1haW5seSBJIGRvbid0IGFjdHVhbGx5IHdhbnQgdG8g
ZGVwZW5kIG9uIHRoZSBpbml0aWFsIHN0YXRlIGFzIHdlCj4gbG93ZXIgdG8gMi41LzUuMCBkZXBl
bmRpbmcgb24gd2hhdCB3ZSBxdWVyaWVkIGlzIHBvc3NpYmxlIGFuZCBub3QKPiB1c2luZyAyLjUg
aXMgYWN0dWFsbHkgdGhlIGZpeCwgbm90IHVzZSB3aGF0ZXZlciB0aGUgR1BVIGJvb3RlZCB3aXRo
LgpJcyA4IGF2YWlsYWJsZSBldmVyeXdoZXJlIHdlJ3JlIGdvaW5nIHRvIGJlIHVzaW5nIHRoaXM/
Cgo+Cj4gPiBBbHNvLCBJIGtub3cgd2UgZG9uJ3QgY3VycmVudGx5IHRvdWNoIGl0LCBidXQgd2hh
dAo+ID4gaWYgeDE2IGlzbid0IGF2YWlsYWJsZSBvbiBzb21lIHN5c3RlbXMgYW5kIHdlIGJyZWFr
IHN0dWZmIHdoZW4gd2UgZG8KPiA+IHN0YXJ0IHBsYXlpbmcgd2l0aCBsaW5rIHdpZHRoPwo+ID4K
Pgo+IEkgdGhpbmsgaWYgd2UgYWRkIGNvZGUgZm9yIHRoZSB3aWR0aCwgd2Ugd291bGQgYWRkIGEg
bWF4aW11bSB3aWR0aAo+IGRldGVjdGlvbiBhcyB3ZWxsIGFzIHdlIGRvIGZvciB0aGUgbGluayBz
cGVlZC4KPgo+ID4gPgo+ID4gPiBTaWduZWQtb2ZmLWJ5OiBLYXJvbCBIZXJic3QgPGtoZXJic3RA
cmVkaGF0LmNvbT4KPiA+ID4gUmV2aWV3ZWQtYnk6IEx5dWRlIFBhdWwgPGx5dWRlQHJlZGhhdC5j
b20+ICh2MikKPiA+ID4gLS0tCj4gPiA+ICBkcm0vbm91dmVhdS9pbmNsdWRlL252a20vY29yZS9k
ZXZpY2UuaCB8ICAyICsrCj4gPiA+ICBkcm0vbm91dmVhdS9pbmNsdWRlL252a20vc3ViZGV2L3Bj
aS5oICB8ICAzICsrLQo+ID4gPiAgZHJtL25vdXZlYXUvbm91dmVhdV9kcm0uYyAgICAgICAgICAg
ICAgfCAgMSArCj4gPiA+ICBkcm0vbm91dmVhdS9udmttL3N1YmRldi9jbGsvYmFzZS5jICAgICB8
ICAyICstCj4gPiA+ICBkcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvYmFzZS5jICAgICB8ICAy
ICsrCj4gPiA+ICBkcm0vbm91dmVhdS9udmttL3N1YmRldi9wY2kvcGNpZS5jICAgICB8IDI3ICsr
KysrKysrKysrKysrKysrKysrKystLS0tCj4gPiA+ICBkcm0vbm91dmVhdS9udmttL3N1YmRldi9w
Y2kvcHJpdi5oICAgICB8ICAxICsKPiA+ID4gIDcgZmlsZXMgY2hhbmdlZCwgMzIgaW5zZXJ0aW9u
cygrKSwgNiBkZWxldGlvbnMoLSkKPiA+ID4KPiA+ID4gZGlmZiAtLWdpdCBhL2RybS9ub3V2ZWF1
L2luY2x1ZGUvbnZrbS9jb3JlL2RldmljZS5oIGIvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL2Nv
cmUvZGV2aWNlLmgKPiA+ID4gaW5kZXggNmQ1NWNkMDQ3Li40ZmIzZjk3MmYgMTAwNjQ0Cj4gPiA+
IC0tLSBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL2RldmljZS5oCj4gPiA+ICsrKyBi
L2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9jb3JlL2RldmljZS5oCj4gPiA+IEBAIC0xMjUsNiAr
MTI1LDggQEAgc3RydWN0IG52a21fZGV2aWNlIHsKPiA+ID4gICAgICAgICB1OCAgY2hpcHJldjsK
PiA+ID4gICAgICAgICB1MzIgY3J5c3RhbDsKPiA+ID4KPiA+ID4gKyAgICAgICBib29sIGhhc19y
dW5wbTsKPiA+ID4gKwo+ID4gPiAgICAgICAgIHN0cnVjdCB7Cj4gPiA+ICAgICAgICAgICAgICAg
ICBzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgbmI7Cj4gPiA+ICAgICAgICAgfSBhY3BpOwo+ID4gPiBk
aWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL3N1YmRldi9wY2kuaCBiL2RybS9u
b3V2ZWF1L2luY2x1ZGUvbnZrbS9zdWJkZXYvcGNpLmgKPiA+ID4gaW5kZXggYjI5MTAxZTQ4Li43
MjQ1NTEzZDkgMTAwNjQ0Cj4gPiA+IC0tLSBhL2RybS9ub3V2ZWF1L2luY2x1ZGUvbnZrbS9zdWJk
ZXYvcGNpLmgKPiA+ID4gKysrIGIvZHJtL25vdXZlYXUvaW5jbHVkZS9udmttL3N1YmRldi9wY2ku
aAo+ID4gPiBAQCAtNTIsNiArNTIsNyBAQCBpbnQgZ2sxMDRfcGNpX25ldyhzdHJ1Y3QgbnZrbV9k
ZXZpY2UgKiwgaW50LCBzdHJ1Y3QgbnZrbV9wY2kgKiopOwo+ID4gPiAgaW50IGdwMTAwX3BjaV9u
ZXcoc3RydWN0IG52a21fZGV2aWNlICosIGludCwgc3RydWN0IG52a21fcGNpICoqKTsKPiA+ID4K
PiA+ID4gIC8qIHBjaWUgZnVuY3Rpb25zICovCj4gPiA+IC1pbnQgbnZrbV9wY2llX3NldF9saW5r
KHN0cnVjdCBudmttX3BjaSAqLCBlbnVtIG52a21fcGNpZV9zcGVlZCwgdTggd2lkdGgpOwo+ID4g
PiAraW50IG52a21fcGNpZV9zZXRfbGluayhzdHJ1Y3QgbnZrbV9wY2kgKiwgZW51bSBudmttX3Bj
aWVfc3BlZWQsIHU4IHdpZHRoLAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgIGJvb2wgc2F2
ZSk7Cj4gPiA+ICBlbnVtIG52a21fcGNpZV9zcGVlZCBudmttX3BjaWVfZ2V0X3NwZWVkKHN0cnVj
dCBudmttX3BjaSAqKTsKPiA+ID4gICNlbmRpZgo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJtL25vdXZl
YXUvbm91dmVhdV9kcm0uYyBiL2RybS9ub3V2ZWF1L25vdXZlYXVfZHJtLmMKPiA+ID4gaW5kZXgg
M2QzMmFmZThhLi43OGQ1NWM1MjUgMTAwNjQ0Cj4gPiA+IC0tLSBhL2RybS9ub3V2ZWF1L25vdXZl
YXVfZHJtLmMKPiA+ID4gKysrIGIvZHJtL25vdXZlYXUvbm91dmVhdV9kcm0uYwo+ID4gPiBAQCAt
Njc2LDYgKzY3Niw3IEBAIHN0YXRpYyBpbnQgbm91dmVhdV9kcm1fcHJvYmUoc3RydWN0IHBjaV9k
ZXYgKnBkZXYsCj4gPiA+Cj4gPiA+ICAgICAgICAgaWYgKG5vdXZlYXVfYXRvbWljKQo+ID4gPiAg
ICAgICAgICAgICAgICAgZHJpdmVyX3BjaS5kcml2ZXJfZmVhdHVyZXMgfD0gRFJJVkVSX0FUT01J
QzsKPiA+ID4gKyAgICAgICBkZXZpY2UtPmhhc19ydW5wbSA9IG5vdXZlYXVfcG1vcHNfcnVudGlt
ZSgpOwo+ID4gPgo+ID4gPiAgICAgICAgIGRybV9kZXYgPSBkcm1fZGV2X2FsbG9jKCZkcml2ZXJf
cGNpLCAmcGRldi0+ZGV2KTsKPiA+ID4gICAgICAgICBpZiAoSVNfRVJSKGRybV9kZXYpKSB7Cj4g
PiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1YmRldi9jbGsvYmFzZS5jIGIvZHJt
L25vdXZlYXUvbnZrbS9zdWJkZXYvY2xrL2Jhc2UuYwo+ID4gPiBpbmRleCBiYTZhODY4ZDQuLmUz
MGU3NzQ1MyAxMDA2NDQKPiA+ID4gLS0tIGEvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvY2xrL2Jh
c2UuYwo+ID4gPiArKysgYi9kcm0vbm91dmVhdS9udmttL3N1YmRldi9jbGsvYmFzZS5jCj4gPiA+
IEBAIC0yNzcsNyArMjc3LDcgQEAgbnZrbV9wc3RhdGVfcHJvZyhzdHJ1Y3QgbnZrbV9jbGsgKmNs
aywgaW50IHBzdGF0ZWkpCj4gPiA+ICAgICAgICAgbnZrbV9kZWJ1ZyhzdWJkZXYsICJzZXR0aW5n
IHBlcmZvcm1hbmNlIHN0YXRlICVkXG4iLCBwc3RhdGVpKTsKPiA+ID4gICAgICAgICBjbGstPnBz
dGF0ZSA9IHBzdGF0ZWk7Cj4gPiA+Cj4gPiA+IC0gICAgICAgbnZrbV9wY2llX3NldF9saW5rKHBj
aSwgcHN0YXRlLT5wY2llX3NwZWVkLCBwc3RhdGUtPnBjaWVfd2lkdGgpOwo+ID4gPiArICAgICAg
IG52a21fcGNpZV9zZXRfbGluayhwY2ksIHBzdGF0ZS0+cGNpZV9zcGVlZCwgcHN0YXRlLT5wY2ll
X3dpZHRoLCB0cnVlKTsKPiA+ID4KPiA+ID4gICAgICAgICBpZiAoZmIgJiYgZmItPnJhbSAmJiBm
Yi0+cmFtLT5mdW5jLT5jYWxjKSB7Cj4gPiA+ICAgICAgICAgICAgICAgICBzdHJ1Y3QgbnZrbV9y
YW0gKnJhbSA9IGZiLT5yYW07Cj4gPiA+IGRpZmYgLS1naXQgYS9kcm0vbm91dmVhdS9udmttL3N1
YmRldi9wY2kvYmFzZS5jIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYwo+ID4g
PiBpbmRleCBlZTI0MzFhNzguLmM5YjYwZWY3NiAxMDA2NDQKPiA+ID4gLS0tIGEvZHJtL25vdXZl
YXUvbnZrbS9zdWJkZXYvcGNpL2Jhc2UuYwo+ID4gPiArKysgYi9kcm0vbm91dmVhdS9udmttL3N1
YmRldi9wY2kvYmFzZS5jCj4gPiA+IEBAIC05MCw2ICs5MCw4IEBAIG52a21fcGNpX2Zpbmkoc3Ry
dWN0IG52a21fc3ViZGV2ICpzdWJkZXYsIGJvb2wgc3VzcGVuZCkKPiA+ID4KPiA+ID4gICAgICAg
ICBpZiAocGNpLT5hZ3AuYnJpZGdlKQo+ID4gPiAgICAgICAgICAgICAgICAgbnZrbV9hZ3BfZmlu
aShwY2kpOwo+ID4gPiArICAgICAgIGVsc2UgaWYgKHBjaV9pc19wY2llKHBjaS0+cGRldikpCj4g
PiA+ICsgICAgICAgICAgICAgICBudmttX3BjaWVfZmluaShwY2ksIHN1c3BlbmQpOwo+ID4gPgo+
ID4gPiAgICAgICAgIHJldHVybiAwOwo+ID4gPiAgfQo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJtL25v
dXZlYXUvbnZrbS9zdWJkZXYvcGNpL3BjaWUuYyBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3Bj
aS9wY2llLmMKPiA+ID4gaW5kZXggYjQyMDNmZjFhLi41Y2FiNGEyNDAgMTAwNjQ0Cj4gPiA+IC0t
LSBhL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9wY2llLmMKPiA+ID4gKysrIGIvZHJtL25v
dXZlYXUvbnZrbS9zdWJkZXYvcGNpL3BjaWUuYwo+ID4gPiBAQCAtMjMsNiArMjMsOCBAQAo+ID4g
PiAgICovCj4gPiA+ICAjaW5jbHVkZSAicHJpdi5oIgo+ID4gPgo+ID4gPiArI2luY2x1ZGUgPGNv
cmUvb3B0aW9uLmg+Cj4gPiA+ICsKPiA+ID4gIHN0YXRpYyBjaGFyICpudmttX3BjaWVfc3BlZWRz
W10gPSB7Cj4gPiA+ICAgICAgICAgIjIuNUdUL3MiLAo+ID4gPiAgICAgICAgICI1LjBHVC9zIiwK
PiA+ID4gQEAgLTEwNiwxMSArMTA4LDI1IEBAIG52a21fcGNpZV9pbml0KHN0cnVjdCBudmttX3Bj
aSAqcGNpKQo+ID4gPiAgICAgICAgICAgICAgICAgcGNpLT5mdW5jLT5wY2llLmluaXQocGNpKTsK
PiA+ID4KPiA+ID4gICAgICAgICBpZiAocGNpLT5wY2llLnNwZWVkICE9IC0xKQo+ID4gPiAtICAg
ICAgICAgICAgICAgbnZrbV9wY2llX3NldF9saW5rKHBjaSwgcGNpLT5wY2llLnNwZWVkLCBwY2kt
PnBjaWUud2lkdGgpOwo+ID4gPiArICAgICAgICAgICAgICAgbnZrbV9wY2llX3NldF9saW5rKHBj
aSwgcGNpLT5wY2llLnNwZWVkLAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHBjaS0+cGNpZS53aWR0aCwgZmFsc2UpOwo+ID4gPgo+ID4gPiAgICAgICAgIHJldHVybiAw
Owo+ID4gPiAgfQo+ID4gPgo+ID4gPiAraW50Cj4gPiA+ICtudmttX3BjaWVfZmluaShzdHJ1Y3Qg
bnZrbV9wY2kgKnBjaSwgYm9vbCBzdXNwZW5kKQo+ID4gPiArewo+ID4gPiArICAgICAgIHN0cnVj
dCBudmttX2RldmljZSAqZGV2aWNlID0gcGNpLT5zdWJkZXYuZGV2aWNlOwo+ID4gPiArICAgICAg
IGlmICghZGV2aWNlLT5oYXNfcnVucG0gfHwgIXN1c3BlbmQpCj4gPiA+ICsgICAgICAgICAgICAg
ICByZXR1cm4gMDsKPiA+ID4gKwo+ID4gPiArICAgICAgIGlmICghbnZrbV9ib29sb3B0KGRldmlj
ZS0+Y2Znb3B0LCAiTnZSdW5wbVdvcmthcm91bmQiLCB0cnVlKSkKPiA+ID4gKyAgICAgICAgICAg
ICAgIHJldHVybiAwOwo+ID4gPiArCj4gPiA+ICsgICAgICAgcmV0dXJuIG52a21fcGNpZV9zZXRf
bGluayhwY2ksIE5WS01fUENJRV9TUEVFRF84XzAsIDE2LCBmYWxzZSk7Cj4gPiA+ICt9Cj4gPiA+
ICsKPiA+ID4gIHZvaWQKPiA+ID4gIG52a21fcGNpZV9mb3JjZV9hc3BtX29mZihzdHJ1Y3QgbnZr
bV9wY2kgKnBjaSwgYm9vbCBzdGF0dXMpCj4gPiA+ICB7Cj4gPiA+IEBAIC0xMjAsNyArMTM2LDgg
QEAgbnZrbV9wY2llX2ZvcmNlX2FzcG1fb2ZmKHN0cnVjdCBudmttX3BjaSAqcGNpLCBib29sIHN0
YXR1cykKPiA+ID4gIH0KPiA+ID4KPiA+ID4gIGludAo+ID4gPiAtbnZrbV9wY2llX3NldF9saW5r
KHN0cnVjdCBudmttX3BjaSAqcGNpLCBlbnVtIG52a21fcGNpZV9zcGVlZCBzcGVlZCwgdTggd2lk
dGgpCj4gPiA+ICtudmttX3BjaWVfc2V0X2xpbmsoc3RydWN0IG52a21fcGNpICpwY2ksIGVudW0g
bnZrbV9wY2llX3NwZWVkIHNwZWVkLCB1OCB3aWR0aCwKPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICBib29sIHNhdmUpCj4gPiA+ICB7Cj4gPiA+ICAgICAgICAgc3RydWN0IG52a21fc3ViZGV2ICpz
dWJkZXYgPSAmcGNpLT5zdWJkZXY7Cj4gPiA+ICAgICAgICAgZW51bSBudmttX3BjaWVfc3BlZWQg
Y3VyX3NwZWVkLCBtYXhfc3BlZWQ7Cj4gPiA+IEBAIC0xNTQsOCArMTcxLDEwIEBAIG52a21fcGNp
ZV9zZXRfbGluayhzdHJ1Y3QgbnZrbV9wY2kgKnBjaSwgZW51bSBudmttX3BjaWVfc3BlZWQgc3Bl
ZWQsIHU4IHdpZHRoKQo+ID4gPiAgICAgICAgICAgICAgICAgc3BlZWQgPSBtYXhfc3BlZWQ7Cj4g
PiA+ICAgICAgICAgfQo+ID4gPgo+ID4gPiAtICAgICAgIHBjaS0+cGNpZS5zcGVlZCA9IHNwZWVk
Owo+ID4gPiAtICAgICAgIHBjaS0+cGNpZS53aWR0aCA9IHdpZHRoOwo+ID4gPiArICAgICAgIGlm
IChzYXZlKSB7Cj4gPiA+ICsgICAgICAgICAgICAgICBwY2ktPnBjaWUuc3BlZWQgPSBzcGVlZDsK
PiA+ID4gKyAgICAgICAgICAgICAgIHBjaS0+cGNpZS53aWR0aCA9IHdpZHRoOwo+ID4gPiArICAg
ICAgIH0KPiA+ID4KPiA+ID4gICAgICAgICBpZiAoc3BlZWQgPT0gY3VyX3NwZWVkKSB7Cj4gPiA+
ICAgICAgICAgICAgICAgICBudmttX2RlYnVnKHN1YmRldiwgInJlcXVlc3RlZCBtYXRjaGVzIGN1
cnJlbnQgc3BlZWRcbiIpOwo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJtL25vdXZlYXUvbnZrbS9zdWJk
ZXYvcGNpL3ByaXYuaCBiL2RybS9ub3V2ZWF1L252a20vc3ViZGV2L3BjaS9wcml2LmgKPiA+ID4g
aW5kZXggODJjNzhiZWZhLi42YmVhMzdjMTUgMTAwNjQ0Cj4gPiA+IC0tLSBhL2RybS9ub3V2ZWF1
L252a20vc3ViZGV2L3BjaS9wcml2LmgKPiA+ID4gKysrIGIvZHJtL25vdXZlYXUvbnZrbS9zdWJk
ZXYvcGNpL3ByaXYuaAo+ID4gPiBAQCAtNjMsNCArNjMsNSBAQCBpbnQgZ2sxMDRfcGNpZV92ZXJz
aW9uX3N1cHBvcnRlZChzdHJ1Y3QgbnZrbV9wY2kgKik7Cj4gPiA+Cj4gPiA+ICBpbnQgbnZrbV9w
Y2llX29uZWluaXQoc3RydWN0IG52a21fcGNpICopOwo+ID4gPiAgaW50IG52a21fcGNpZV9pbml0
KHN0cnVjdCBudmttX3BjaSAqKTsKPiA+ID4gK2ludCBudmttX3BjaWVfZmluaShzdHJ1Y3QgbnZr
bV9wY2kgKiwgYm9vbCBzdXNwZW5kKTsKPiA+ID4gICNlbmRpZgo+ID4gPiAtLQo+ID4gPiAyLjIx
LjAKPiA+ID4KPiA+ID4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KPiA+ID4gTm91dmVhdSBtYWlsaW5nIGxpc3QKPiA+ID4gTm91dmVhdUBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKPiA+ID4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9ub3V2ZWF1Cj4KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KTm91dmVhdSBtYWlsaW5nIGxpc3QKTm91dmVhdUBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9ub3V2ZWF1
